

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Ondřej Žižka</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="My personal web">
    <meta name="author" content="Ondřej Žižka">
    <meta name="generator" content="JBake">


    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/asciidoctor.css">
    <link rel="stylesheet" href="css/doc-body.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/prettify.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
</head>
<body onload="prettyPrint()">
    <div id="wrap">

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://www.zizka.ch/">Ondřej Žižka</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="index.html">Blog</a></li>
            <li><a href="archive.html">Archive</a></li>
            <li><a href="tags">Tags</a></li>

            <li><a href="about.html">About Me</a></li>
            <li><a href="feed.xml">RSS feed</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">

    <div id="banner"></div>

	<div class="page-header">
		<h2>Recent posts</h2>
	</div>


        <div class="document-list recent">
                <div class="document post">
                    <div class="date"><span>2050-01-01</span></div>

                    <a href="blog/2018/07-25-site-work-in-progress.html"><h2 class="title">Work on this site in progress</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-work-on-this-site-in-progress">Work on this site in progress</h2> 
<p>After about a year offline, the site was just re-born from the former platform.<br> The current solution still has a few annoyances, but I'm fixing it&nbsp;:)</p> 
<p>The most important thing is so sort out the pages that I&nbsp;brought from the former site.<br> That needs me to implement auto-generated directory indexes in the JBake platform this uses.<br> Until then, the blog below will contain all&nbsp;pages.</p> 
<p>Another thing is the duplicated titles. That will go away&nbsp;soon.</p>
                    </div>
                    ... <a href="blog/2018/07-25-site-work-in-progress.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC4_0782.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/linux/dojmy_z_ubuntu_8.html"><h2 class="title">Dojmy z Ubuntu 8 – Hardy
Heron</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-dojmy-z-ubuntu-8-hardy-heron">Dojmy z&nbsp;Ubuntu 8&nbsp;– Hardy Heron</h2> 
<p><em>Update: Čtvrt roku poté&nbsp;– čtěte na konci.</em></p> 
<p>Již delší dobu zkouším proniknout do světa linuxu&nbsp;– až podezřele moc mých známých jej postupně začínalo opěvovat.</p> 
<p>Kdysi jsem zkoušel Knoppix, ale upřímně řečeno, nějak to nebylo ono. Příliš nestabilní a netransparentní.</p> 
<p>Potom mi kamarád na notebook, který mi prodával, nainstaloval Gentoo. Pro nováčka v&nbsp;linuxu to také moc dobrá volba nebyla. Nechal mi na linux 20&nbsp;GB z&nbsp;disku a když jsem chtěl nainstalovat standardní aplikace (asi Mozillu, OpenOffice atd), vše se chtělo překládat, ale během překladu došlo na disku místo a systém emerge se sesypal do nenávratného&nbsp;stavu.</p> 
<p>Potom přišlo Ubuntu. Nevím přesně, kdy jsem si ho všimnul, tuším že u&nbsp;verze 5&nbsp;a nainstaloval jsem šestku. Jelikož jsem to zkoušel na notebooku, nikdy jsem nedokázal vypnout LCD notebooku Acer TravelMate 8080&nbsp;s&nbsp;ATI Radeon 9600&nbsp;a obraz přesměrovat na LCD monitor 1600&nbsp;×&nbsp;1200&nbsp;– a to jsem zkoušel všelicos vždy až do totálního rozpadu X serveru&nbsp;:-)</p> 
<p>Ve verzi 7 (Gutsy Gibon) již byla jakási grafická utilita, která měla být GUI pro nastavení monitorů a rozlišení, ale ani ta si s&nbsp;touto konfigurací neporadila.</p> 
<p>Přelomem pro mě byla verze 8 (Hardy Heroin), ale nikoliv proto, že bych v&nbsp;ní již dokázal přesměrovat výstup grafiky, ale protože jsem si koupil desktop :-) Do něj jsem dal starší disk, co se válel v&nbsp;<a href="/pages/osobni/prodavam_shanim.html">počítači, který jsem prodal</a> <a href="http://www.steigl.com/">spolubydlovi</a>, a na jeho posledních asi 30&nbsp;GB šlo Ubuntu.</p> 
<h3 id="toc-spokojenost">Spokojenost</h3> 
<p>Musím říci, že Ubuntu již dospělo do stavu, kdy i&nbsp;člověk jako já, který neprahne po tom, aby si vše kompiloval, nastavoval v&nbsp;texťácích a podobně, jej zvládne bez problémů nejen používat, ale i&nbsp;spravovat.</p> 
<p>Zásluhu na tom má především vynikající integrace. Na úpravě Gnome je vidět, že Ubuntu se snaží vyjít vstříc uživatelům windows (což je podle mě dobře), a to se projevuje i&nbsp;jinde:</p> 
<ul> 
 <li>Automaticky konfiguruje <strong>hardware</strong>&nbsp;– já nemusel konfigurovat <em>vůbec nic</em>, a jede veškerý hardware. Dokonce Ubuntu komunita upustila od patetického zakazování („nepovolování“) „nesvobodných“ ovladačů nVidia; použijí se automaticky, což se dozvíte, až když otevřete správce hardwaru.</li> 
 <li>Automatická konfigurace se týká i&nbsp;připojování disků. Když tedy zasunete do USB flashku nebo externí disk, Ubuntu se zachová stejně jako Windows&nbsp;– detekuje, najde a připojí. Například mojí USB klíčenku připojí cca do sekundy jako <code>/media/KINGSTON/</code>.</li> 
 <li>Skvělé zpracování <strong>rootovských práv</strong>&nbsp;– žádné konzolové hlášky, vždy se pěkně zjeví okénko se žádostí o&nbsp;heslo, zadáte a jede se&nbsp;dál.</li> 
 <li>Grafické rozhraní instalačního systému <code>apt-get</code>, <strong>Synaptic</strong>, mě osvobodilo od ubíjejícího řešení závislostí, které jsem řešil s&nbsp;emerge v&nbsp;Gentoo</li> 
 <li>Standardně nainstalovaná sada aplikací je sice trochu mimo můj záběr, ale velice snadno jsem si doinstaloval to&nbsp;svoje.</li> 
 <li>Perfektně funguje <strong>Wine</strong>&nbsp;– spustil jsem <strong>Miranda IM</strong> a výsledek je úžasný (až na problémy s&nbsp;transparentnos­tí). Dobře šlape také <strong>HomeSite</strong>. Pro editaci PHP zdrojáků ale brzy přejdu na NetBeans (stejně snad už PHP dlouho editovat nebudu&nbsp;:-).</li> 
 <li>Krusader už také není takové ořezávátko jako před lety, nyní již pokrývá valnou část funkčnosti Total Commanderu, chybí jen podružné (např. možnost uložit do záložek nějaký příkaz&nbsp;– třeba <code>cmd_View</code>&nbsp;– jdou jen adresáře).</li> 
 <li>Nainstaloval jsem <strong>64-bitovou verzi</strong> Ubuntu, vše běhá naprosto bez problémů, kromě <strong>Skype</strong>, ten se trochu cukal, že na x64 nechce, ale nakonec to vyřešilo <code>sudo dpkg --force-architecture -i skype-...deb</code>.</li> 
 <li><strong>Java</strong> lítá velice svižně, vývoj v&nbsp;<strong>NetBeans</strong> je, řekl bych, plynulejší (nechrochtá pořád&nbsp;disk).</li> 
 <li>Místo <strong>FTPDrive</strong> jsem nainstaloval nějaký FTP filesystem, teď si nevzpomenu na jméno… šlape skvěle.</li> 
 <li>Editor z&nbsp;Krusaderu je mnohem lepší než notepad :-) gEdit už ale tak skvělý není, nemá dobře ošetřenou práci s&nbsp;kódováním.</li> 
 <li>Video šlape dobře hned po instalaci, a to i&nbsp;Flashe ve Firefoxu.</li> 
</ul> 
<p>Je tu ale i&nbsp;pár nevýhod:</p> 
<ul> 
 <li><strong>Antialiasing</strong> mi přijde nějaký nedotažený; ve Windows se mi písmo zdá mnohem ostřejší. V&nbsp;NetBeans jsem si na linuxu musel dát o&nbsp;dva stupně větší <code>Courier New</code>. Tohle je snad asi nejpalčivější problém, doufám, že se ukáže, že je to někde opravitelné.</li> 
 <li>Můj oblíbený nástroj pro vývoj SQL, <strong>MySQL Query Browser</strong>, funguje na linuxu dost jinak, o&nbsp;dost hůř. Nechápu proč, vypadá to, jako bych měl dva roky starou verzi, ale mám aktuální. //Update:// Naštěstí Wine nezklamalo, Query Browser pro Windows funguje bezchybně.</li> 
 <li>Chybí mi <strong>WinAmp</strong>, hlavně jeho <strong>Media Library</strong> a plugin <strong>AlbumList</strong>, ale ještě jsem nehledal náhradu, zatím stačí přehrávač z&nbsp;Ubuntu nebo&nbsp;XMMP.</li> 
 <li><strong>Klávesové zkratky</strong> fungují nějak pošahaně: 
  <ul> 
   <li>V&nbsp;systému (tím myslím Gnome) nějak moc nefunguje <strong>klávesa Windows</strong>. Dá se to sice nějak ponastavovat, nastavení je ale zmatené a ani tak mi WinKey nefunguje.</li> 
   <li>Ve <strong>Firefoxu</strong> jsou některé zkratky jinak&nbsp;– nechápu proč, ale např. moje skoro nejpoužívanější <code>Ctrl+E</code> je zde pod <code>Ctrl+K</code> nebo <code>Ctrl+J</code>. <code>Ctrl+E</code> asi nic nedělá.</li> 
   <li>V&nbsp;<strong>NetBeans</strong> se nastavení zkratek celkově chová nějak divně, ale to bude spíše chyba NetBeans.</li> 
  </ul> </li> 
 <li>Zkoušel jsem nainstalovat <strong>VirtualBox</strong> a nějak se mi podařilo nainstalovat více kernelů (verzí jádra). Následně systém startoval ze serverové verze jádra a mě to rozhodilo ovladače grafiky, zvuku a kdoví čeho ještě (v&nbsp;serverové verzi nejspíš vůbec nejsou). Naštěstí jsem tušil, že staré jádro aktualizace jen tak nezahodila, ale někde bude. Kamarád mi poradil, že když mám GRUB, tak mám jít hledat kamsi do <code>/boot/grub</code> a tam upravit <code>menu.lst</code>. Hodil jsem staré jádro jako default a zas všechno šlape. Vlastně to ani nebylo o&nbsp;moc složitější než s&nbsp;Windows, jen to stačí&nbsp;znát.</li> 
 <li>Linuxová komunita nějak nemá ráda různé utilitky pro správu serverů&nbsp;– dost mi chybí <strong>Apache Launcher</strong> a <strong>MySQL Instance Manager</strong>.</li> 
</ul> 
<p>Co jsem ještě nezkoušel:</p> 
<ul> 
 <li><strong>Tisk</strong> (asi půjde)</li> 
 <li><strong>Visual Studio</strong> přes Wine (asi nepůjde)</li> 
</ul> 
<p>Celkově bych to tedy shrnul tak, že Ubuntu 8&nbsp;už je systém, který je možné dát do rukou zkušenému Windowsákovi, aniž by neustále něco šteloval, ladil a opravoval, jen aby moh už konečně pohodlně pracovat.</p> 
<p>U&nbsp;mě to na přechod ještě nevypadá&nbsp;– ke změně systému mě obvykle dokope něco, co potřebuju, ale ve starém to není. Nic takového ale pro mě Linux zatím nenabízí:</p> 
<ul> 
 <li>Java je multiplatformní a vše běhá i&nbsp;pod Windows.</li> 
 <li>Mít super operační systém je fajn, ale prakticky se to u&nbsp;mě nijak neprojevuje&nbsp;– Windows mi nepadají, běhají rychle a viry&nbsp;nemám.</li> 
 <li>Gnome je moc hezké prostředí (narozdíl od hnusně přeplácaného kýčovitě nablýskaného infantilního KDE (já vím že se dá vzhled měnit, ale nechce se mi), ale na tom zas tak moc nesejde…</li> 
 <li>Compiz a Beryl jsou fajn věci, ale já, který Windows XP vždy ihned po instalaci přenastavuje do vzhledu Windows 2000, takové věci ani nevnímám.</li> 
 <li>Ve Windows toho mám dost rozdělaného&nbsp;– poštu, kontakty, záložky… nechci trávit hodiny exportem a importem</li> 
 <li>Hry&nbsp;– i&nbsp;když hraju zřídkakdy a dalo by se přebootovat…</li> 
 <li>a samozřejmě velmi vyladěný oblíbený software, který přeci jen nativně funguje o&nbsp;něco lépe: Total Commander HomeSite, Miranda IM, … (tím vyladěním myslím pluginy, nastavení, klávesové zkratky, atd atd… prostě ty tisíce malých drobností, které byste dohromady dělali celé dny, a přenést nejdou).</li> 
</ul> 
<p>Takže ještě uvidíme&nbsp;– třeba Ubuntu 9 (třeba <em>Instant Ichtyl</em>?) přinese něco naprosto úžasného, co mě přetáhne. Nebo bude mít pravdu Pepa Kyrian, který říká: „Linux je návykovej… Uvidíš, do půl roka budeš linuxák.“&nbsp;:-)</p> 
<h2 id="toc-o-ctvrt-roku-pozdeji">O&nbsp;čtvrt roku později</h2> 
<p>Je říjen 2008&nbsp;a já používám Ubuntu již čtvrt roku jako hlavní pracovní platformu. Mé střednědobé dojmy z&nbsp;této distribuce a celkově dojmy z&nbsp;Linuxu dané jejím prostřednictvím shrnuji na následujících řádkách.</p> 
<h3 id="toc-fonty">Fonty</h3> 
<p>V&nbsp;původním textu si stěžuji na antialiasing. Pokusil jsem se to řešit podle <a href="http://www.techdot.eu/index.php/2008/01/27/windows-xp-fonty-pro-ubuntu/">návodu na zprovoznění microsoftích písem v&nbsp;Ubuntu</a>. Nevím, jestli jsem si už zvyknul, nebo tento návod zabral, každopádně s <code>MS Courier New</code> v&nbsp;NetBeans už se mi pracuje hezky a s&nbsp;fonty není problém.</p> 
<h3 id="toc-stabilita">Stabilita</h3> 
<p>Doufám, že tohle nebude číst někdo z&nbsp;kolegů, jinak by mě asi ukamenovali :-) Stabilita Linuxu jako desktopu mi přijde nižší než stabilita Windows XP. A&nbsp;hned musím uvést konkrétní příklady.</p> 
<ul> 
 <li>Uspání do paměti nefunguje vůbec, to je obecně linuxová slabost a ví to&nbsp;každý.</li> 
 <li>Uspání na disk funguje na Ubuntu dobře, dokud jste neprovedli update systému. Systém vám uspání s&nbsp;klidem odsouhlasí, ale při startu nabootuje normálně a vy máte vše, co jste neuložili, v&nbsp;řiti. Naštěstí mám ve zvyku Ctrl+S&nbsp;mačkat skoro za každým entrem, a jak NetBeans, tak Firefox naběhnou zhruba do stavu, v&nbsp;jakém jste je opustili.</li> 
 <li>Všeobecně jsou problémy s&nbsp;multimédii. 
  <ul> 
   <li>Různé formy videa se mi často nepodaří rozchodit&nbsp;– zejména v&nbsp;prohlížečích.</li> 
   <li>Audio dělá problémy&nbsp;– např. pauznutí Amaroku mi občas virtuálně „ukradne klávesnici“&nbsp;– prostě v&nbsp;Gnome nelze psát, jediné, co funguje, je přepnutí do konzole (Ctrl+Alt+Fx).</li> 
  </ul> </li> 
 <li>Stabilita některých Linuxových programů je prachbídná, zejména po bootu z&nbsp;uspání. Mezi nejhorší patří Pidgin a Evolution, které mě svými pády štvou každý den. Ať je Outlook Expres sebehorší, nepamatuji si, že by mi kdy v&nbsp;životě spadnul, stejně tak Miranda.</li> 
</ul> 
<h3 id="toc-rychlost">Rychlost</h3> 
<p>S&nbsp;rychlostí je na tom Linuxový desktop v&nbsp;něčem dobře, v&nbsp;něčem&nbsp;bídně.</p> 
<h4 id="toc-firefox">Firefox</h4> 
<p>Desktop, to jsou hlavně okénkové aplikace, a mezi nimi kraluje Firefox s&nbsp;několika desítkami otevřených záložek. A&nbsp;Firefox na Xkách, to je bída. Schválně si proveďte tento test: Načtěte delší stránku (třeba manuál MySQL v&nbsp;kuse), a mačkněte F11 (fullscreen). Zatímco na Windows se změna provede ihned (tj. nepostřehnutelná prodleva), v&nbsp;Ubuntu čekám několik sekund (cca. pět). Podobně přepínání mezi záložkami je velmi pomalé. Ale to může být problém Firefoxu&nbsp;–&nbsp;nevím.</p> 
<h4 id="toc-chovani-pri-zatezi-disku">Chování při zátěži disku</h4> 
<p>Nevím, zda je to nastavením, které neznám, ale Ubuntu se docela špatně vyrovnává s&nbsp;velkou zátěží disku. Celý systém začne reagovat velmi pomalu. Když jsem si na disk překopíroval svoji legální sbírku empétrojek a dal ji indexovat Amarokem a na pozadí běžely testy z&nbsp;EJB modulu TCK, celý systém se stal na několik desítek minut skoro nepoužitelným, a to mám 2× QuadCore. Windows jsou v&nbsp;takové situaci stále svěží a čilé, a to i&nbsp;na obyč DualCore.</p> 
<h4 id="toc-komunikace-s-medii-sitova-komunikace">Komunikace s&nbsp;médii, síťová komunikace</h4> 
<p>Naopak velmi dobře je na tom Linux v&nbsp;práci se sítí a nejrůznějšími protokoly. Například FTP lítá na Linuxu mnohem lépe. Jedinou výjimkou je implementace virtuálního diskového systému přes SSH (gvfs), která je schopná na minutu zaseknout programy, které naivně používá blokující volání na filesystem&nbsp;– a to jsou asi všechny: Gnome, Krusader, Konqueror… kupodivu programy psané v&nbsp;Javě (např. NetBeans) s&nbsp;tím problém neměly a prostě načítaly výpis adresářů postupně.</p> 
<p>Stejně tak s&nbsp;některým HW asi dokáže Linux pracovat efektivněji, protože když jsem na Ubuntu kopíroval fotky z&nbsp;flašky, lítalo to kolem 32&nbsp;MB/s, zatímco na Windows mezi 20&nbsp;a 25&nbsp;MB/s. Dlužno ale dodat, že šlo o&nbsp;jiné počítače, takže je to dost možná právě tím. Budu muset vyzkoušet na stejném…</p> 
<h3 id="toc-java">Java</h3> 
<p>Podle mého soudu se Java na Linuxu stává velmi pozvolna, ale čím dál důležitější. Ačkoliv celkově se Linuxová komunita sestává z&nbsp;fundamentalistů, kteří si musí celý den překládat KDE, aby jim jelo o&nbsp;1% rychleji a ušetřili tak denně několik sekund, postupně se k&nbsp;Linuxu (i&nbsp;díky projektům jako je Ubuntu) dostávají i&nbsp;lidé, kterým je šumák, jestli je všechno přeložené na míru mé architektuře, a raději vyžadují minimální námahu se správou systému a soustředí se na vlastní produktivitu.</p> 
<p>Pro takové lidi se programy v&nbsp;Javě stávají mostem mezi Windows a Linuxem. Osobně jsem se již na Windows ustálil na několika málo programech, ve kterých trávím 90&nbsp;% času (NetBeans, Firefox, Total Commander, Miranda, MySQL Query Browser, Outlook Express, Winamp). Když jsem pro ně před lety v&nbsp;Linuxu hledal náhradu, dopadlo to&nbsp;takto:</p> 
<ul> 
 <li>NetBeans/Eclipse jsou v&nbsp;Javě, krom potíží s&nbsp;fonty jedou bezvadně.</li> 
 <li>Pro Total Commander měla být náhrada Krusader, který ovšem v&nbsp;době, kdy jsem ho zkoušel poprvé, těžce zklamal, a tak jsem našel náhradu v&nbsp;něčem psaném v&nbsp;Javě&nbsp;– dost slušný prográmek, bohužel už si nepamatuju&nbsp;jméno.</li> 
 <li>Místo MySQL QB nyní používám <em>SQuirrel SQL</em>, což je velmi schopný nástroj, který se připojuje přes rozhraní JDBC, které už je k&nbsp;dispozici snad pro všechny databáze na světě, a disponuje mnoha dalšími skvělými vlastnostmi, jako je podpora mapování Hibernate&nbsp;atd.</li> 
</ul> 
<p>Z&nbsp;těchto tří příkladů je myslím jasné, že Java pro Linux hraje důležitou roli, byť je většinou Linuxáků opovrhovaná (obvykle z&nbsp;jejich vlastní hlouposti). Dříve či později se Javovské projekty budou prosazovat čím dál více, a to zejména v&nbsp;oblastech, kde je třeba na vývoj technologií reagovat velice rychle, což jsou momentálně právě IDE, ale do budoucna může jít například i&nbsp;o&nbsp;prohlížeče.</p> 
<p>Nyní tedy krátce k&nbsp;dojmům z&nbsp;Javy na linuxu.</p> 
<p>Pokud jde o&nbsp;rychlost, žádný výrazný rozdíl oproti Windows jsem nezaznamenal. Trochu potíže jsem měl pouze s&nbsp;výchozí instalací OpenJDK (či jak se to jmenuje), kterou jsem chtěl nahradit JDK od SUNu, ovšem po odinstalaci se po ní například NetBeans vehementně sháněly, a musel jsem přepisovat konfigurační soubor (což jakožto původem nelinuxák samozřejmě považuji za nehorázný opruz&nbsp;:-)</p> 
<p>Dále jsem na Linuxu poprvé v&nbsp;životě viděl pád JVM&nbsp;– až doteď jsem si naivně myslel, že Javě se taková věc nemůže stát, a ani jsem o&nbsp;ní předtím nikdy neslyšel. Až zde, při spouštění Antu, mi Java prostě sletěla. To mě vážně rozhodilo a můj dlouhodobý dojem z&nbsp;Javy trochu poškodilo. Nicméně když jsem to samé testoval na Windows, vše bylo OK. Takže asi jde o&nbsp;nedostatek linuxové implementace JVM. Kromě toho, po vypnutí <acronym title="Just-in-Time compiler">JIT</acronym> to prošlo i&nbsp;na Linuxu.</p> 
<p>Jinak se mi celkově v&nbsp;Javě na Linuxu dělá lépe, prostě je vidět, že je tu více „doma“&nbsp;– se všemi těmi konzolemi a parametry a konfiguračními skripty…&nbsp;:-)</p> 
<h3 id="toc-miranda">Miranda</h3> 
<p>Miranda je pro mě natolik důležitá, že jí věnuju samostatný podnadpis :-) Ve Wine chodí naprosto skvěle, až na jedinou drobnost&nbsp;– IRC plugin. Ten se prostě nepřipojí. A&nbsp;jelikož IRC je hlavní IM komunikační kanál mojí společnosti, Miranda letěla. Pidgin je sice proti Mirandě velký shit, ale přeci jen mít na IRC Pidgin a vedle toho Mirandu na zbylých pět zpráv denně přes ICQ/Jabber…&nbsp;e-e.</p> 
<h3 id="toc-tak-nejak-celkove">Tak nějak celkově…</h3> 
<p>Jinak celkový dojem z&nbsp;Ubuntu, potažmo Linuxu, je dobrý. Žádné zásadní neřešitelné problémy, vše je docela intuitivní a funguje očekávatelně, není třeba nic moc konfigurovat, do konzole chodím jen za svou vlastní prací a nikoliv spravovat rozhašený systém…</p> 
<p>Myslím tedy, že tvůrcům Ubuntu se podařilo udělat velmi dobrou kompilaci, která v&nbsp;sobě snoubí dostatek svobody, kterou přináší svět Linuxu, ale zároveň dostatečně dobře zakrývá holá střeva Linuxu, která bych mohl nechtěně potrhat při snaze něco nainstalovat/po­ladit/nastavit… jak se mi to dříve stávalo s&nbsp;distribucemi Knoppix, Gentoo, Debian, Suse, Mandrake a Ubuntu 6&nbsp;a&nbsp;7.</p> 
<p>Pokud by se mě tedy nyní nějaký technicky netalentovaný kamarád zeptal, zda má zkusit „ten linux“, poprvé bych mu s&nbsp;klidným srdcem podal právě instalační CD Ubuntu&nbsp;8.04.</p> 
<h3 id="toc-canonical-a-komunita-ubuntu-neprispivaji-do-upstreamu">„Canonical a komunita Ubuntu nepřispívají do upstreamu!“</h3> 
<p>Ubuntu je občas terčem kritiky komunity Linuxu, že má sice nejvíce uživatelů, ale nijak nepřispívá rozvoji Linuxu. No ale co se divíte? Copak to není logické? Kdo z&nbsp;komunity přispívá? Jsou to jednak programátoři, které programování baví natolik, že ve volném čase programují pro Linuxovou komunitu, a jednak profesionálové ze <a href="http://www.redhat.com/">společností vyvíjejících Linux distribuce</a>, jako je např Red&nbsp;Hat.</p> 
<p>A&nbsp;teď:</p> 
<ol style="list-style-type:lower-alpha"> 
 <li><strong>Jsou mezi uživateli Ubuntu</strong> nadšení geekové, hardcore kernel programátoři a hackeři? Určitě&nbsp;ne.</li> 
 <li>**Dokázala by firma <acronym title="zastřešující vývoj Ubuntu">Canonical</acronym> vydělat na uživatelích Ubuntu dostatek prostředků na to, aby zaplatila profesionály, kteří by vyvíjeli pro Linux? Určitě&nbsp;ne.</li> 
</ol> 
<p>Výkřiky o&nbsp;tom, že z&nbsp;Ubuntu nejde komunitě žádný užitek, jsou tedy&nbsp;– podle mého&nbsp;– liché. Komunitě skutečně nejde žádný přímý užitek v&nbsp;podobě rozvoje software, ale&nbsp;– nemá snad komunita radost z&nbsp;nárůstu počtu uživatelů Linuxu? Nevolala snad komunita dlouhou dobu po řadových uživatelích? A&nbsp;teď, když se konečně našla distribuce, která „to konečně dala do pohybu“, adoranti jiných distribucí zhrzeně a závistivě sledují statistiky <a href="http://distrowatch.com/stats.php?section=popularity">počtů instalací</a>, <a href="http://abhay-techzone.blogspot.com/2007/11/distribution-statistics-ubuntu-tops.html">sledovanosti</a> <a href="http://www.google.com/trends?q=ubuntu%2Csuse%2Credhat%2Cfedora%2Cmandrake&amp;ctab=1&amp;geo=all&amp;date=all">diskutovanosti</a><br> a <a href="http://www.abclinuxu.cz/clanky/ruzne/vysledky-ankety-o-nejoblibenejsi-distribuci-2008">oblíbenosti</a> instalací Ubuntu.</p> 
<p>Dále tím, jak díky Ubuntu roste počet uživatelů Linuxu až natolik, že již se dá hovořit o&nbsp;poměru spíše než o&nbsp;počtu, nastávají různé vedlejší efekty:</p> 
<ul> 
 <li>Roste počet potenciálních programátorů&nbsp;– přispěvatelů Linuxové komunitě.</li> 
 <li>Tím, jak roste všeobecné povědomí o&nbsp;Linuxu, může se v&nbsp;budoucnosti snáze dostat na státní instituce, školy nevyjímaje, a tím se roztočí velká spirála nových uživatelů.</li> 
 <li>Významná část uživatelů přejde k&nbsp;jiným distribucím.</li> 
 <li>Zavedení Linuxu ve státních institucích povede k&nbsp;růstu obratu Linuxového byznysu&nbsp;– a tím nemyslím trička a hrnečky, ale podporu od specializovaných firem, jako je <a href="http://www.cz.redhat.com/">Red Hat</a>&nbsp;– pokud po té příležitostí sáhnou.</li> 
</ul> 
<p>Navíc, nehledě na to, jestli komunita Ubuntu přispívá do upstreamu, ve výsledku je celé Linuxové komunitě prospěšná&nbsp;– už jenom z&nbsp;této logiky věci: Pokud více jak cca. pětina všech uživatelů Linuxu používá právě Ubuntu, potom je jistě prospěšná minimálně pětině linuxové komunity.</p>
                    </div>
                    ... <a href="pages/linux/dojmy_z_ubuntu_8.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG5583.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/je_java_jako_linux_nebo_jako_windows.html"><h2 class="title">Je Java jako Linux nebo jako
Windows?</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-je-java-jako-linux-nebo-jako-windows">Je Java jako Linux nebo jako Windows?</h2> 
<!-- //Článek momentálně upravuji.// --> 
<p>Po napsání předchozího článku <a href="/pages/programming/php/vyhody_a_nevyhody_php.html">Výhody a nevýhody PHP</a> se ozval Jakub Vrána a chvíli jsme si mailovali nad některými body článku, což se, jak to bývá, stočilo na srovnání PHP s&nbsp;technologií, kterou já preferuji&nbsp;– tedy s&nbsp;Javou.</p> 
<p>V&nbsp;závěru jsme se dostali k&nbsp;tomu, zda je Java nebo PHP podobnější Linuxu nebo Windows. Zde je část z&nbsp;mailu:</p> 
<blockquote> 
 <p>Jednu věc nechápu a budu rád, když mi jako (předpokládám) fanda Linuxu vysvětlíš:</p> 
 <p>Jak je možné, že lidé, kteří preferují Linux před Windows, zároveň preferují PHP před Javou. Protože pokud bychom zobecnili vlastnosti a požadavky na systémy a plaformy, potom právě Java oproti PHP by byla jako Linux oproti Windows&nbsp;– technologicky vyspělejší, vývojově stabilnější, zpětně kompatibilnější, modulárnější, konfigurovatel­nější, víceúčelovější, a druhé ideologicky vykrádá první, přičemž to ani nezvládne dotáhnout do konce a zbyde jenom nedotažený hybrid zatížený historií svého vývoje.</p> 
 <p>PHP se mi zdá jako takový rozjetý mnohakilometrový vlak tažený slabou mašinkou, ke kterému stále napojují další a další vagóny&nbsp;– některé velice moderní, přepychové, a pokud jedete po rovince, vše je ok&nbsp;– ale pak přijde kopeček a mašinka se sotva vleče; a pak i&nbsp;v&nbsp;těch nejpřepychovějších vagónech poznáte, že je něco špatně. (Mašinka zde nepředstavuje výkonnost, ale právě ono „jádro“.)</p> 
 <p>Co je tedy podle tebe na PHP lepšího? Co tě k&nbsp;němu táhne kromě citové vazby? (Tvoje zásluhy v&nbsp;PHP komunitě zhruba znám a oceňuji, a chápu a znám z&nbsp;vlastní zkušenosti, že z&nbsp;takového rozjetého vlaku se velmi těžko vyskakuje.) Zkoušels někdy proniknout do J2EE? Znáš základní konceptuální rozdíly? Nechci tě nijak shazovat, jen mě zajímá, jestli se dokážeš vžít do mojí situace a pochopit tak, proč PHP tak „haním“.</p> 
 <p>Zdraví Ondra Žižka</p> 
</blockquote> 
<p>Dovolím si zkopírovat Jakubovo resumé z&nbsp;článku <a href="http://php.vrana.cz/je-php-jako-linux-nebo-jako-windows.php">Je PHP jako Linux nebo jako Windows?</a>:</p> 
<blockquote> 
 <h4 id="toc-jakub-vrana">Jakub Vrána:</h4> 
 <p><strong>PHP a Linux</strong>&nbsp;– malé jádro, k&nbsp;tomu volitelné jednoúčelové knihovny s&nbsp;jednoduchým rozhraním.</p> 
 <p><strong>Java a Windows</strong>&nbsp;– vše v&nbsp;jednom spravované přes komplexní objektové rozhraní.</p> 
 <h4 id="toc-ondrej-zizka">Ondřej Žižka:</h4> 
 <p><strong>PHP a Windows</strong> (z&nbsp;pohledu programátora WinAPI): Silně proměnlivá technologie, v&nbsp;lecčems zpětně nekompatibilní, počáteční návrh špatný a směřující k&nbsp;lepšímu po vzoru lepších technologií, mnohé významné featury dodělávané ad hoc a nepřirozeně vmontované do návrhu.</p> 
 <p><strong>Java a Linux</strong>: Stabilní technologie stavěná velmi rozvážně podle promyšleného návrhu dlouho laděného a diskutovaného mnoha IT firmami, silná a zaručená zpětná kompatibilita, standardizované API, mnoho různých použití (od embedded zařízení až po clusterované farmy serverů). Nejčastěji používaná rozšíření časem projdou procesem standardizace a začlení se do jádra, resp.&nbsp;JRE.</p> 
</blockquote> 
<p>Jak někdo poznamenal v&nbsp;tamějších komentářích, Jakub posuzuje z&nbsp;pohledu technického, zatímco já se snažím spíše o&nbsp;ideologické srovnání&nbsp;– zkrátka principy, na kterých vývojáři a komunita dané technologie (ne)staví.</p> 
<p>A&nbsp;to je z&nbsp;dlouhodobého hlediska mnohem důležitější&nbsp;– jistě chcete vyvíjet bez obav, že by příští major verze opět přinesla další sadu vlastností z&nbsp;jiných jazyků chaoticky splácaných dohromady se stávající&nbsp;verzí.</p> 
<hr> 
<p>Aby byla debata co k&nbsp;čemu, měli bychom tato hesla něčím podpořit, případně vyvrátit. Pusťme se do toho&nbsp;:-)</p> 
<h3 id="toc-male-jadro">Malé jádro</h3> 
<p>Jak změřit velikost jádra? A&nbsp;co je vůbec jádro? Řekněme, že je to ta část technologie, která je nezbytně nutná pro její&nbsp;běh.</p> 
<ul> 
 <li>Binárky pro Java Virtual Machine (interpret Javy) nejnovější verze mají cca 6&nbsp;MB, což zahrnuje mimo jiné nativní knihovny pro zobrazování desktop aplikací, práci se zvukem, fonty&nbsp;atd.</li> 
 <li>K&nbsp;Javě patří ještě <code>rt.jar</code>, což je balík, ve kterém jsou knihovny obsažené ve standardní distribuci. Z&nbsp;toho se dá jako jádro počítat maximálně část z&nbsp;nich.</li> 
 <li>Jádro PHP, <code>php6ts.dll</code>, má cca. 14&nbsp;MB (standardní distribuce windows), a tento modul je dále nedělitelný.</li> 
 <li>S&nbsp;okolními knihovnami (kromě API pro Apache, ISAPI a NSAPI) má kolem 20&nbsp;MB.</li> 
 <li><code>php5ts.dll</code> má cca. 5&nbsp;MB, a spolu s&nbsp;okolními <code>.dll</code> má asi 10&nbsp;MB.</li> 
</ul> 
<p>Ale velikost dat není nejlepší ukazatel. Vyberme tedy jiné kritérium. Nabízí se možnost miniaturizace jádra technologie a složitost syntaxe, a Jakubem uvedená „komplexnost jádra“.</p> 
<h3 id="toc-komplexnost-jadra">Komplexnost jádra</h3> 
<p>Co se týká „ne/komplexnosti“ jádra, tak si nejsem zcela jist, jak rozlišit, co v&nbsp;jádru je či&nbsp;není.</p> 
<p>Pokud vím, v&nbsp;jádru Javy je jen několik tříd typu Object, String, Throwable, dále nativní metody základních systémových tříd, a tím to hasne; drtivá většina funkcionality JRE je již implementovaná v&nbsp;Javě a je oddělitelná.</p> 
<p>V&nbsp;PHP je mnoho knihoven instalovatelných z&nbsp;repozitáře PEAR, a většina těch, které jsou ve Windows verzi v&nbsp;phpXts.dll, jsou na linuxu volitelné za cenu vlastní kompilace PHP. Nicméně nevolitelnou součástí jádra jsou funkce jako <code>money_format()</code>, <code>apache_note()</code> nebo <code>highlight_file()</code>, na kterých jistě technologie závislá&nbsp;není.</p> 
<p>V&nbsp;tomto je tedy Linuxu podobnější Java, který v&nbsp;jádru obsahuje pouze to nutné (ať už pro funkčnost systému nebo kvůli výkonu).</p> 
<p>Že by Java obsahovala vše v&nbsp;jednom je vyvráceno, a za „all-in-one“ technologii se dá považovat spíše&nbsp;PHP.</p> 
<h4 id="toc-windows-a-vse-v-jednom">Windows a „vše v&nbsp;jednom“</h4> 
<p>U&nbsp;té architektury Windows bych řekl, že se Jakub seknul;
 <!-- Dovolil bych si polemizovat i o "komplexnosti" jádra Windows --> od verzí NT až po XP (Visty neznám) je systém poměrně modulárni a dá se očesat skoro až na&nbsp;HAL.</p> 
<p>Stejně tak předchozí verze Windows&nbsp;– existuje mnoho různých amatérských minidistribucí Windows 98 (bohužel teď je nenajdu).</p> 
<p>„spravované přes komplexní objektové rozhraní“&nbsp;– to nevím, co tím Jakub u&nbsp;Windows myslel. Na WinAPI není objektového nic, to je čisté&nbsp;C.</p> 
<h3 id="toc-moznost-miniaturizace-jadra">Možnost miniaturizace jádra</h3> 
<p>Až teprve v&nbsp;extrémních podmínkách se ukáže, co vše lze z „jádra“ vypustit, aby technologie stále byla sama&nbsp;sebou.</p> 
<p>Takovými podmínkami jsou například mobilní telefony. Java šlape i&nbsp;na telefonech jako jsou několik let staré mobily Nokia. Zde se velikost jádra těžko určí, protože implementace je do jisté míry hardwarová.</p> 
<p>Naproti tomu nejmenší mě známý výskyt PHP je verze PHP pro servery Novell, která je osekaná o&nbsp;leccos, a přesto má hlavní knihovna stále několik&nbsp;MB.</p> 
<p>Řekl bych, že tím je v&nbsp;tomto bodě jasno&nbsp;– malé jádro a mnoho volitelných knihoven jednoznačně pasuje spíše na&nbsp;Javu.</p> 
<p>//Update:// O&nbsp;tom, že Java je skutečně univerzální, se můžete přesvědčit např. na <a href="http://www.knihy.cpress.cz/BookDoc.asp?BookID=160&amp;DocID=626&amp;DownloadSection=12">http://www.knihy.cpress.cz/BookDoc.asp?…</a>, kde najdete publikaci pro grafiky, která se věnuje se programování skeneru pomocí&nbsp;Javy.</p> 
<h3 id="toc-slozitost-syntaxe-php-a-javy">Složitost syntaxe PHP a Javy</h3> 
<p>Syntaxe Java oproti syntaxi PHP:</p> 
<ul> 
 <li>Nemá &amp; reference</li> 
 <li>Není zde @ na umlčení</li> 
 <li>Nenahrazují se proměnné ve stringu</li> 
 <li>Nejsou zde věci typu __call, __autoload a další __*</li> 
 <li>Nemá # komentáře</li> 
 <li>Nemá <code>systémová volání</code></li> 
 <li>Nemá podivné konstrukce typu Array($objekt, „VolanáMetoda“)</li> 
 <li>Nemá konstrukty, které se tváří jako funkce, ale nejsou&nbsp;funkce</li> 
 <li>Nemá operátory and, or, xor, !==, ===</li> 
 <li>Nemá konstrukty require, require_once, include_once, declare</li> 
 <li>Nemá alternativní zápis kontrolních struktur s&nbsp;dvojtečkou</li> 
 <li>Nemá <code>global</code></li> 
 <li>Nemá <code>$GLOBALS</code>, <code>$_GET</code>, <code>$_POST</code>, <code>$_COOKIE</code>, <code>$_FILES</code>, <code>$_ENV</code>,&nbsp;<code>$_REQUEST</code></li> 
</ul> 
<p>Naopak:</p> 
<ul> 
 <li>Má @anotace</li> 
 <li>Má generické &lt;typy&gt;</li> 
 <li>Má navíc klíčová slova pro různé účely (synchronized, transient, enum, volatile a&nbsp;další)</li> 
</ul> 
<p>Java syntaxe je jednodušší než syntaxe PHP.</p> 
<h3 id="toc-zaver">Závěr</h3> 
<p>Co se tedy týký připodobnění Javy a PHP k&nbsp;Linuxu a Windows, není mnoho argumentů, proč PHP připodobňovat k&nbsp;Linuxu a Javu k&nbsp;Windows&nbsp;– spíše naopak.</p> 
<p>PHP je prostě na ocasu vývoje a s&nbsp;velkými obtížemi adoptuje vymoženosti jiných technologií (OOP, Unicode, výjimky, synchronizaci a sdílení, …)&nbsp;– stejně jako Windows.</p> 
<p>Naproti tomu Java je spolu s&nbsp;C# a .NET na špičce vývoje na poli IT, podobně jako Linux na poli&nbsp;OS.</p> 
<hr> 
<p>Jako tečku cituji člověka, který má PHP opravdu v&nbsp;malíku (a autora skvělého Texy!)&nbsp;– Davida Grudla:</p> 
<blockquote> 
 <p>Programovat v&nbsp;Javě umí kdekdo. O&nbsp;ASP.NET ani nemluvě. Jen v&nbsp;PHP píši skuteční hrdinové. Renesanční bytosti. Fascinující a neskutečně trpěliví lidé. Trpěliví od slova trpět. Třeba jako&nbsp;já.</p> 
 <p style="text-align:right">-- David Grudl, <a href="http://latrine.dgx.cz/php-surprise">http://latrine.dgx.cz/php-surprise</a></p> 
</blockquote>
                    </div>
                    ... <a href="pages/programming/java/je_java_jako_linux_nebo_jako_windows.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG0112.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/misc/freetts-line-unavailable-classcastexception-kevinvoicedirectory-error-opening-zipfile.html"><h2 class="title">FreeTTS Troubleshooting</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-freetts-troubleshooting">FreeTTS Troubleshooting</h2> 
<h2 id="toc-java-sound-problems-in-linux-line-unavailable">Java sound problems in Linux&nbsp;– LINE UNAVAILABLE</h2> 
<p>It's&nbsp;a JVM bug described <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4498848">here</a></p> 
<p>Also <a href="http://sourceforge.net/projects/freetts/forums/forum/137669/topic/722735?message=1659298">here</a> :</p> 
<blockquote> 
 <ol start="2"> 
  <li>Another possibility, which I&nbsp;have not verified, might be due to a delay that we put it to the closing of the currentClip. <p>We put in this delay to workaround a Java Sound bug in&nbsp;Linux.</p> <p>The resulting scenario is: because the last clip was not closed before the next clip attempts to&nbsp;play,</p> <p>the audio device is still occupied, thus generating a LineUnavailable­Exception.</p> <p>Though, we've hardly experienced any problems with the JavaClipAudio­Player, so I&nbsp;doubt this is the problem.</p> </li> 
 </ol> 
</blockquote> 
<p>Also <a href="http://sourceforge.net/projects/freetts/forums/forum/137669/topic/930844?message=2221602">here</a> about „long sentences“:</p> 
<blockquote> 
 <p>The problem, it seems is in the code that breaks up a very long sentence. FreeTTS is designed to synthesize text with low latency. When given a very long sentence, such as in your example, it will decide that the sentence is too long to be synthesized in a timely fashion and break it up into smaller bits. This logic is rarely (if every executed) since it only is invoked when very long sentences occur. If I&nbsp;change your sample code to concatenate a period instead of a comma after every „Number xx“, things are synthesized just fine with no line unavailable&nbsp;error.</p> 
</blockquote> 
<h3 id="toc-workaround">Workaround:</h3> 
<pre class="brush: lang-java brush: java">System.setProperty("com.sun.speech.freetts.audio.AudioPlayer.openFailDelayMs", "100");
System.setProperty("com.sun.speech.freetts.audio.AudioPlayer.totalOpenFailDelayMs", "30000");</pre> 
<p>Also <a href="http://sourceforge.net/projects/freetts/forums/forum/137669/topic/1293759?message=3178304">here</a> :</p> 
<blockquote> 
 <p>If you disable the ARts sound daemon under KDE FreeTTS will work and not give the error:<br> <code>LINE UNAVAILABLE: Format is PCM_SIGNED 16000.0 Hz, 16 bit, mono, 2 bytes/frame, big-endian</code> Or something simular to t he error above. I&nbsp;believe the issue (and reply if I'm wrong) is the ARts daemon grabs the /dev/dsp device and prevents FreeTTS from using it. Though I&nbsp;don't run ETS (Enlightenment sound daemon) this daemon too, could be a problem for fellow FreeTTS users/developers. I&nbsp;believe this daemon too grabs on to /dev/dsp and prevents others from using&nbsp;it.</p> 
</blockquote> 
<p>Also, <a href="http://sourceforge.net/projects/freetts/forums/forum/137669/topic/686662?message=1582276">testing the line availability</a> :</p> 
<blockquote> 
 <ol start="2"> 
  <li>To test if an environment supports sound, copy the code in&nbsp;<code>com.sun.speech.freetts.audio.JavaStreamingAudioPlayer.openLine()</code> <p>to a method in your application (remember to include the javax.sound.sam­pled.* packages).</p> <p>Before you call FreeTTS methods, call this method to see if your environment supports&nbsp;sound.</p> <p>If it does, remember to close the audio line, since FreeTTS will try to open it&nbsp;again.</p> </li> 
 </ol> 
</blockquote> 
<h3 id="toc-solution">Solution:</h3> 
<p>Fix FreeTTS according to <a href="http://forums.sun.com/thread.jspa?threadID=5189363">this link</a>, which is now unavailable because Oracle fucked it up. That page supposedly contained a fix for FreeTTS making it not vulnerable to that JVM's&nbsp;bug.</p> 
<h3 id="toc-also-see">Also see:</h3> 
<ul> 
 <li><a href="http://sourceforge.net/search/?group_id=42080&amp;type_of_search=forums&amp;words=LINE+UNAVAILABLE&amp;search=Search">FreeTTS forum search</a></li> 
 <li><a href="http://freetts.sourceforge.net/docs/index.php#What_does_the_message_Line_unavailable">FreeTTS FAQ</a></li> 
 <li><a href="http://www.ryan-h.com/uncategorized/java-speech-jsapi-freetts">Useful howto</a> at ryan-h's&nbsp;blog.</li> 
</ul> 
<h2 id="toc-problem-finding-dependencies-zipexception-error-opening-zip-file">Problem finding dependencies&nbsp;– ZipException` „Error opening ZIP&nbsp;file“</h2> 
<p>After I&nbsp;mavenized FreeTTS, I&nbsp;started getting an exception from JDK saying it can't read ZIP file somewhere in <code>VoiceManager.java</code>.</p> 
<p>I&nbsp;used strace to figure out a „Error opening ZIP file“. That did not help because it did not tell me about JVM's&nbsp;calls to <code>open()</code> for some reason, but anyway, here's&nbsp;the command:</p> 
<pre class="brush: lang-bash brush: bash">sudo strace -e trace=all -o log.txt \
java -Xrunjdwp:transport=dt_socket,server=y,address=4000 \
     -Djpda.listen=true -Djpda.address=4000 \
     -Dmbrola.base="`pwd`/../mbrola301"\
     -Dfreetts.voicespath="`pwd`/../mbrola301/voices"\
     -jar /home/ondra/work/BOTS/SpeechBot/SpeechBot-mavenized/target/SpeechBot-1.0-SNAPSHOT.jar \
     irc.eng.brq.redhat.com '#some'</pre> 
<h3 id="toc-the-cause">The cause</h3> 
<p>The problem was that mavenization of FreeTTS and MBrola involved re-naming the .jar&nbsp;files.</p> 
<p>But FreeTTS not only has hard-coded dependencies in it's <code>MANIFEST.MF</code>'s <code>Class-Path</code>, which is quite stupid for a library, it also has code inside which actually relies on these data, which is the real peak of stupidity. So if you Mavenize such library, it ends up in different directories. So it will not usually work in&nbsp;IDE.</p> 
<p>You need to flatten the dependencies to a single dir, using e.g. <code>mvn dependencies:copy</code>, see <a href="http://ondra.zizka.cz/pages/programming/java/maven/maven-create-distribution-package.html">this example</a>. You also need to set Maven to put all app's&nbsp;dependencies to it's&nbsp;jar's <code>MANIFEST.MF</code>'s <code>Class-Path</code>&nbsp;– here it's&nbsp;ok because it's&nbsp;an app, not a library.</p> 
<p>Then you need to manually rewrite all FreeTTS libraries' MANIFEST.MF in the local repository, so that you can rebuild your application. Change the <code>Class-Path</code> to reflect the names of the jar files; Usually, that means adding <code>-&lt;version&gt;</code> so it's&nbsp;e.g. <code>cmulex-1.2.jar:freetts-1.2.jar:...</code>.</p> 
<p>Then you run a shell command like</p> 
<pre class="brush: lang-bash brush: bash">java -Dmbrola.base="`pwd`/../mbrola301"\
     -Dfreetts.voicespath="`pwd`/../mbrola301/voices"\
     -jar /home/ondra/work/BOTS/SpeechBot/SpeechBot-mavenized/target/SpeechBot-1.0-SNAPSHOT.jar \
     irc.eng.brq.redhat.com '#some'</pre> 
<p>Here you don't need to specify -cp because the deps are in the app's&nbsp;MANIFEST.MF as per the explanation&nbsp;above.</p> 
<h2 id="toc-problems-finding-voices">Problems finding Voices</h2> 
<p>I&nbsp;had some troubles make FreeTTS find MBrola's&nbsp;voices.</p> 
<p>Don't forget to set the <code>mbrola.base</code> system property when you run your application,&nbsp;e.g.:</p> 
<pre class="brush: lang-plain brush: plain">java -jar myapp.jar -Dmbrola.base="`pwd`/../mbrola301"</pre> 
<p>eventually you can set <code>freetts.voicespath</code> to different&nbsp;dir:</p> 
<pre class="brush: lang-plain brush: plain">java -jar myapp.jar -Dmbrola.base="`pwd`/../mbrola301" -Dfreetts.voicespath="`pwd`/../mbrola301/voices"</pre> 
<hr> 
<p>There are few voices in FreeTTS with MBrola.</p> 
<pre class="brush: lang-plain brush: plain">// This is a tiny database, contains only data for time demo app.
System.setProperty("freetts.voices","com.sun.speech.freetts.en.us.cmu_time_awb.AlanVoiceDirectory");

// Using this throws the ClassCastException. You need to recompile it.
System.setProperty("freetts.voices", "com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory");

// MBrola voices.
System.setProperty("freetts.voices", "de.dfki.lt.freetts.en.us.MbrolaVoiceDirectory");</pre> 
<p>Even after setting <code>mbrola.voices</code>, it kept finding only <code>mbrola_us1</code>, <code>mbrola_us2</code>, <code>mbrola_us3</code>. I&nbsp;added some voices from their web, but these were not listed as available. I&nbsp;guess I&nbsp;need some other <code>VoiceDirectory</code> implementation because the voices are hardcoded in <code>KevinVoiceDirectory</code> so I&nbsp;guess there's&nbsp;no dynamic loading despite all that mess in <code>VoiceDirectory.java</code>.</p> 
<h2 id="toc-weird-classcastexception-for-kevinvoicedirectory-gone-after-re-compiling">Weird ClassCastException for KevinVoiceDirec­tory, gone after re-compiling</h2> 
<p>After solving „Error reading ZIP“ by changing FreeTTS's&nbsp;jar's&nbsp;M­ANIFEST.MF's&nbsp;Class-Path value to reflect my jar names (mavenized), I&nbsp;started getting&nbsp;this:</p> 
<pre class="brush: lang-plain brush: plain">Exception in thread "main" java.lang.ClassCastException: com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory cannot be cast to com.sun.speech.freetts.VoiceDirectory
        at com.sun.speech.freetts.VoiceManager.getVoices(VoiceManager.java:113)
        at cz.dynawest.speechbot.synt.MbrolaSpeaker.&lt;init&gt;(MbrolaSpeaker.java:38)
        at cz.dynawest.speechbot.SpeechBot.&lt;init&gt;(SpeechBot.java:25)
        at cz.dynawest.speechbot.SpeechBot.main(SpeechBot.java:65)</pre> 
<p>After re-compiling KevinVoiceDirectory and storing it in jar, it&nbsp;works.</p>
                    </div>
                    ... <a href="pages/programming/java/misc/freetts-line-unavailable-classcastexception-kevinvoicedirectory-error-opening-zipfile.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG3644.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/nabidka_levny_j2ee_jsp_hosting.html"><h2 class="title">Nabídka: Levný Java/JSP/J2EE
hosting</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-nabidka-levny-java-jsp-j2ee-hosting">Nabídka: Levný Java/JSP/J2EE hosting</h2> 
<p>S&nbsp;pozvolným přechodem od PHP k&nbsp;Javě a J2EE jsem narazil na problém&nbsp;– kam s&nbsp;ním?</p> 
<p>Řeč je o&nbsp;nedostečné nabídce Java EE hostingů, a tedy nízká konkurence a z&nbsp;toho plynoucí vysoké ceny. Nejsem si zcela jist, zda java hosting je na správu náročnější než např. <acronym title="Linux, Apache, MySQL, PHP">LAMP</acronym>&nbsp;– podle zkušeností kamaráda, který si hostuje sám, je to jednodušší&nbsp;– prostě nainstalujete Apache Tomcat a hotovo.</p> 
<p>Pro upřesnění&nbsp;– kamarádovi příliš nesedly aplikační servery (JBoss, IBM WebSphere, BEA WebLogic a další mamuti&nbsp;– zjistil, že pro něj je lepší řešení Tomcat a všechny featury z&nbsp;aplikačních serverů instaluje do Tomcatu jako jednotlivé moduly, případně je vkládá přímo do webové aplikace.</p> 
<p>Mě samotnému se ovšem o&nbsp;server starat nechce&nbsp;– znamenalo by to najít server housing, koupit server, naučit se dobře administrovat Linux, … a jak říká Honza Svoboda&nbsp;– není možné dobře umět a dobře dělat všechno.</p> 
<h3 id="toc-jak-jsem-k-java-hostingu-prisel">Jak jsem k&nbsp;Java hostingu přišel</h3> 
<p>S&nbsp;jedním kamarádem, zavilým Céčkařem a PHPčkářem, jsme (také :-) vedli debatu o&nbsp;<a href="http://ondra.zizka.cz/pages/programming/php/vyhody_a_nevyhody_php.html">výhodách a nevýhodách PHP</a>. Tak jsme se dostali k&nbsp;tomu, že já vyvíjím nějaké projektíky v&nbsp;Javě, ale nemám je kam&nbsp;dát.</p> 
<p>Kamarád měl tehdy zakoupený docela silný stroj (nějaké čtyřjádro s&nbsp;8&nbsp;GB paměti a čtyřmi SAS disky @ 10k RMP), který ovšem neměl jak využít, tak jsem na něm aspoň učil nějaké ty neuronové sítě z&nbsp;mojí diplomky&nbsp;:-)</p> 
<p>Později jsem se dozvěděl od několika známých, že s&nbsp;Javou a J2EE mají podobný problém&nbsp;– mají J2EE backend, k&nbsp;němu by chtěli J2EE frontend, ale nenašli výhodný hosting a sami si hostovat nechtějí, a tak pro ně bylo cenově výhodnější sáhnout po <a href="http://www.php.net">nouzovém řešení</a>.</p> 
<p>Využit kamarádův stroj a znalosti ke zřízení Java hostingu se samo nabízelo. Netrvalo dlouho a stroj se přesunul do server-housingové společnosti a objevila se na něm Java a Tomcat. Zatím na něm běží jen moje J2EE „pokusy“, a stroj lačně čeká na další využití&nbsp;:-)</p> 
<h3 id="toc-co-tedy-nabizim">Co tedy nabízím?</h3> 
<p>Pokud byste chtěli na výše zmíněném serveru zkusit hostovat svoji J2EE aplikaci, můžete se ozvat a zprostředkuji kontakt.</p> 
<p>Možná by se někomu mohlo po přečtení předchozích odstavců zdát nedůvěryhodné dávat hosting „ke kamarádovi nějakého Ondry Žižky“&nbsp;– ale tento kamarád pracuje jako správce sítě v&nbsp;organizaci s&nbsp;řádově několika tisíci počítači a programátor systému automatické správy této&nbsp;sítě.</p> 
<p>Nemá však zkušenosti s&nbsp;administrací Java hostingu, a proto to momentálně řešíme tak, že mám plný přístup k&nbsp;Tomcatu a spravuji si&nbsp;sám.</p> 
<p>Řešení vašeho hostingu by vypadalo podobně&nbsp;– server by se nejspíše rozdělil na virtuální hostingy, ať už na úrovni Linuxu nebo Javy, a svůj virtuální hosting byste si spravovali&nbsp;sami.</p> 
<p>Zkouška bude nejspíše zdarma&nbsp;– podle dohody.</p> 
<p>Máte-li zájem, ozvěte se na <a href="mailto:ondra@dynawest.cz">ondra@
  <!-- -->dynawest.cz</a>, kamarád mě pověřil zpracováním „úvodního kontaktu“&nbsp;:-)</p>
                    </div>
                    ... <a href="pages/programming/java/nabidka_levny_j2ee_jsp_hosting.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC1_0106.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/php/je_java_jako_linux_nebo_jako_windows.html"><h2 class="title">Je Java jako Linux nebo jako
Windows?</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-je-java-jako-linux-nebo-jako-windows">Je Java jako Linux nebo jako Windows?</h2> 
<!-- //Článek momentálně upravuji.// --> 
<p><em>Přesunuto <a href="/pages/programming/java/je_java_jako_linux_nebo_jako_windows.html">sem</a>.</em></p> 
<p>Po napsání předchozího článku <a href="vyhody_a_nevyhody_php.html">Výhody a nevýhody PHP</a> se ozval Jakub Vrána a chvíli jsme si mailovali nad některými body článku, což se, jak to bývá, stočilo na srovnání PHP s&nbsp;technologií, kterou já preferuji&nbsp;– tedy s&nbsp;Javou.</p> 
<p>V&nbsp;závěru jsme se dostali k&nbsp;tomu, zda je Java nebo PHP podobnější Linuxu nebo Windows. Zde je část z&nbsp;mailu:</p> 
<blockquote> 
 <p>Jednu věc nechápu a budu rád, když mi jako (předpokládám) fanda Linuxu vysvětlíš:</p> 
 <p>Jak je možné, že lidé, kteří preferují Linux před Windows, zároveň preferují PHP před Javou. Protože pokud bychom zobecnili vlastnosti a požadavky na systémy a plaformy, potom právě Java oproti PHP by byla jako Linux oproti Windows&nbsp;– technologicky vyspělejší, vývojově stabilnější, zpětně kompatibilnější, modulárnější, konfigurovatel­nější, víceúčelovější, a druhé ideologicky vykrádá první, přičemž to ani nezvládne dotáhnout do konce a zbyde jenom nedotažený hybrid zatížený historií svého vývoje.</p> 
 <p>PHP se mi zdá jako takový rozjetý mnohakilometrový vlak tažený slabou mašinkou, ke kterému stále napojují další a další vagóny&nbsp;– některé velice moderní, přepychové, a pokud jedete po rovince, vše je ok&nbsp;– ale pak přijde kopeček a mašinka se sotva vleče; a pak i&nbsp;v&nbsp;těch nejpřepychovějších vagónech poznáte, že je něco špatně. (Mašinka zde nepředstavuje výkonnost, ale právě ono „jádro“.)</p> 
 <p>Co je tedy podle tebe na PHP lepšího? Co tě k&nbsp;němu táhne kromě citové vazby? (Tvoje zásluhy v&nbsp;PHP komunitě zhruba znám a oceňuji, a chápu a znám z&nbsp;vlastní zkušenosti, že z&nbsp;takového rozjetého vlaku se velmi těžko vyskakuje.) Zkoušels někdy proniknout do J2EE? Znáš základní konceptuální rozdíly? Nechci tě nijak shazovat, jen mě zajímá, jestli se dokážeš vžít do mojí situace a pochopit tak, proč PHP tak „haním“.</p> 
 <p>Zdraví Ondra Žižka</p> 
</blockquote> 
<p>Dovolím si zkopírovat Jakubovo resumé z&nbsp;článku <a href="http://php.vrana.cz/je-php-jako-linux-nebo-jako-windows.php">Je PHP jako Linux nebo jako Windows?</a>:</p> 
<blockquote> 
 <h4 id="toc-jakub-vrana">Jakub Vrána:</h4> 
 <p><strong>PHP a Linux</strong>&nbsp;– malé jádro, k&nbsp;tomu volitelné jednoúčelové knihovny s&nbsp;jednoduchým rozhraním.</p> 
 <p><strong>Java a Windows</strong>&nbsp;– vše v&nbsp;jednom spravované přes komplexní objektové rozhraní.</p> 
 <h4 id="toc-ondrej-zizka">Ondřej Žižka:</h4> 
 <p><strong>PHP a Windows</strong> (z&nbsp;pohledu programátora WinAPI): Silně proměnlivá technologie, v&nbsp;lecčems zpětně nekompatibilní, počáteční návrh špatný a směřující k&nbsp;lepšímu po vzoru lepších technologií, mnohé významné featury dodělávané ad hoc a nepřirozeně vmontované do návrhu.</p> 
 <p><strong>Java a Linux</strong>: Stabilní technologie stavěná velmi rozvážně podle promyšleného návrhu dlouho laděného a diskutovaného mnoha IT firmami, silná a zaručená zpětná kompatibilita, standardizované API, mnoho různých použití (od embedded zařízení až po clusterované farmy serverů). Nejčastěji používaná rozšíření časem projdou procesem standardizace a začlení se do jádra, resp.&nbsp;JRE.</p> 
</blockquote> 
<p>Jak někdo poznamenal v&nbsp;tamějších komentářích, Jakub posuzuje z&nbsp;pohledu technického, zatímco já se snažím spíše o&nbsp;ideologické srovnání&nbsp;– zkrátka principy, na kterých vývojáři a komunita dané technologie (ne)staví.</p> 
<p>A&nbsp;to je z&nbsp;dlouhodobého hlediska mnohem důležitější&nbsp;– jistě chcete vyvíjet bez obav, že by příští major verze opět přinesla další sadu vlastností z&nbsp;jiných jazyků chaoticky splácaných dohromady se stávající&nbsp;verzí.</p> 
<hr> 
<p>Aby byla debata co k&nbsp;čemu, měli bychom tato hesla něčím podpořit, případně vyvrátit. Pusťme se do toho&nbsp;:-)</p> 
<h3 id="toc-male-jadro">Malé jádro</h3> 
<p>Jak změřit velikost jádra? A&nbsp;co je vůbec jádro? Řekněme, že je to ta část technologie, která je nezbytně nutná pro její&nbsp;běh.</p> 
<ul> 
 <li>Binárky pro Java Virtual Machine (interpret Javy) nejnovější verze mají cca 6&nbsp;MB, což zahrnuje mimo jiné nativní knihovny pro zobrazování desktop aplikací, práci se zvukem, fonty&nbsp;atd.</li> 
 <li>K&nbsp;Javě patří ještě <code>rt.jar</code>, což je balík, ve kterém jsou knihovny obsažené ve standardní distribuci. Z&nbsp;toho se dá jako jádro počítat maximálně část z&nbsp;nich.</li> 
 <li>Jádro PHP, <code>php6ts.dll</code>, má cca. 14&nbsp;MB (standardní distribuce windows), a tento modul je dále nedělitelný.</li> 
 <li>S&nbsp;okolními knihovnami (kromě API pro Apache, ISAPI a NSAPI) má kolem 20&nbsp;MB.</li> 
 <li><code>php5ts.dll</code> má cca. 5&nbsp;MB, a spolu s&nbsp;okolními <code>.dll</code> má asi 10&nbsp;MB.</li> 
</ul> 
<p>Ale velikost dat není nejlepší ukazatel. Vyberme tedy jiné kritérium. Nabízí se možnost miniaturizace jádra technologie a složitost syntaxe, a Jakubem uvedená „komplexnost jádra“.</p> 
<h3 id="toc-komplexnost-jadra">Komplexnost jádra</h3> 
<p>Co se týká „ne/komplexnosti“ jádra, tak si nejsem zcela jist, jak rozlišit, co v&nbsp;jádru je či&nbsp;není.</p> 
<p>Pokud vím, v&nbsp;jádru Javy je jen několik tříd typu Object, String, Throwable, dále nativní metody základních systémových tříd, a tím to hasne; drtivá většina funkcionality JRE je již implementovaná v&nbsp;Javě a je oddělitelná.</p> 
<p>V&nbsp;PHP je mnoho knihoven instalovatelných z&nbsp;repozitáře PEAR, a většina těch, které jsou ve Windows verzi v&nbsp;phpXts.dll, jsou na linuxu volitelné za cenu vlastní kompilace PHP. Nicméně nevolitelnou součástí jádra jsou funkce jako <code>money_format()</code>, <code>apache_note()</code> nebo <code>highlight_file()</code>, na kterých jistě technologie závislá&nbsp;není.</p> 
<p>V&nbsp;tomto je tedy Linuxu podobnější Java, který v&nbsp;jádru obsahuje pouze to nutné (ať už pro funkčnost systému nebo kvůli výkonu).</p> 
<p>Že by Java obsahovala vše v&nbsp;jednom je vyvráceno, a za „all-in-one“ technologii se dá považovat spíše&nbsp;PHP.</p> 
<h4 id="toc-windows-a-vse-v-jednom">Windows a „vše v&nbsp;jednom“</h4> 
<p>U&nbsp;té architektury Windows bych řekl, že se Jakub seknul;
 <!-- Dovolil bych si polemizovat i o "komplexnosti" jádra Windows --> od verzí NT až po XP (Visty neznám) je systém poměrně modulárni a dá se očesat skoro až na&nbsp;HAL.</p> 
<p>Stejně tak předchozí verze Windows&nbsp;– existuje mnoho různých amatérských minidistribucí Windows 98 (bohužel teď je nenajdu).</p> 
<p>„spravované přes komplexní objektové rozhraní“&nbsp;– to nevím, co tím Jakub u&nbsp;Windows myslel. Na WinAPI není objektového nic, to je čisté&nbsp;C.</p> 
<h3 id="toc-moznost-miniaturizace-jadra">Možnost miniaturizace jádra</h3> 
<p>Až teprve v&nbsp;extrémních podmínkách se ukáže, co vše lze z „jádra“ vypustit, aby technologie stále byla sama&nbsp;sebou.</p> 
<p>Takovými podmínkami jsou například mobilní telefony. Java šlape i&nbsp;na telefonech jako jsou několik let staré mobily Nokia. Zde se velikost jádra těžko určí, protože implementace je do jisté míry hardwarová.</p> 
<p>Naproti tomu nejmenší mě známý výskyt PHP je verze PHP pro servery Novell, která je osekaná o&nbsp;leccos, a přesto má hlavní knihovna stále několik&nbsp;MB.</p> 
<p>Řekl bych, že tím je v&nbsp;tomto bodě jasno&nbsp;– malé jádro a mnoho volitelných knihoven jednoznačně pasuje spíše na&nbsp;Javu.</p> 
<p>//Update:// O&nbsp;tom, že Java je skutečně univerzální, se můžete přesvědčit např. na <a href="http://www.knihy.cpress.cz/BookDoc.asp?BookID=160&amp;DocID=626&amp;DownloadSection=12">http://www.knihy.cpress.cz/BookDoc.asp?…</a>, kde najdete publikaci pro grafiky, která se věnuje se programování skeneru pomocí&nbsp;Javy.</p> 
<h3 id="toc-slozitost-syntaxe-php-a-javy">Složitost syntaxe PHP a Javy</h3> 
<p>Syntaxe Java oproti syntaxi PHP:</p> 
<ul> 
 <li>Nemá &amp; reference</li> 
 <li>Není zde @ na umlčení</li> 
 <li>Nenahrazují se proměnné ve stringu</li> 
 <li>Nejsou zde věci typu __call, __autoload a další __*</li> 
 <li>Nemá # komentáře</li> 
 <li>Nemá <code>systémová volání</code></li> 
 <li>Nemá podivné konstrukce typu Array($objekt, „VolanáMetoda“)</li> 
 <li>Nemá konstrukty, které se tváří jako funkce, ale nejsou&nbsp;funkce</li> 
 <li>Nemá operátory and, or, xor, !==, ===</li> 
 <li>Nemá konstrukty require, require_once, include_once, declare</li> 
 <li>Nemá alternativní zápis kontrolních struktur s&nbsp;dvojtečkou</li> 
 <li>Nemá <code>global</code></li> 
 <li>Nemá <code>$GLOBALS</code>, <code>$_GET</code>, <code>$_POST</code>, <code>$_COOKIE</code>, <code>$_FILES</code>, <code>$_ENV</code>,&nbsp;<code>$_REQUEST</code></li> 
</ul> 
<p>Naopak:</p> 
<ul> 
 <li>Má @anotace</li> 
 <li>Má generické &lt;typy&gt;</li> 
 <li>Má navíc klíčová slova pro různé účely (synchronized, transient, enum, volatile a&nbsp;další)</li> 
</ul> 
<p>Java syntaxe je jednodušší než syntaxe PHP.</p> 
<h3 id="toc-zaver">Závěr</h3> 
<p>Co se tedy týký připodobnění Javy a PHP k&nbsp;Linuxu a Windows, není mnoho argumentů, proč PHP připodobňovat k&nbsp;Linuxu a Javu k&nbsp;Windows&nbsp;– spíše naopak.</p> 
<p>PHP je prostě na ocasu vývoje a s&nbsp;velkými obtížemi adoptuje vymoženosti jiných technologií (OOP, Unicode, výjimky, synchronizaci a sdílení, …)&nbsp;– stejně jako Windows.</p> 
<p>Naproti tomu Java je spolu s&nbsp;C# a .NET na špičce vývoje na poli IT, podobně jako Linux na poli&nbsp;OS.</p> 
<hr> 
<p>Jako tečku cituji člověka, který má PHP opravdu v&nbsp;malíku (a autora skvělého Texy!)&nbsp;– Davida Grudla:</p> 
<blockquote> 
 <p>Programovat v&nbsp;Javě umí kdekdo. O&nbsp;ASP.NET ani nemluvě. Jen v&nbsp;PHP píši skuteční hrdinové. Renesanční bytosti. Fascinující a neskutečně trpěliví lidé. Trpěliví od slova trpět. Třeba jako&nbsp;já.</p> 
 <p style="text-align:right">-- David Grudl, <a href="http://latrine.dgx.cz/php-surprise">http://latrine.dgx.cz/php-surprise</a></p> 
</blockquote>
                    </div>
                    ... <a href="pages/programming/php/je_java_jako_linux_nebo_jako_windows.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0062-PANO.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/sql/mysql_wishlist/forum_post.html"><h2 class="title">Feature
request discussion: Result sets stored in @variables</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-feature-request-discussion-result-sets-stored-in-variables">Feature request discussion: Result sets stored in @variables</h2> 
<p>Hello,</p> 
<p>I&nbsp;got over several weeks of stored routines developement, and the most missed feature was a seamless mechanism for<br> - calling routines with a resultset in a parameter,<br> - retrieving a result set coming stored procedure,<br> - and eventually, for keeping a resultset somewhere without need to create a&nbsp;table.</p> 
<p>All of this would be possible if we could store a resultset in a variable. So I&nbsp;have stated a feature request, not yet submitted to a buglist. First I&nbsp;would like to know others' oppinions and suggestions, because I&nbsp;am not much familiar with other&nbsp;DBMS.</p> 
<p>I&nbsp;guess that such functionality would not be easy to implement and is not likely to appear soon. But it would be a giant leap for MySQL's&nbsp;stored procedures programming.</p> 
<p>Here is a brief overview:</p> 
<h2 id="toc-create-the-result-set-and-store-it-in-a-variable">Create the result set and store it in a variable.</h2> 
<p>SELECT * FROM table1 INTO @resultset;<br> – or&nbsp;– SET @resultset = (SELECT * FROM table1);</p> 
<h2 id="toc-pass-the-result-set-into-a-stored-procedure">Pass the result set into a stored procedure.</h2> 
<p>CALL StoredProcedure( @resultset );</p> 
<h2 id="toc-retrieving-a-result-set-from-a-stored-procedure">Retrieving a result set from a stored procedure</h2> 
<p>CALL StoredProcedure() INTO @result;&nbsp;– or&nbsp;– SET @result = (CALL StoredProcedure());</p> 
<p>More detailed formatted draft is here: <a href="http://ondra.zizka.cz/pages/programming/sql/mysql_wishlist/result_set_in_variable.texy">http://ondra.zizka.cz/…ariable.texy</a></p> 
<p>Now&nbsp;– what do you think? Would this ease your SP developement? Is there some better concept?</p> 
<p>Thanks for comments.</p>
                    </div>
                    ... <a href="pages/programming/sql/mysql_wishlist/forum_post.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0354.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/php/nevyhody_php_v_praktickych_prikladech.html"><h2 class="title">Nevýhody
PHP v praktických ukázkách __aneb__
Yet Another „Why PHP Sucks“ Page</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-nevyhody-php-v-praktickych-ukazkach-aneb-yet-another-why-php-sucks-page">Nevýhody PHP v&nbsp;praktických ukázkách __aneb__<br> Yet Another „Why PHP Sucks“&nbsp;Page</h2> 
<p>Když jsem sestavil docela dlouhý, ale přesto neúplný <a href="vyhody_a_nevyhody_php.html">seznam nevýhod PHP</a>, ozvalo se celkem dost lidí s&nbsp;nechápavými dotazy, proč, co a jaktože.</p> 
<h3 id="toc-proc-pomlouvas-php">„Proč pomlouváš PHP!?“</h3> 
<p>Nevím, jestli má smysl brát PHPčkářům jejich modlu. Někdo by se skoro mohl divit, proč se vlastně do PHPka tak pouštím. Inu, není to proto, že bych ho z&nbsp;duše nenáviděl, či tak něco… Prostě a jednoduše jsem čuchnul k&nbsp;lepšímu a od té doby&nbsp;–mě PHP čim dál více– vidím na PHP čím dál více chyb. A&nbsp;proč tedy píšu tyhle „remcy“, „hemzy“ a „ranty“? Nejspíš abych si ujasnil, zda je na tom PHP opravdu tak špatně.</p> 
<hr> 
<p>Učit se novou technologii dá docela práci a chce to svůj čas. Jedním z&nbsp;mých oblíbených citátů z&nbsp;oblasti IT&nbsp;je:</p> 
<blockquote> 
 <p>Entrance to the world of Java is a cultural conversion, not a choice of one simple programming language over another.</p> 
</blockquote> 
<p>Vlastně se mi ten citát líbí tak moc, že jej musím uvést v&nbsp;širším kontextu (byť není pro mou oblíbenou Javu nikterak příznivý):</p> 
<blockquote> 
 <p>Java Server Pages (link to Jakarta project) is reminiscent in nature of the Microsoft ASP framework, but intended from the ground up for enthusiasts of Java, Enterprise Beans and the whole industry that has grown up around them. A&nbsp;detractor of the juggernaut might describe it as being for people with more money than sense but we try to remain agnostic.</p> 
 <p>Choosing to use the panoply of tools and techniques engrossed by this world is not a tactical or pragmatic choice of how to get something built but is likely to based more on a strategic perception of how you believe the industry will develop. If all you want is an active website with a database backend, this is going to be overkill unless you already have the range of skills in-house. Entrance to this world is a cultural conversion, not a choice of one simple programming language over another.</p> 
 <p style="text-align:right"><em>– <a href="http://training.gbdirect.co.uk/courses/php/comparison_php_versus_perl_vs_asp_jsp_vs_vbscript_web_scripting.html">Active Web Sites and Comparison of Scripting Languages</a> (autor neznámý)</em></p> 
</blockquote> 
<p>Já mám teď poslední prázdniny, a tak jsem se rozhodl využít poslední příležitost k&nbsp;této kulturní konverzi a dělám první vlastní komerční projekt v&nbsp;Javě a Java EE&nbsp;– a musím říci, že zatím ke vší spokojenosti a rozhodně nelituji. V&nbsp;PHP bych to už&nbsp;vzdal.</p> 
<p>No a tím se dostáváme k&nbsp;praktickým symptomům nevýhod PHP, uvedených v&nbsp;onom článku. Mám velikou chuť rozebrat je opravdu všechny a dokázat, že k&nbsp;většině tvrzení mám pádný důvod a že se skutečně jedná o&nbsp;nevýhody; za to ale od nikoho na chleba nedostanu, leda by mě zaměstnal marketing Sunu, popřípadě RedHatu, IBM, BEA a dalších velkých hráčů na poli Javy&nbsp;:-)</p> 
<h3 id="toc-prakticke-projevy-nevyhod-v-php">Praktické projevy nevýhod v&nbsp;PHP</h3> 
<p>Pokud chcete rovnou na konec, tedy k&nbsp;hotovému zmrvenému produktu, čtěte <a href="vysledek_nasazeni_php_aneb_navrch_huj_uvnitr_fuj.html">Výsledek nasazení PHP v&nbsp;praxi aneb navrch huj, uvnitř fuj</a>.</p> 
<p>Ale vezměme to podle seznamu…</p> 
<blockquote> 
 <p>PHP: The work-around language</p> 
</blockquote> 
<h4 id="toc-php-nema-danou-politiku-vyvoje-misto-toho-nadale-jen-kopiruje-prvky-jinych-jazyku">* PHP nemá danou politiku vývoje, místo toho nadále jen kopíruje prvky jiných jazyků.</h4> 
<p>Tohle byl asi hlavní důvod mého postupného rozčarování z&nbsp;PHP.</p> 
<p>Když jsem se jako mladý učil PHP z&nbsp;čerstvě vydané knihy Jiřího Koska, PHP mě samozřejmě ohromilo: Psát dynamické webové stránky bylo najednou tak jednoduché. Prostě jste zkopírovali kód z&nbsp;ukázky, poupravili, a jelo&nbsp;to!</p> 
<blockquote> 
 <h4>Rasmus Lerdorf o&nbsp;historii PHP</h4> 
 <p>PHP se vyvinulo tak, že Rasmus Lerdorf ke své sadě nástrojů <em>Personal Home Page Tools</em> přidával stále další funkce, které uživatelé vyžadovali. Vypráví o&nbsp;tom&nbsp;takto:</p> 
 <p>„Nevím jak to zastavit, nikdy jsem nezamýšlel vytvořit programovací jazyk […] Nemám ani ponětí o&nbsp;tom, jak se píší programovací jazyky. Prostě jsem vždy jen přidával další logický krok v&nbsp;pořadí.“</p> 
 <p><em>Celý rozhovor s&nbsp;Rasmusem Lerdorfem najdete na server ITConversations: <a href="http://itc.conversationsnetwork.org/shows/detail58.html">http://itc.conversationsnetwork.org/…etail58.html</a>.</em></p> 
 <p>A&nbsp;přesně ve stejném duchu vývoj PHP pokračuje dodnes&nbsp;– That's&nbsp;the PHP&nbsp;way.</p> 
</blockquote> 
<p>Jak se postupem času vyvíjíte, začnou vám některé věci dost vadit. Při psaní prvního „svého frameworku“ objevíte nepříjemné chyby v&nbsp;návrhu OOP a při použítí referencí se objevují záhadné chyby. Zejména pokud paralelně programujete v&nbsp;nějakém vyspělém jazyce s&nbsp;dobrým návrhem (Java, C#, JavaScript), časem se vám ztratí úsměv z&nbsp;tváře, čím dál častěji kroutíte hlavou a nakonec vzteky bušíte do stolu a kontrolujete blogy vývojářů PHP, jestli už se náhodou nechystají tu kterou pitomost z&nbsp;jazyka odstranit&nbsp;– a <a href="http://www.php.net/~derick/meeting-notes.html">zase vás zklamou</a>:</p> 
<ul> 
 <li> 
  <ul> 
   <li>Pojmenování funkcí zůstane stejně nekonzistentní</li> 
   <li><a href="http://www.php.net/~derick/meeting-notes.html#make-parameter-order-consistent-over-all-functions">Logika pořadí parametrů zůstane stejně nekonzistentní</a></li> 
   <li>Array nikdy nebude objekt (ale kdo ví?)</li> 
   <li>Reference z&nbsp;jazyka nezmizí</li> 
   <li>Objektový model bude pořád někde napůl cesty mezi PHP 4&nbsp;a&nbsp;Javou</li> 
   <li><a href="http://www.php.net/~derick/meeting-notes.html#name-spaces">Funkce nadále nebudou vyhazovat výjimky, ale vracet <code>FALSE</code></a> (vypadá to na zásadní nepochopení ze strany autorů, k&nbsp;čemu jsou výjimky)</li> 
   <li><code>integer</code> se bude chovat stále stejně pitomě</li> 
   <li><a href="http://www.php.net/~derick/meeting-notes.html#name-spaces">Jmenné prostory budou nejspíš jednoúrovňové, <em>pokud vůbec&nbsp;budou</em></a></li> 
   <li>atd. atd.</li> 
  </ul> </li> 
</ul> 
<p>Naštěstí si ještě zachovali dost rozumu na to, aby neimplementovali <a href="http://www.php.net/~derick/meeting-notes.html#ifsetor-as-replacement-for-foo-isset-foo-foo-something-else">úplné hovadiny</a>, pravděpodobně proto, že se chystají i&nbsp;nadále jít cestou Javy a zavést deklarace.</p> 
<blockquote> 
 <p>If something isn't done soon, then more and more coders using PHP will move on to Ruby and Python and PHP will become the new Perl. I&nbsp;can hear it now, „What ever happen to PHP?“ or „Pfft, no one programs in PHP anymore!“ or „Man, I&nbsp;had to maintain legacy PHP application!“</p> 
 <p style="text-align:right">-- Jacob Santos, <a href="http://www.santosj.name/programming/php-related/php-is-turning-into-the-classic-asp/">PHP is turning into the Classic&nbsp;ASP</a></p> 
</blockquote> 
<h4 id="toc-nektere-rysy-jazyka-svadeji-ke-spatnym-stylum-programovani">* Některé rysy jazyka svádějí ke špatným stylům programování</h4> 
<blockquote> 
 <p>„That's&nbsp;the PHP way.“</p> 
</blockquote> 
<p>A&nbsp;co některé, rovnou si je vyjmenujme:</p> 
<h4>Array()&nbsp;– rezignace na OOP.</h4> 
<p>Spoustu PHP skriptařů si nemůže vynachválit, jak moc je <code>Array()</code> univerzální&nbsp;– můžete jej použít jako pole, jako hash, jako frontu, jako zásobník, můžete s&nbsp;ním vybudovat vícerozměrné pole, ale i&nbsp;strom nebo obecný&nbsp;graf.</p> 
<p><em>Jenže k&nbsp;čemu to je?</em> Kdo potřebuje datový typ, který je zároveň fronta a zároveň strom? Kdo potřebuje indexovat v&nbsp;jedné struktuře jak podle pole, tak podle čísel? Jenom programátorská prasata. (But that's&nbsp;the PHP&nbsp;way).</p> 
<p>Slušný programátor, který má ohled na ty, co budou kód po něm číst (včetně jeho samotného), po provedení analýzy a vytvoření návrhu pro každou třídu „entit reálného světa“ vyskytující se v&nbsp;návrhu vytvoří v&nbsp;programovém modelu odpovídající třídu a zachytí jejich vzájemné vztahy.</p> 
<p>Ne tak programátoři v&nbsp;PHP. Zde je slušností co nejvíce poctít svátost boha <code>Array</code>e a pokud je to byť jen trochu možné, pak jej použít, nejlépe hned v&nbsp;několika významech. Co na tom, že chceme reprezentovat strom obsahující objekty, které mají identifikátor a kolekci čísel? Jednoduše uděláme schizofrenní „Array()“, který má pod indexem <code>["id"]</code> identifikátor, pod indexem <code>["numbers"]</code> další <code>Array</code> s&nbsp;čísly a pod číselnými indexy ukryjeme potomky uzlu. Nebo obráceně? To je jedno… <em>That's&nbsp;the PHP&nbsp;way!</em></p> 
<h4><code>FALSE</code>&nbsp;– taktní, diskrétní a nevtíravé (ne)oznámení&nbsp;chyby.</h4> 
<p>Pokud existuje sebemenší šance, že dojde k&nbsp;chybě, slušný programátor vyhodí výjimku, kterou při pozdějším volání metody prostě nelze opomenout a musíte ji ošetřit&nbsp;– jinak se vám kód nepřeloží.</p> 
<p>PHP skriptař však po vzoru nativních PHP funkcí vrací</p> 
<ul> 
 <li>buď <a href="http://cz2.php.net/set_error_handler"><code>NULL</code></a>,</li> 
 <li>nebo <a href="http://cz2.php.net/manual/en/function.stats-cdf-beta.php">jednu z&nbsp;hodnot <code>1, 2, 3, 4</code> nebo opačnou hodnotu některého parametru</a>,</li> 
 <li>nebo <a href="http://cz2.php.net/manual/en/function.trigger-error.php"><code>FALSE</code></a>,</li> 
 <li>nebo <a href="http://cz2.php.net/manual/en/function.feof.php"><code>TRUE</code></a>.</li> 
</ul> 
<p>Z&nbsp;těchto možností vybere náhodně. <em>That's&nbsp;the PHP&nbsp;way!</em></p> 
<p>Snad nikdo nepoužívá <code>trigger_error(...)</code>&nbsp;– jednak je to víc písmenek než <code>return FALSE;</code> a jednak by se pak někde musel mořit se <code>set_error_handler()</code>, a to je kopice psaní… radši vrátíme ten <code>fóls</code>. O&nbsp;tom, že později se na kontrolu chybové návratové hodnoty vykašle, nemusíte ani chvilku pochybovat; a pokud přeci jen, tak nejspíše vyplodí nějaký bug kvůli typové konverzi.</p> 
<h4>Reference</h4> 
<p>Ti opravdoví PHP experti (řekněme <a href="http://cz2.php.net/fsockopen">PHP-developer senior</a>) však využijí pokročilou funkci jazyka, a to jsou reference! Jednoduše narvou návratové hodnoty do parametrů, a programátore, hledej:</p> 
<blockquote> 
 <p>If the value returned in errno is 0&nbsp;and the function returned FALSE, it is an indication that the error occurred before the connect() call. This is most likely due to a problem initializing the socket.</p> 
</blockquote> 
<p>Kde já jsem tohle viděl? Á, už vím! Einstein kdysi vymyslel takovou <a href="/pages/osobni/einsteinova_logicka_hra.html">logickou hru</a>:</p> 
<blockquote> 
 <p>Je pět pět parametrů, každý nese hodnotu nějakého typu. Když návratová hodnota boolean a v&nbsp;prostřední hodnotě je nula, potom včelař nebydlí v&nbsp;modrém domě. Nastal chybový&nbsp;stav?</p> 
</blockquote> 
<p>Skutečně by nebylo lepší toto?</p> 
<pre class="lang-text brush: text">try{
  fsockopen(...);
}
catch( IOException ex ){
  ...
}</pre> 
<h4>Array()&nbsp;– univerzální návratová hodnota.</h4> 
<p>Programátor v&nbsp;objektově orientovaném jazyce, pokud potřebuje z&nbsp;funkce více informací, než stačí pokrýt skalární hodnota jednoho typu, vytvoří si pro přenos informace třídu a vrací si objekt daného typu. Konec konců, když už se mu takový objekt odněkud vrací, pravděpodobně se jedná o&nbsp;třídu entit z&nbsp;reálného světa a tedy ji využije i&nbsp;jinde v&nbsp;modelu aplikace.</p> 
<p>Lepič PHP kódu však má k&nbsp;dispozici mnoho úžasných vlastností jazyka PHP, jako třeba dynamickou typovost, a tak třeba jednou vrací string a jindy integer.</p> 
<p>A&nbsp;pokud by nestačily ani všechny typy, co jich PHP má, tedy skalární hodnoty různých typů v&nbsp;kombinaci s <code>FALSE</code> a <code>null</code>, použije se prostě <code>Array</code> jako hash a do něj se pod nějaké indexy (<a href="http://cz2.php.net/manual/en/function.posix-getgrgid.php">někdy stringy</a>, <a href="http://cz2.php.net/manual/en/function.gd-info.php">někdy divoké stringy</a>, <a href="http://cz2.php.net/manual/en/function.getimagesize.php">někdy čísla</a>&nbsp;– to je fuk) narveme, co chceme.</p> 
<p>That's&nbsp;the PHP way.</p> 
<h4 id="toc-oficialne-neni-zarucena-zpetna-kompatibilita">* Oficiálně není zaručena zpětná kompatibilita</h4> 
<p>V&nbsp;jednom nejmenovaném velkém českém portálu jedou doteď na PHP 4. „Ježiši!“, říkáte si. A&nbsp;máte pravdu! Jsou tam snad masochisti?&nbsp;Proč??</p> 
<p>Odpověď je snadná:</p> 
<p>Protože kdysi jakýsi manažer učinil rozhodnutí, že pojedou na PHP. Rok po tomhle rozhodnutí ho vyhodili a dodnes jeho volby litují, když při pohovoru musí uchazeče zkoušet z&nbsp;PHP 4&nbsp;a jeho chyb v&nbsp;návrhu (vlastností, chcete-li) a místo přepisu do PHP 5, který zoušeli, ale stálo by je to několik měsíců přepisování (s&nbsp;výhledem dalšího přepisu do PHP 6, 7, 8… se již raději poohlížejí po technologii, kde zpětná kompatibilita není jen prázdná&nbsp;fráze.</p> 
<p>Takových příkladů by se jistě dalo najít víc, ale asi to nemá smysl vypočítávat, protože zase můžete kontrovat Wikipedií a dalšími úspěšnými weby, které zůstávají u&nbsp;PHP (aspoň u&nbsp;prezenční vrstvy).</p> 
<p>Obvyklá odpověď PHPčkářů je, že pokud by člověk nepsal jako prase, tak kód bez problémů běží i&nbsp;na nové verzi. To je samozřejmě naprostý nesmysl, který může pronést jen někdo, kdo se v&nbsp;používání PHP nedostal dál než k&nbsp;lepení ukázek zkopírovaných z&nbsp;manuálu PHP. Už jen změny v&nbsp;objektovém modelu a práci s&nbsp;referencemi činí ze starého kódu odpad, který je natolik nekompatibilní, že spíš než refaktorizace se vyplatí redesign a nová implementace.</p> 
<h4 id="toc-programator-nema-zarucene-cilove-prostredi-mnoho-veci-primo-ovlivnujicich-chovani-php-lze-zmenit-pouze-mimo-soubory-projektu-v-konfiguracnim-souboru-php-ini">* Programátor nemá zaručené cílové prostředí, mnoho věcí přímo ovlivňujících chování PHP lze změnit pouze mimo soubory projektu (v&nbsp;konfiguračním souboru php.ini)</h4> 
<p>Zde je to celkem jasné, každý lepší skriptař PHP už se potýkal s&nbsp;otázkou zapnuté / vypnuté direktivy <code>magic_quotes_gpc</code>. Vstup se zpracovává ještě před spuštěním skriptu, tudíž direktivu lze ovlivnit pouze mimo kód PHP, a ne vždy tu možnost&nbsp;máte.</p> 
<p>U&nbsp;lepších technologií je dán standardní způsob distribuce projektu, který definuje prostředí, do kterého aplikaci vkládáte, a jeho součástí je i&nbsp;možnost nastavit prakticky cokoliv v&nbsp;rámci zdrojových souborů projektu.</p> 
<h4 id="toc-projekty-se-musi-sirit-vyhradne-formou-zdrojovych-kodu">* Projekty se musí šířit výhradně formou zdrojových&nbsp;kódů</h4> 
<p>Ano, existuje sice jakási extenze „BPEL“, a přiznávám, že jsem ji nezkoušel. Ale po mých zkušenostech s&nbsp;takovýmito hračkami bych jako vždy došel zklamání, protože by to jednak nepodporovaly hostingy, a jednak bych to nerozjel na své vývojové platformě.</p> 
<h4 id="toc-nativne-nepodporuje-unicode-pripravuje-se-pro-verzi-6-uz-skoro-tri-roky">* Nativně nepodporuje UNICODE (připravuje se pro verzi 6&nbsp;– už skoro tři&nbsp;roky)</h4> 
<p>Tohle je opravdu obrovská ostuda PHP a jeden z&nbsp;bodů, který dokazuje, že PHP je několik let vývoje za ostatními technologiemi.</p> 
<h4 id="toc-nepodporuje-jmenne-prostory">* Nepodporuje jmenné prostory</h4> 
<p>Další obrovská ostuda a důkaz zaostalosti PHP; fakt nechápu, že to nezabudovali již do verze PHP&nbsp;3.</p> 
<h4 id="toc-nekonzistentni-pojmenovani-nativnich-funkci-a-nejednotnost-v-logice-poradi-parametru">* Nekonzistentní pojmenování nativních funkcí a nejednotnost v&nbsp;logice pořadí parametrů</h4> 
<p>Velice často zmiňovaná vada, vadí i&nbsp;těm nejzamilovanějším PHPčkárům (a snad i&nbsp;Jakubovi Vránovi&nbsp;:-)</p> 
<h4 id="toc-nedostatecna-sebereflexe-datove-typy-trida-funce">* Nedostatečná sebereflexe&nbsp;– datové typy „Třída“/„Funce“</h4> 
<p>Zkrátka chybí objekty pro reprezentaci tříd, pokud vím. Nemůžu tedy udělat&nbsp;např.:</p> 
<pre class="brush: lang-java brush: java">public createObjectOfClass( Class cls, HashMap params ){
  cls.construct( params );
}</pre> 
<p>Odkazování se na třídu pomocí stringů je jen work-around („That's&nbsp;the PHP way“) a při práci v&nbsp;IDE je dost napřekážku.</p> 
<h4 id="toc-nemoznost-odkazovat-se-na-metody-objektu-jinak-nez-konstrukci-s-array">* Nemožnost odkazovat se na metody objektů jinak než konstrukcí s&nbsp;Array()</h4> 
<p>Pokud chci předat nějaký objekt a jeho metodu (ve smyslu delegáta z&nbsp;C#), v&nbsp;PHP se to dělá&nbsp;takto:</p> 
<pre class="brush: lang-java brush: java">...MyFunc( Array( $myObject, "thatObjectMethod" ) );</pre> 
<p>Tahat do mechanismu volání metod <code>Array</code> je opravdu škaredý work-around („That's&nbsp;the PHP way“™) a ukazuje na nedospělost OOP syntaxe&nbsp;PHP.</p> 
<ul> 
 <li>Podivné fungování referencí&nbsp;– asi nejzrádnější askept&nbsp;PHP</li> 
 <li>Je značně zatížené svým vlastním historickým vývojem</li> 
</ul> 
<hr> 
<p>Je pravda, že oproti katastrofálnímu stavu z&nbsp;PHP 4&nbsp;je v&nbsp;PHP 5&nbsp;situace mnohem lepší; stále však zůstávají nečekané a o&nbsp;to zákeřnější seky. Asi před půl rokem jsem jeden řešil s&nbsp;kamarádem na IM, když to najdu, přidám.</p> 
<p>Týkalo se to předávání pole. Jak jistě víte, pole není objekt, proto pokud jej chcete ve funkci měnit nebo chcete zamezit (mělkému) kopírování, je třeba jej předat referencí. Stejně tak jej musíte referencí propagovat do dalších kroků zpracování. Jenže reference stále fungují stejně jako v&nbsp;PHP 4, tedy tak, že v&nbsp;tabulce proměnných vzniká nový alias pro stejnou proměnnou. Tento alias zůstává v&nbsp;tabulce i&nbsp;po opuštění funkce, a po jejím opětovném volání a přiřazení reference proměnné se pole zpracovávané v&nbsp;předchozím volání přepíše tím, které zpracováváte&nbsp;nyní.</p> 
<p>To je tak nechutná chyba, že tohle byl jeden z&nbsp;posledních hřebíčků do rakve PHP. Není to jediná chyba, a pokud jste někdy v&nbsp;PHP zkoušeli vyvinout něco složitějšího, jistě jste narazili na podobnou.</p> 
<p>Vzhledem k&nbsp;tomu, že ani v&nbsp;PHP 6&nbsp;nebude <code>Array</code> normální objekt a opět budou přítomny reference, vede mě to k&nbsp;závěru, že stejné chyby budou i&nbsp;v&nbsp;této verzi („Because that's&nbsp;the PHP&nbsp;way.“)</p> 
<h4 id="toc-verze-5-jiz-podporuje-oop-lepe-ale-nativni-knihovna-funkci-nadale-pouziva-proceduralni-paradigma">* Verze 5&nbsp;již podporuje OOP lépe, ale nativní knihovna funkcí nadále používá procedurální paradigma.</h4> 
<p>Výsledkem je mimojiné toto:</p> 
<pre class="lang-php brush: php">strtoupper(str_replace("!!",".",str_replace("ahoj","nazdar",strtolower(trim(" Ahoj lidi!! "))));</pre> 
<p>oproti:</p> 
<pre class="lang-php brush: php">" Ahoj lidi!! ".trim().toLowerCase().replaceAll("ahoj","nazdar").replaceAll("!!",".").toUpperCase();</pre> 
<p>Je to asi jako v&nbsp;přirozeném jazyce říkat:</p> 
<blockquote> 
 <p>Chci zvětšit písmena v&nbsp;tom, co vznikne, když nahradím dva vykřičníky za tečku v&nbsp;tom, co vznikne, když nahradím „ahoj“ za „nazdar“ v&nbsp;tom, co vznikne, když převedu na malá písmena to, co vznikne, když odeberu netisknutelné znaky z&nbsp;okrajů " Ahoj lidi!! "&nbsp;'</p> 
</blockquote> 
<p>místo</p> 
<blockquote> 
 <p>Vezmu " Ahoj lidi!! „, z&nbsp;okrajů odeberu netisknutelné znaky, převedu to na malá písmena, "ahoj“ nahradím „nazdar“, dva vykřičníky nahradím tečkou a převedu to na malá písmena, a to je výsledek.</p> 
</blockquote> 
<p>U&nbsp;abstraktních datových typů Javy (zahrnující seznam, množinu, mapu, atd…) spatřuji hlavní výhodu v&nbsp;minimalizaci rozhraní daného abstraktního typu a v&nbsp;tom, že jsou definované jako rozhraní, nikoliv jako jediná implementace, protože to značně ulehčuje práci programátorovi různých knihoven.</p> 
<p>Nedávno jsem si například během asi půl hodiny naprogramoval Mapu, která má jako backend tabulku v&nbsp;transakční databázi, a můžu jí používat všude, kde někdo očekává jako parametr&nbsp;Mapu.</p> 
<p>To by v&nbsp;PHP s <code>Array</code> udělat nešlo&nbsp;– jedině na úrovni C implementace PHP. Šlo by to také naprogramovat jako třídu&nbsp;– ale potom to zas nebude kompatibilní s <code>Array</code> a nepůjde na to použít např. <code>ksort()</code>.</p> 
<h3 id="toc-zaver">Závěr</h3> 
<p>Má vůbec cenu, abych pokračoval?</p> 
<p>Možná stačí už jen <a href="http://www.google.cz/search?hl=cs&amp;client=firefox-a&amp;rls=org.mozilla%3Acs%3Aofficial&amp;q=%22why+php+sucks%22&amp;btnG=Hledat&amp;lr=">předat slovo</a>…</p>
                    </div>
                    ... <a href="pages/programming/php/nevyhody_php_v_praktickych_prikladech.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0375-PANO.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/osobni/poznamky.html"><h2 class="title">Poznámky a postřehy</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-poznamky-a-postrehy">Poznámky a postřehy</h2> 
<p>Zde najdete divokou směsici nápadů a myšlenek, od všednich přes technické po ryze filozofické, od vážných po naprosté bludy.<br> Vše bez záruky.</p> 
<h3 id="toc-most-used-passwords">Most used passwords</h3> 
<p><a href="most-used-passwords.html">Most used passwords from igigi's&nbsp;web</a>.</p> 
<h3 id="toc-comparison-of-ssd-vs-hdd-disks-jboss-as-compilation">Comparison of SSD vs. HDD disks&nbsp;– JBoss AS compilation</h3> 
<p>A&nbsp;<a href="ssd-vs-hdd-comparison-benchmark-test.html">simple test</a> performed on SSD disk Corsair X32.</p> 
<h3 id="toc-co-je-spatne-v-ceskych-budejovicich">Co je špatně v&nbsp;Českých Budějovicích?</h3> 
<p>Nemůžu si pomoct, ale v&nbsp;Českých Budějovicích mají radní opravdu zvláštní priority.</p> 
<p>Nedávno rozhodli, že obyvatelé města ze všeho nejvíce potřebují splavnit úsek řeky Vltavy od centra města k&nbsp;Hluboké nad Vltavou. Nechali tedy za desítky miliónů vybagrovat bahno ze dna. Potom přišla povodeň, která vybagrované haldy opět spláchla do&nbsp;řeky.</p> 
<p>A&nbsp;nyní, když se v&nbsp;rozpočtu nedostává peněz na „důležité“ věci jako je městská policie (o&nbsp;které se dozvíte na stránkách <a href="http://mestskapolicie.unas.cz">mestskapolici­e.unas.cz</a>), radní zruší všechny dva noční autobusy.</p> 
<p>Opravdu geniální!</p> 
<p>Ještě štěstí, že už v&nbsp;tom kocourkově nežiju.</p> 
<h3 id="toc-nackove-nejsou-pravicaci-ale-levicaci">Náckové nejsou pravičáci, ale levičáci!</h3> 
<p>Prosím všechny novináře, zejména ty, kteří píšou úvodní hlášky ke zprávám, aby se vzdělali v&nbsp;pojmech levice a pravice.</p> 
<!-- Prosím ty, kteří píšou úvodní hlášky ke zprávám, aby se vzdělali v pojmech levice a pravice. --> 
<p>Pravice, to jsou lidé, kteří požadují menší zásahy státu a větší svobodu jednotlivce. Krajní pravice jsou anarchisti.</p> 
<p>Levice, to jsou lidé, kteří se o&nbsp;sebe nedokážou sami postarat, nezvládají samostatně myslet a hospodařit s&nbsp;vlastním majetkem, a potřebují nadiktovat, co je dobré a co špatné. Krajní levice jsou komunisté. Když se k&nbsp;tomu přidá krajní nacionalismus, jde o&nbsp;nacisty.</p> 
<p>Zejména Česká televize soustavně uráží všechny svobodomyslné lidi, když ultralevičáky&nbsp;– tedy nacisty&nbsp;– řadí k&nbsp;jejich&nbsp;– zcela opačnému&nbsp;– názorovému proudu.</p> 
<h3 id="toc-2008-10-tak-nam-zvolili-cssd">//2008–10:// Tak nám zvolili ČSSD</h3> 
<p>Nedá mi to nereagovat na výsledek krajských a senátních voleb. A&nbsp;vzhledem k&nbsp;tomu, že se jedná o&nbsp;osobní web, můžu si zde dovolit silná&nbsp;slova.</p> 
<p>Každý, kdo volí ČSSD, je buď hodně hloupý a věří slibům této mafiánské strany, nebo je líný, nechce se mu pracovat a věří, že ČSSD zde zakonzervuje zbytky socialismu, nebo je součástí kolotoče a veze se v&nbsp;tom s&nbsp;nimi.</p> 
<p>ČSSD je prostě strana, jejímž programem je zneužít ty méně inteligentní voliče jako výtah k&nbsp;penězům všech. Bohužel zde asi pláču na špatném hrobě, protože nepředpokládám, že kdokoliv dost inteligentní na to, aby používal internet a zajímalo ho programování, by volil ČSSD. Nicméně všechny voliče ČSSD varuji, že jestli zvolí ČSSD i&nbsp;do parlamentu, nastane další vlna odchodu inteligence národa do zahraničí, a pro dementy, kteří volí ČSSD, tu opět zbyde méně lidí, kteří na ně budou pracovat.</p> 
<h3 id="toc-po-msn-se-siri-phishing-yoimgz-com">Po MSN se šíří phishing&nbsp;– <code>yoimgz.com</code></h3> 
<p>Uživatelům MSN protokolu dnes chodí URL na server <code>yoimgz.com</code>. Na nic neklikejte, jedná se o&nbsp;phishing.</p> 
<h3 id="toc-phishing-spreading-over-msn-im-network">Phishing spreading over MSN IM network</h3> 
<p>Today, users of MSN communicator receive links to server <code>yoimgz.com</code>. Don't click it and do not enter anything&nbsp;– it's&nbsp;a phishing.</p> 
<h3 id="toc-navod-na-vazani-uzlu-u-kravat">Návod na vázání uzlů u&nbsp;kravat</h3> 
<p>Kdo si má pořád pamatovat, jak se to šmodrchá? Já si pro jistotu dal <a href="vazani_kravat.html">návod na uvázání kravaty</a> na&nbsp;web.</p> 
<h3 id="toc-dojmy-z-ubuntu-8-hardy-heron">Dojmy z&nbsp;Ubuntu 8&nbsp;– Hardy Heron</h3> 
<p>Své dojmy z&nbsp;přechodu na Linux v&nbsp;podobě Ubuntu 8&nbsp;<a href="/pages/linux/dojmy_z_ubuntu_8.html">popisuji zde</a>.</p> 
<h3 id="toc-jabber-plugin-for-miranda-im-does-not-work-under-windows-xp-64-bit-edition">Jabber plugin for Miranda IM does not work under Windows XP 64-bit edition</h3> 
<p>Jabber plugin for Miranda seems not to work with 64-bit version of Windows XP.<br> However, Jabber addon in the developement branch, Miranda 0.8, works fine.<br> The same for Linux x64 and Wine, which supports only 32-bit applications (AFAIK). Download here: <a href="http://www.miranda-im.org/development/">Miranda IM developement version</a></p> 
<h3 id="toc-ati-debevec-demo-music-debevecrnlloop-wav">ATI Debevec Demo Music&nbsp;– DebevecRNLLoop.wav</h3> 
<p>I'm looking for the music used in ATI demo application „Rendering With Natural Light (RNL)“ (a real-time implementation of Paul Debevec's&nbsp;1998&nbsp;S­iggraph paper), available at <a href="http://ati.amd.com/developer/demos/r9700.html">http://ati.amd.com/…s/r9700.html</a>.</p> 
<p>Can anyone identify the tune?</p> 
<h3 id="toc-soudny-den-secteni-cinu-a-vecny-zivot">Soudný den, sečtení činů a věčný život</h3> 
<p>Křesťané (a kdoví kdo ještě) mají jako součást svojí víry dogma, že nastane soudný den, při kterém přijedou čtyři jezdci apokalypsy, činy každého jednotlivce budou sečteny a ty hodné čeká věčný&nbsp;život.</p> 
<p>Jako i&nbsp;ostatní věci velmi obrazně popsané v&nbsp;Bibli se i&nbsp;tato dá vysvětlit všelijak. Často se v&nbsp;historii potvrdilo, že mnoho „proroctví“ vzniklo buď špatným překladem, nebo pokřivením a antidatováním (ať už mylným či záměrným) popisu skutečných událostí.</p> 
<p>Dovedu si docela dobře představit, význam soudného dne, sečtění činů a věčný život ve skutečnosti reprezentují <em>osudný</em> den, sečtení činů ve smyslu dosavadního vývoje lidstva a jeho aktuálního stavu, a věčný život je ve skutečnosti naděje na udržitelný rozvoj civilizace.</p> 
<p>Mnoho textů v&nbsp;Bibli pochází od židovských i&nbsp;jiných filozofů, kteří se jistě zabývali i&nbsp;otázkou, v&nbsp;jakých kolejích se má lidstvo ubírat, aby nezahubilo samo sebe. A&nbsp;tak vznikla myšlenka, že může nastat situace kritická pro celé lidstvo, osudný den, kdy každý čin ve prospěch lidstva může mít vliv na další vývoj. A&nbsp;proto by každý měl konat s&nbsp;vědomím, že jen dobré činy umožní civilizaci v&nbsp;onen osudný den přežít, a tedy věčný život bude umožněn jen těm lidem (= takové společnosti), kteří budou jednat v&nbsp;její celkový prospěch.</p> 
<p>Nejsem ani amatérský teolog, ani záhadolog, jen mi s&nbsp;blížícími se státnicemi přišla na mysl apokalypsa :-)<br> Pokud vás toto téma zaujalo, dobrý článek, potažmo web najdete zde:&nbsp;<a href="http://www.myty.info/view.php?cisloclanku=2005050003">http://www.myty.info/view.php?…</a></p> 
<h3 id="toc-nedokonalost-indexu-google">Nedokonalost indexu Google</h3> 
<p>Google umožňuje vyhledat frázi uzavřením do uvozovek. Fráze znamená, že se slova v&nbsp;dokumentu vyskytují ve stejném pořadí, jako v&nbsp;uvozovkách. Bohužel Google při tom ignoruje výskyt čehokoliv jiného, třeba interpunkčních znamének.</p> 
<p>Chtěl jsem vyhledat <em>Pavla Hejtmana</em>, odborného asistenta z&nbsp;Jihočeské Univerzity. Co čert nechtěl, hejtmanem Karlovarského kraje je jakýsi <em>Josef Pavel</em>, a web je proto plný výskytů posloupností slov typu „…řekl Josef Pavel, hejtman Karlovarského kraje.“ Když potom do Google zadáte <a href="http://www.google.cz/search?q=pavel+hejtman+j%C4%8Du&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:cs:official&amp;client=firefox-a"><code>"Pavel Hejtman"</code></a>, veškeré výsledky (kam až jsem vydržel proklikávat) odkazují právě na takovéto texty, a Pavel Hejtman jako by neexistoval. Naštěstí Pavel Hejtman je <a href="http://orgstr.jcu.cz/99000000/99030000/99030035/9eb467ee94e1cdecbdb2e36f5bc07d77ee3ae6b9">odborný asistent s&nbsp;akademickým titulem</a>, proto je možné jej vyhledat aspoň pomocí <a href="http://www.google.cz/search?q=pavel+hejtman+phdr&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:cs:official&amp;client=firefox-a">Pavel Hejtman PhDr</a>.</p> 
<h3 id="toc-neil-armstrong-na-mesici-vyvesil-bilou-vlajku-proti-radaru">Neil Armstrong na Měsíci vyvěsil Bílou vlajku proti&nbsp;radaru</h3> 
<p>Hnutí Nenásilí informovalo o&nbsp;podpoře amerického astronauta v&nbsp;boji proti radaru v&nbsp;Brdech. NASA údajně uskutečníla mimořádný neplánovaný let na Měsíc, aby zde Neil Armstrong s&nbsp;dvěma členy vesmírného výboru hnutí Nenásilí mohli vyvěsit Bílou vlajku, symbolizující odpor proti imperialismu a proti závodům ve zbrojení se strany států pod vedením pitomců a v&nbsp;budování obranných systémů na straně zemí řídících se zdravým rozumem.</p> 
<p>Více informací najdete na adrese <a href="http://ondra.zizka.cz/samostatne/nechciradar.cz/1457_Neil-Armstrong-vyjadril-podporu-proti-radaru.html">http://www.nenasili.cz/…-radaru.html</a>.</p> 
<h3 id="toc-seti-home-podruhe">SETI@home podruhé</h3> 
<p>Vždy po koupi nového počítače si říkám, že je škoda, aby taková mašina běžela jen tak. Pustím tedy SETI at home. Navíc mi to v&nbsp;zimě docela pěkně vytopí&nbsp;pokoj.</p> 
<p>Po nějaké době mašina zastará a já si říkám, zda přínos projektu SETI ospravedlní energetickou (a tedy i&nbsp;ekologickou) zátěž. Jaký je vlastně přínos projektu&nbsp;SETI?</p> 
<ol> 
 <li>Výzkum v&nbsp;oblasti distribuovaných výpočtů&nbsp;– proof of concept</li> 
 <li>Sociální dopady&nbsp;– jakás takás hrdost na svou zemi / univerzitu / firmu / tým / whatever…</li> 
 <li>Snad nějaký dopad na astronomii, nevím ale jaký.</li> 
</ol> 
<p>Co se týká samotného primárního účelu SETI@home, tedy hledání mimozemské inteligence, zatím kde nic, tu nic. Zatím tedy nevíme nic&nbsp;– ani, zda mimozemská inteligence existuje, nebo zda neexistuje. V&nbsp;tomto směru tedy zatím výsledky žádné. (Je také otázka, co skutečně projekt zpracovává&nbsp;– podle konspirační teorie mého kamaráda luští odposlechy systému&nbsp;–ECHOLON– ECHELON.)</p> 
<p>Ospravedlňují tedy dosavadní výsledky mojich cca 200&nbsp;W? Osobně jsem v&nbsp;tomto hodnocení trochu náladový. Nedávno jsem od SETI@home přešel na prokejt Rosetta@home. Po pár měsících mi ale provozovatelé SETI@home poslali mail, že nedávno jsem z&nbsp;projektu odešel, ale teď na přijímači v&nbsp;Areceibo pořídili zcela nový dekodér či co, který je schopný nahrávat až ze sedmi lokací na obloze najednou, a proto potřebují každý TerraFLOP. No budiž, znělo to tak přesvědčivě a prosebně, že jsem se nechal „ukecat“&nbsp;:-)</p> 
<p>Takže momentálně mám SETI@home puštěné 24&nbsp;hodin denně, snad to k&nbsp;něčemu bude. Projekt Rosetta mě moc nepřesvědčil; SETI sice nemá žádné výsledky, ale aspoň o&nbsp;tom pravidelně a na poměrně slušné úrovni informují. Rosetta nemá žádné výsledky, ale to jen usuzuji z&nbsp;toho, že na webu projektu nejsou informace o&nbsp;tom, zda něco objevili, či nikoliv. Proto je pro mě projekt SETI@home důvěryhodnější a „výpočtuhodnější“.</p> 
<h3 id="toc-proc-nikdo-nepouziva-prohlizec-opera">Proč nikdo nepoužívá prohlížeč Opera</h3> 
<p>Prvně, omlouvám se několika promile lidí, kteří operu používají, například <strong>Zdeněk Roule</strong>, <strong>Satan</strong> a jejich přizpůsobivé okolí (konečně jsem je oba dostal na internet :-)&nbsp;)</p> 
<p>Nicméně, z&nbsp;perspektivy <a href="http://marketshare.hitslink.com/report.aspx?qprid=1&amp;qpdt=1&amp;qpct=4&amp;qptimeframe=M&amp;qpsp=102&amp;qpnp=11">tohoto grafu</a> Operu skutečně nikdo nepoužívá.</p> 
<p>Velmi krátce jsem se zamyslel, proč jsem ji kdysi nezačal používat i&nbsp;já, ještě v&nbsp;době, kdy Mozilla suite nebyla tak dokonalá, a Opera již byla zadarmo.</p> 
<ol> 
 <li><strong>Kvůli bannerům.</strong> Být zadarmo je pěkná vlastnost, ale aby se mi několik hodin denně vypalovaly do sítnice barevné blikající věci, na to já nejsem. Pravda, byly různé cracky, ale kdo by se s&nbsp;tim mořil&nbsp;– zas tak špatná ta Mozilla Suite nebyla.</li> 
 <li><strong>Výchozí skin.</strong> Nemůžu si pomoci, výchozí skin Opery je hnusný (YMMV). Hnusně šedivý s&nbsp;hnusnými hnusně zelenými ovládacími prvky&nbsp;– zkrátka, nedá se na to koukat.</li> 
 <li><strong>Pluginy.</strong> Pro Mozillu, potažmo Firefox, vzniklo již po krátké době existence (rozuměj od doby, kdy jsem ji začal já používat, tedy snad <a href="http://en.wikipedia.org/wiki/History_of_Mozilla_Firefox">někdy ve verzi 0.7.x</a>) tolik moc skvělých rozšíření, že se takovému stavu nemůže titěrná komunita fanoušků Opery&nbsp;–nikdy– ++v&nbsp;dohledné době++ přiblížit. Pro webového vývojáře je tato stránka věci zásadní.</li> 
</ol> 
<p>Takže, důvod 1) padl, důvod 2) se drží a možná padne, důvod 3) will probably prevail forever. Nicméně pokud má Opera aspoň nahradit MSIE (libovolnou existující verzi&nbsp;– všechny jsou špatné), potom jí držím palce. Snad se někdy dostane aspoň na rozlišovací úroveň onoho grafu&nbsp;:-)</p> 
<p>//Update:// Neoblíbenost Opery je tématem na <a href="http://www.lupa.cz/clanky/jeste-rychlejsi-opera-zase-na-nic/">http://www.lupa.cz/…zase-na-nic/</a>. //Update:// Také tématem na <a href="http://pixy.cz/pixynergia/2007/tak-jeste-jednou-polopaticteji-proc-nepouzivate-operu/">http://pixy.cz/…ivate-operu/</a><br> a na <a href="http://www.misantrop.info/586891-pera.php">http://www.misantrop.info/586891-pera.php</a>.</p> 
<h3 id="toc-seti-home-want-s-you-back">SETI@home want's&nbsp;you back</h3> 
<p>Před časem jsem seznal, že projekt <a href="http://setiathome.berkeley.edu/">SETI@home</a> již funguje dost dlouho na to, aby přinesl aspoň „nějaké“ výsledky. Zatím však kde nic, tu nic. Ačkoliv <a href="http://aktualne.centrum.cz/zahranici/evropa/clanek.phtml?id=605286">existenci ufonů připouští již i&nbsp;Vatikán</a>, projekt SETI@home zatím církvi radost nedělá&nbsp;– žádní ufoni (přesto že <a href="http://www.rozhlas.cz/izurnal/cesko/_zprava/192239">Jiří Paroubek nabídl marťanům koaliční dohodu</a>), žádná komunikace s&nbsp;<a href="http://objekty.astro.cz/nase/50/">blízkými hvězdami</a>, ba ani prachsprosté podezřelé pípnutí nebylo identifikováno. Rozhodl jsem se tedy, že nebudu nadále plýtvat cca 120&nbsp;W na bezvýsledné výpočty a projekt opustím.</p> 
<p>Jenže, po pár měsících mi napsali opravdu dojemný dopis, no posuďte&nbsp;sami:</p> 
<blockquote> 
 <p>Dear Astar Seran:</p> 
 <p>We'd like to invite you to reconnect with SETI@home. Our records show that you've been with SETI@home since 09&nbsp;February 2008, but it's&nbsp;been 104&nbsp;days since you last returned a work unit. We want you back, and here's&nbsp;why:</p> 
 <p>These are exciting times for SETI@home. Last year we implemented a new SETI@home data recorder at the Arecibo radio telescope in Puerto Rico. This recorder is attached to a state-of-the-art multibeam receiver, so we can now measure signals from 7&nbsp;positions on the sky at once, with greater sensitivity to weak signals compared to the data from the flat feed antenna we've used since 1999.&nbsp;We've greatly increased the sensitivity of our data analysis, and the likelihood that we'll find the first signs of extraterrestrial life. We're also close to releasing a second application, Astropulse, which will look for extremely short pulses of astronomical (and possibly intelligent) origin.</p> 
 <p>With these new developments comes an increase in required computing power, for which we depend on people like you. We hope you will consider signing back on with SETI@home, and help in this wonderful scientific venture.</p> 
 <p>…</p> 
</blockquote> 
<p>Jistě uznáte, že když nainstalovali tak skvělý přijímač, musím jim dát ještě šanci. Zvlášť jako osoba spjatá s&nbsp;masovým rozšířením <a href="http://www.seti.cz/">SETI@home v&nbsp;ČR</a>&nbsp;:-)</p> 
<center>
 <img alt="" src="https://www.zizka.ch/pages/osobni/img/seti_banner_2001.gif">
</center> 
<p>Kdo si vzpomene, kde byla tato ikonka vystavená a přilákala kolem 20&nbsp;000&nbsp;návštěvníků?</p> 
<h3 id="toc-vyrazy-ktere-na-google-nejsou">Výrazy, které na google nejsou</h3> 
<p>Je s&nbsp;podivem, že při vší té obsáhlosti webu, potažmo internetu, na Google stále nenajdete některé (zcela nezbytné)&nbsp;fráze.</p> 
<p>Již se mi stalo několikrát, že jsem zadal frázi, u&nbsp;které jsem se bál spíše velkého počtu odkazů, ale rozhodně by mě nenapadlo, že se v&nbsp;indexu Google (který má nejobsáhlejší index ze všech vyhledávačů) vůbec nevyskytují.</p> 
<p>Tak například:</p> 
<h4 id="toc-proc-redkvicky-pali">Proč <a href="http://www.google.cz/search?hl=cs&amp;client=firefox-a&amp;rls=org.mozilla%3Acs%3Aofficial&amp;hs=4Pa&amp;q=%22%C5%99edkvi%C4%8Dky+p%C3%A1l%C3%AD%22&amp;btnG=Hledat&amp;lr=">ředkvičky pálí</a>?</h4> 
<p>Zajímalo mě, proč ředkvičky pálí. Jediný trochu relevantní odkaz vede na otázku diskutérky&nbsp;–</p> 
<blockquote> 
 <p>„Proč pálí ředkvičky jak sviňa? Já myslela, že to pálí proto, že jsou nerovnoměrně zalité. ale to já nemám.&nbsp;Nuže?“</p> 
</blockquote> 
<p>Takže vím, že ředkvičky nepálí proto, že by Tigra neuměla zalévat zahradu.</p> 
<p>Napadlo mě, že by to mohlo být omezeností českého internetu, kde najdete gigabajty diskuzí o&nbsp;tom, jestli je Paroubek blbec nebo velký blbec, ale o&nbsp;ředkvičky se nezajímá. Zkusil jsem tedy do Google zadat <a href="http://www.google.cz/search?hl=cs&amp;client=firefox-a&amp;rls=org.mozilla%3Acs%3Aofficial&amp;hs=sqF&amp;q=radish+burns&amp;btnG=Hledat&amp;lr=">radish burns</a>, <a href="http://www.google.cz/search?hl=cs&amp;client=firefox-a&amp;rls=org.mozilla%3Acs%3Aofficial&amp;hs=sqF&amp;q=radishes+burn&amp;btnG=Hledat&amp;lr=">radishes burn</a>, <a href="http://www.google.cz/search?hl=cs&amp;client=firefox-a&amp;rls=org.mozilla%3Acs%3Aofficial&amp;hs=sqF&amp;q=why+radishes+burn&amp;btnG=Hledat&amp;lr=">why radishes burn</a>. Bez výsledku.</p> 
<p>Potom jsem si vzpomněl, že na otázky by se měl specializovat server Ask Jeeves. Zkusil jsem se ho tedy optat: <a href="http://www.ask.com/web?qsrc=167&amp;o=0&amp;l=dir&amp;q=Why+radishes+burn%3F">Please, Why radishes burn?</a> A&nbsp;ejhle, pod zadávacím polem mám nápovědu&nbsp;– mám se zeptat, <a href="http://www.ask.com/web?q=Why+Are+Radishes+Hot&amp;qsrc=6&amp;o=0&amp;l=dir">Why Are Radishes Hot</a>. Jenže na tento dotaz opět dostávám odkazy na stránky, které otázku stavějí&nbsp;takto:</p> 
<blockquote> 
 <p>Q. What causes my radishes to be „hot“?<br> A. The „hotness“ of radishes results from the length of time they have grown rather than from their size. The radishes either grew too slowly or are too&nbsp;old.</p> 
</blockquote> 
<p><a href="http://www.arhomeandgarden.org/_archive/askjanet/vegetables/radish.htm">Nebo</a>:</p> 
<blockquote> 
 <p>Q: What makes radishes hot? My radishes this year are almost too hot to eat.<br> A: Radishes get hot for a number of reasons. If they are too old they are hotter, and if they were grown under low fertility or if they got too dry, and their growth was not as fast as it should have been, then they turn&nbsp;hot.</p> 
</blockquote> 
<p>Takže jsme zase tam, kde jsme byli. Já chci vědět, která <strong>látka</strong> v&nbsp;ředkvičkách pálí. Vite někdo, proč ředkvičky&nbsp;pálí?</p> 
<p><em>Update</em>: Tak výsledky vyhledávání se lehce změnily a do popředí se dostala <a href="http://server.ffa.vutbr.cz/~dub/wwwpetrdubcz/texty/texty_ruzne/redkvicky.html">odpověď Emeritního profesora Zahradnické fakulty Mendelovy zemědělské a lesnické univerzity Karla Kopce</a> z&nbsp;Lidových&nbsp;novin:</p> 
<blockquote> 
 <p>Ředkvičky při krájení nebo rozkousání uvolňují látky, které jim dávají typickou vůni a chuť i&nbsp;větší či menší štiplavost (pálivost). Ředkvičky totiž obsahují glukozionoláty, z&nbsp;nichž se v&nbsp;porušených buňkách uvolňují aromaticky i&nbsp;chuťově výrazné složky&nbsp;– izothiokyanáty. Je jich řada a kromě chuťových vlastností mají také antimikrobiální účinky a výrazný vliv na lidské zdraví. Přispívají ke zlepšení imunity, omezují riziko některých chorob, podporují stravitelnost ostatních pokrmů. Právě proto se doporučuje zvýšit konzumaci ředkviček a ředkví až na jeden kg&nbsp;ročně.</p> 
</blockquote> 
<p>Tak super, už to vím a universum se opět dostává blíže k&nbsp;rovnováze.</p> 
<h4 id="toc-jaka-je-vyhrevnost-vosku">Jaká je <a href="http://www.google.cz/search?hl=cs&amp;client=firefox-a&amp;rls=org.mozilla:cs:official&amp;hs=X7F&amp;sa=X&amp;oi=spell&amp;resnum=0&amp;ct=result&amp;cd=1&amp;q=v%C3%BDh%C5%99evnost+vosku&amp;spell=1">výhřevnost vosku</a>?</h4> 
<p>Další věcí, která mě zajímala, je výhřevnost vosku. V&nbsp;domě nám už netopí, okna profukují, a tak se stane, že mám na pokoji 17&nbsp;stupňů i&nbsp;při neustále puštěném počítači. Kamarád mi poradil, že když nechá na pokoji hořet čajovou svíčku, tak během zhruba čtyř hodin, po které svíčka vydrží, vzroste teplota v&nbsp;pokoji tak, že musí větrat. Jenže jeho pokoj má 16&nbsp;m<sup>2</sup>. Já jsem zapálil pole 6×6 čajových svíček, ale teplota vzrostla jen o&nbsp;půl stupně za hodinu. Proto jsem si chtěl ověřit, jak by se měla teplota vyvíjet teoreticky. Bohužel, výhřevnost vosku jsem na internetu nenašel. Stačila by mi jen orientační… nevite?&nbsp;:-)</p> 
<h4 id="toc-vicerozmerne-jazyky">Vícerozměrné jazyky</h4> 
<p>V&nbsp;teorii formálních jazyků se vyskytuje pojem „Vícerozměrné jazyky“. Pokud si ale tento termín v&nbsp;češtině zadáte do Google,&nbsp;mlčí.</p> 
<p>Je třeba zadat „multidimensional language“ a dozvídáme se, že <strong>vícerozměrný jazyk</strong> je takový, jehož výrazy jsou tvořeny ve více rozměrech. Nic víc jsem ale nenašel&nbsp;– google dává pořád dokola tuto stejnou slovníkovou definici. (Kandidát na pojem ve wikipedii, nechcete se toho někdo ujmout a vytvořit <em>wiki</em> článek?)</p> 
<h4 id="toc-moucha-kosovka"><a href="http://www.google.cz/search?q=mouka+ko%C5%A1ovka&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:cs:official&amp;client=firefox-a">Moucha košovka</a></h4> 
<p>Až do zaindexování tohoto článku se na Google vyskytuje jediná stránka na tato dvě slova a žádné stránky pro celou frázi. Muška košovka je moucha octomilka (viz <a href="http://cs.wikipedia.org/wiki/Octomilka">Octomilka</a> na Wikipedii).</p> 
<h4 id="toc-trojite-rovnitko-trojite-rovna-se"><a href="http://www.google.cz/search?q=%22trojit%C3%A9+rovn%C3%ADtko%22&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:cs:official&amp;client=firefox-a">Trojité rovnítko, trojité rovná se</a></h4> 
<p>Další nenalezené vyhledávané fráze možná přibudou časem. Teď mě jen zajímá, kolik lidí na světě je kdy bude vyhledávat.</p> 
<h3 id="toc-analytik-programator-otroci-za-jidlo-saty-a-vzduch">Analytik-programátor otročí za jídlo, šaty a vzduch</h3> 
<h4 id="toc-nabidka-pracovniho-mista">Nabídka pracovního místa</h4> 
<p>Ještěři z&nbsp;pekel hledají programátora na pozici analytik-programátor.</p> 
<p><strong>Hledáme:</strong> Nekreativního otrockého programátora, nejlépe s&nbsp;čipem v&nbsp;těle.</p> 
<p><strong>Nabízíme:</strong> Jídlo, šaty a vzduch.</p> 
<p><strong>Popis pozice:</strong></p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/osobni/img/analytik_programator.png">
</div> 
<p>Více informací na <a href="http://www.vesmirni-lide.cz">www.vesmirni-lide.cz</a>.</p> 
<h3 id="toc-vazba-diplomove-prace-v-ceskych-budejovicich">Vazba diplomové práce v&nbsp;Českých Budějovicích</h3> 
<p>Opět se blíží doba, kdy si diplomanti musejí nechat svázat diplomovou práci. Chtěl bych tedy všechny studenty varovat:</p> 
<p><strong>Nedávejte si diplomku svázat k&nbsp;firmě ZDECO!</strong></p> 
<p>Nejsem sám, kdo měl s&nbsp;touto firmou, sídlíci Na Sadech, potíže. Vazbu jedné DP zkazili (nevložili zadání), druhou zase svázali tak, že papíry pár minut po převzetí vyjely z&nbsp;desek. Tím se pochopitelně papíry zmačkaly a diplomka zničila. Chtěl jsem tedy vrátit peníze a uhradit škodu. Byli proti, jediné jejich přípustné řešení bylo, že mi do stejných desek znovu secvaknou nové listy. Nefér firma, sdružení obrany spotřebitelů na&nbsp;ně.</p> 
<p>Klíčová slova: <strong>svázání, vazba, diplomová práce, diplomka, České Budějovice, desky, Jihočeská univerzita, ZDECO, Na Sadech</strong>.</p> 
<h3 id="toc-vypousteni-vnitrniho-draka">Vypouštění vnitřního draka</h3> 
<p>Zajímavé. Spammeři procházejí literárním vývojem.</p> 
<p>Mnozí si pamatují, že na začátku spamu, kdy jsme ještě maily stíhali třídit ručně bez použití filtrů, chodily suché výzvy typu „Enlarge your penis“. To nemohlo zaujmout snad nikoho kromě debilů, na které ale asi kampaň mířila, takže vpořádku.</p> 
<p>Později první nastala vlna obrany proti spamu, založená na primitivní metodě „předmět / odesilatel / zpráva obsahuje slovo …“ → letí do koše. Krásné, jednoduché, ale fungovalo nanejvýš pár měsíců.</p> 
<p>Protože poté začali spameři nahrazovat různé znaky kombinacemi jiných, které je připomínají. Nejprve blízce („<code>EnIarge your penis</code>“), potom vzdáleně („Buy cheap V|agra“). Potom se spameři rozdělili na dvě větve&nbsp;– ti sofistikovanější, pro něž je spam výnosným obchodem, začali používat pokrokové metody. Ti méně pokrokoví zůstali u&nbsp;staré metody, jen ji dotahovali do krajností: <code>Bai C|-|34-p Uu|aaaaagg RRRaaa!</code>, <code>C|a L|S</code>, kde ještě tušíte, že si máte nutně koupit levnou ViiaaggRRuu nebo Cialis, ale když mi pak příjde výzva, <code>uh Buoy Cheap See - Alice</code>, už je to skoro jazykový hlavolam. Takový spam už přece není pro blbce&nbsp;:-)</p> 
<p>Ovšem i&nbsp;na takové se později bayesovské filtry a antispam algoritmy naučily, a tak těm lepším spammerům opět nezbylo, než sáhnout k&nbsp;jinému kroku: Omezit kvantitu a zvýšit kvalitu.</p> 
<p>A&nbsp;tak mi již denně nechodí dvacetkrát <code>Unrecognizable Rolex replica</code>, ale mám ve schránce první nesmělý náznak literárního útvaru:</p> 
<blockquote> 
 <p>Release your inner dragon with the help of bluepill!</p> 
</blockquote> 
<p>Mmm… představil jsem si sám sebe jako mužskou verzi té žluté ninja-holky z&nbsp;Kill Billa, jak ve stylu Jamese Bonda zachráním nějakou šikmookou kočku a pak na ni vypustím svého „vnitřního draka“ :D Plný očekávání dalšího kvalitního obsahu jsem mail otevřel… ale zklamal mě. Nedočkal jsem se ničeho víc&nbsp;než</p> 
<blockquote> 
 <p>If you cannot act the way you want, take some blue-coloured&nbsp;pills!</p> 
</blockquote> 
<p>Tak to je, pánové, trochu slabé. Až mi napíšete aspoň desetistránkovou motivační povídku, můžeme začít vyjednávat o&nbsp;nějaké té cheap částce&nbsp;– třeba dva centy za příběh. Do té doby vydělávejte nadále na blbcích, co koupí a sní „modré pilulky“ z&nbsp;pochybných zdrojů.</p> 
<h3 id="toc-tip-na-cestovani-hyperprostorem">Tip na cestování hyperprostorem</h3> 
<p>Problémem mezihvězdného cestování je nutnost těleso urychlit na rychlost přijatelnou k&nbsp;dostatečně rychlému přesunu, a potom jej zase zabrzdit. Co kdybychom ovšem využili princip kolotoče?</p> 
<p>Mohli bychom v&nbsp;jednom bodě (třeba i&nbsp;našeho prostoru) „upoutat“ „lano“, na konec lana připoutat těleso, které má cestovat, přemístit jej (stále v&nbsp;našem prostoru) na vzdálenost lana, a potom ho začít roztáčet. To by znamenalo udělit mu takovou energii směrem do jiného prostoru, která by stačila k&nbsp;jeho přemístění do výchozího bodu opisované „kružnice“. Po jeho opětovném objevení v&nbsp;našem prostoru ve výchozím místě bychom mu udělili další impulz, a takto jej postupně urychlovali.</p> 
<p>Po dosažení určité rychlosti oběhu by už byl problém jenom „nastoupit“ a „vystoupit“. Jsou dvě možnosti:<br> Jednak postavit obíhajícímu „dopravnímu prostředku“ náklad do cesty. Vypadalo by to asi tak, jako kdyby bagr jel nadzvukovou rychlostí a někde cestou nabral písek. To by jistě nákladu příliš neprospívalo.<br> Druhou možností je před nástupem náklad urychlit ve směru zbylého rozměru na rychlost dopravního prostředku. Energetická náročnost by ale byla asi stejná, jako na zrychlení a ubrždění nákladu při přímé cestě naším prostorem. Je celá tato teorie tedy k&nbsp;něčemu?</p> 
<p>„Dopravní prostředek“ by naším prostorem procházel jen velmi krátkou dobu. Problém urychlení nájkadu by tedy bylo vyvinout dostatek energie v&nbsp;krátkém čase. Co ale udělat další takové kolečko, tentokrát menší, a jen za účelem naložení nákladu? Jako oběžný bod by mohla sloužit nějaká těžká hvězda.</p> 
<p>Celé to pochopitelně počítá s&nbsp;rozvinutým dalším rozměrem, nikoliv smrsknutým, jako teorie superstrun.</p> 
<p>A&nbsp;teď hlavní otázky:</p> 
<ol> 
 <li>Jak vytvořit lano? Gravitací?</li> 
 <li>Proč to neudělat ve známých rozměrech?</li> 
 <li>Má vůbec náš vesmír více jak tři rozměry?</li> 
</ol> 
<p><em>Motiv zápisu tohoto s&nbsp;největší pravděpodobností blábolu hledejte v&nbsp;teorii myšlenkonů Terryho Prachetta&nbsp;:-)</em></p> 
<h3 id="toc-hledam-reseni-ulohy">Hledám řešení úlohy</h3> 
<p>Hledám řešení této otázky:</p> 
<blockquote> 
 <p>Máme N-rozměrný prostor. Kolik (N-1)-rozměrných prostorů rozdělí onen prostor na X N-rozměrných podprostorů?</p> 
</blockquote> 
<p>Nevím, kde hledat odpověď. Víte (ji) někdo?</p> 
<p>//Update:// Mám řešení. Dík patří Karlovi Kyrianovi za pomoc. Řešení jsem zpracoval ve svojí diplomce.</p> 
<p>V&nbsp;jednorozměrném prostoru dělí každá nadrovina (bod) prostor přímky tak, že přibude další jeden podprostor. Ve dvourozměrném prostoru vzniká s&nbsp;každou přidanou přímkou vždy o&nbsp;jeden prostor více než s&nbsp;předchozí. Ve trojrozměrném prostoru potom vzniká s&nbsp;<em>n</em>-tou přidanou rovinou o&nbsp;tolik více podprostorů, kolik podprostorů vzniklo ve dvourozměrném prostoru při přidání <em>n</em>-té přímky. Obecně potom pro <em>N</em>-rozměrný prostor platí, že přidáním <em>n</em>-té nerovnoběžné nadroviny přibude tolik podprostorů, kolik celkem jich přibylo rozdělením <em>N</em>-1-rozměrného prostoru <em>n</em> nerovnoběžnými nadrovinami. Rekurentní výpočet by potom mohl vypadat&nbsp;takto:</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/osobni/img/deleni_prostoru-vzorec_01.png">
</div> 
<p>Případně přímý výpočet vypadá takto: <img alt="" src="https://www.zizka.ch/pages/osobni/img/deleni_prostoru-vzorec_02.png"></p> 
<p>Potřebujeme ovšem znát opačný výpočet&nbsp;– známe dimenzionalitu prostoru, víme, kolik chceme výsledných podprostorů, a chceme vědět, kolik nadrovin jej takto rozdělí, resp. kolik máme použít neuronů na první vrstvě. Výpočtem se zde nebudeme podrobně zabývat, stačí nám jeho odhad. Výše uvedený výpočet se dá odhadnout jako <img alt="" src="https://www.zizka.ch/pages/osobni/img/deleni_prostoru-vzorec_03.png">&nbsp;
 <!-- //p//(//N// , //n//)  //n^N// / //N//! --></p> 
<p>Vyjádření <em>n</em> potom vypadá takto: <img alt="" src="https://www.zizka.ch/pages/osobni/img/deleni_prostoru-vzorec_04.png"></p> 
<p>kde (pro připomenutí) <em>n</em> je počet nadrovin, <em>N</em> je dimenzionalita prostoru, <em>p</em> je počet podprostorů a <strong>e</strong> je Eulerova konstanta.</p> 
<p>Ve výpočtech zacházíme s&nbsp;dimenzionalitou prostoru. Ta je rovna počtu vstupů&nbsp;sítě.</p> 
<h3 id="toc-icq-hoax-phishing">ICQ Hoax / phishing</h3> 
<p>Chodí nový ICQ phishing: New ICQ phishing appeared:</p> 
<blockquote>
 Hello, 
 <p>Your NEW ICQ password is: A4T4jXMh</p> 
 <p>Remember&nbsp;– your ICQ password is case sensitive.</p> 
 <p>After you login to your ICQ number, you might want to consider changing your password to a more complex&nbsp;one.</p> 
 <p>Your new password must contain 6–8 characters. It should include English upper and lower case letters and numbers.</p> 
 <p>Try to select a random password that will be hard for others to guess. (Example:&nbsp;…)</p> Here's&nbsp;how you change your password: In ICQ 5: Click the Main Menu button &gt; Preferences and Security → Password. In ICQ Pro versions 2000a through 2003b: Click the ICQ/Main button-&gt;Security &amp; Privacy Permissions-&gt;Password. In ICQ 6: Click the Main menu button &gt; select ‚Options‘ &gt; under ‚Privacy &amp; Security‘, select ‚Privacy‘ &gt; click ‚Change my password‘.
</blockquote> 
<p>Heslo si pochopitelně neměňte, buď je to kachna, nebo podvod. Of course, do not change the password&nbsp;– it's&nbsp;either a fraud or an&nbsp;hoax.</p>
                    </div>
                    ... <a href="pages/osobni/poznamky.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG0127.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/index.html"><h2 class="title">Programování</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-programovani">Programování</h2> 
<p>V&nbsp;sekci <em>Programování</em> najdete texty, které vyprodukuji na toto téma. To zahrnuje nejen jazyky a technologie jako PHP, Java a J2EE, C# a .NET, XSLT, SQL, ale i&nbsp;různá paradigmata (OOP, AOP) a oblasti výzkumu (neuronové&nbsp;sítě).</p> 
<h3 id="toc-obecne">Obecně</h3> 
<ul> 
 <li><a href="web_javascript_ajax_canvas/webttd.html">WebTTD</a>&nbsp;– browser-based Transport Tycoon clone&nbsp;idea.</li> 
 <li><a href="insolvencni_rejstrik-isir_ws/index.html">Insolvenční rejstřík&nbsp;– ISIR WS</a>&nbsp;– Zkušenosti s&nbsp;webovou službou Insolvenčního rejstříku.</li> 
 <li><a href="vybiram_jazyk_pro_systemove_skriptovani.html">Hledám jazyk pro systémové skriptování.</a></li> 
 <li><a href="linux-switch-script-alternatives-eselect.html">Linux: Bash generic script to switch versions</a>&nbsp;– (like <code>alternatives</code> and Gentoo's <code>eselect</code>)</li> 
</ul> 
<h4 id="toc-linux-filesystem-cache-flush">Linux filesystem cache flush</h4> 
<pre class="lang-text brush: text"># Will clear all the fs cache. Do a ’sync’ before to flush more caches.
echo 1 &gt; /proc/sys/vm/drop_caches</pre> 
<p><a href="http://mtj.wordpress.com/2006/10/18/clearing-linux-filesystem-read-cache/">http://mtj.wordpress.com/…-read-cache/</a></p> 
<h3 id="toc-java">Java</h3> 
<ul> 
 <li><a href="java/index.html">Novinky, postřehy</a></li> 
 <li><a href="java/navod-java_zacatky.html">Úplné začátky v&nbsp;Javě</a>&nbsp;– návod na přeložení <code>.java</code> zdrojáku na <code>.class</code> a jeho spuštění.</li> 
 <li><a href="java/navod-j2ee_uvod.html">Úvod do J2EE</a>&nbsp;– zde se dozvíte, co je J2EE.</li> 
 <li><a href="java/hibernate_netbeans_howto_tutorial.html">Hibernate super-quick start in NetBeans</a></li> 
 <li><a href="java/navod-spring-framework-zacatky.html">Úplné začátky s&nbsp;frameworkem Spring</a>&nbsp;– návod, jak začít se Springem a ukázka, k&nbsp;čemu Spring&nbsp;je.</li> 
 <li><a href="java/tipy.html">Tipy pro Java technologie</a></li> 
 <li><a href="java/texy_java_implementation.html">JTexy!&nbsp;– Java Texy! Implementation</a></li> 
</ul> 
<p>&lt;!--</p> 
<ul> 
 <li>Moje historická <a href="/java">Java stránka</a></li> 
</ul> 
<p>--&gt;</p> 
<h3 id="toc-php">PHP</h3> 
<ul> 
 <li><a href="php/vyhody_a_nevyhody_php.html">Výhody a nevýhody PHP</a>&nbsp;– pokus o&nbsp;souhrn výhod a nevýhod&nbsp;PHP.</li> 
 <li><a href="php/je_java_jako_linux_nebo_jako_windows.html">Je Java jako Linux nebo jako Windows?</a>&nbsp;– polemika s&nbsp;článkem Jakuba&nbsp;Vrány.</li> 
 <li><a href="php/vysledek_nasazeni_php_aneb_navrch_huj_uvnitr_fuj.html">Výsledek nasazení PHP aneb Navrch huj, uvnitř fuj</a>&nbsp;– ukázka přímých důsledků nedostatků PHP v&nbsp;praxi.</li> 
 <li><a href="php/nevyhody_php_v_praktickych_prikladech.html">Nevýhody PHP v&nbsp;praktických příkladech</a>&nbsp;– konkrétní rozvedení některých bodů ze seznamu nevýhod&nbsp;PHP.</li> 
 <li><a href="php/dalsi_nesmysl_v_php.html">Další ukázka ‚krás‘ PHP</a></li> 
</ul> 
<h3 id="toc-sql-a-mysql">SQL a MySQL</h3> 
<ul> 
 <li><a href="http://ondra.zizka.cz/pages/programming/sql/index.html">SQL Corner</a> (mostly in english)</li> 
</ul> 
<h3 id="toc-web-javascript-ajax-canvas">Web, JavaScript, AJAX, Canvas</h3> 
<ul> 
 <li><a href="web_javascript_ajax_canvas/index.html">Index page</a></li> 
 <li><a href="web_javascript_ajax_canvas/webttd.html">WebTTD</a>&nbsp;– browser-based Transport Tycoon clone&nbsp;idea.</li> 
 <li>I've made up a <a href="javascript-isometric-libraries.html">list of JavaScript libs for isometric rendering</a>.</li> 
 <li><a href="web_javascript_ajax_canvas/canvas_element_selection_buffer.html">Canvas element selection buffer</a></li> 
 <li><a href="/tools">Text tools</a>&nbsp;– Very simple interface for several text functions like <code>md5()</code>&nbsp;etc.</li> 
</ul> 
<h3 id="toc-neural-networks-and-artifical-intelligence-in-general">Neural Networks and Artifical Intelligence in General</h3> 
<ul> 
 <li><a href="programming/artificial_intelligence/index.html">Neural Networks</a></li> 
 <li><a href="/projekty/ai/piskvorky/overview.html">Criss-cross</a>&nbsp;– a school project. An attempt for a AI for the criss-cross game, with re-inforcement learning.</li> 
 <li><a href="/projekty/imagenetics/index.html">Imagenetics</a>&nbsp;– Images generated by genetic algorithms, rated by the user (that means, you&nbsp;:-)</li> 
</ul> 
<h3 id="toc-ruzne">Různé</h3> 
<ul> 
 <li><a href="cache_objectscript_nejhorsi_jazyk_na_svete.html">Caché ObjectScript&nbsp;– nejhorší jazyk na světě</a></li> 
</ul>
                    </div>
                    ... <a href="pages/programming/index.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0178.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/diplomka/diplomka-navod_na_zprovozneni.html"><h2 class="title">Ondřej
Žižka – Diplomová práce – Návod na zprovoznění</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-ondrej-zizka-diplomova-prace-navod-na-zprovozneni">Ondřej Žižka&nbsp;– Diplomová práce&nbsp;– Návod na zprovoznění</h2> 
<h3 id="toc-sql-skripty">SQL skripty</h3> 
<p>Všechen SQL kód potřebný ke vytvoření databáze je v&nbsp;adresáři sql/ v&nbsp;těchto souborech:</p> 
<ul> 
 <li><code>JR - Procedury a funkce pro DP.sql</code></li> 
 <li><code>JR - Tabulky s importovanými daty pro DP.sql</code></li> 
 <li><code>JR - Tabulky s převedenými daty pro DP.sql</code></li> 
 <li><code>NN - Procedury a funkce pro DP.sql</code></li> 
 <li><code>NN - Tabulky s daty.sql</code></li> 
</ul> 
<p>Soubory s&nbsp;předponou <code>NN</code> obsahují SQL pro rekonstrukci implementace neuronových sítí. Soubory s&nbsp;předponou <code>JR</code> obsahují SQL pro vytvoření databáze jízdních řádů a příslušných uložených procedur.</p> 
<p>Další dva soubory obsahují ukázkové naučené neuronové&nbsp;sítě:</p> 
<ul> 
 <li><code>JR NN - Naučená síť pro zastávku 5.sql</code></li> 
 <li><code>NN - Naučená síť XOR.sql</code></li> 
</ul> 
<h3 id="toc-instalace-mysql-vytvoreni-databazi-a-nastaveni-prav">Instalace MySQL, vytvoření databází a nastavení práv</h3> 
<p>Nejprve je třeba nainstalovat standardní distribuci MySQL 5.0&nbsp;nebo vyšší (<a href="http://dev.mysql.com/downloads/mysql/5.0.html#downloads">stahujte zde</a>).</p> 
<p>Poté je třeba vytvořit dvě databáze a nastavit uživatelská práva pro uživatele, který je bude používat. Následující kód vytvoří databáze <code>neural_network</code> a <code>jizdnirady_cb</code> a nastaví veškerá práva k&nbsp;nim uživateli <code>OndrejZizka</code>, který se může připojit odkudkoliv&nbsp;(‚%‘):</p> 
<pre class="brush: lang-sql brush: sql">CREATE DATABASE neural_network;
CREATE DATABASE jizdnirady_cb;
GRANT ALL ON neural_network.* TO OndrejZizka@'%' IDENTIFIED BY 'BezpecneHeslo';
GRANT ALL ON jizdnirady_cb.*  TO OndrejZizka@'%' IDENTIFIED BY 'BezpecneHeslo';</pre> 
<p>Tyto úkony lze pohodlně provést v&nbsp;GUI nástroji MySQL Administrator, případně vykonat SQL příkazy v&nbsp;nástroji MySQL Query Browser, viz&nbsp;níže.</p> 
<h3 id="toc-rekonstrukce-databaze-z-sql-souboru">Rekonstrukce databáze z&nbsp;SQL souborů</h3> 
<p>SQL skripty jsou vytvořené nástrojem MySQL Administator, oficiálním nástrojem pro administraci databázového systému MySQL (<a href="http://dev.mysql.com/downloads/gui-tools/5.0.html">stahujte zde</a>).</p> 
<p>Nejsnazší cesta, jak z&nbsp;nich vytvořit svoji kopii databáze, je použít právě tento nástroj. Nezkoušejte načíst procedury v&nbsp;nástroji <em>phpMyAdmin</em>&nbsp;– ten je plný chyb a nezvládne skripty správně přeparsovat.</p> 
<p><strong>Pozor!</strong> Pokud se vaše databáze pro neuronové sítě nejmenuje <code>neural_network</code>, <strong>je nutné ručně upravit SQL skript ukládaných procedur pro databázi jízdní řády!</strong> Toto se bohužel nedá v&nbsp;současné verzi MySQL nijak obejít.</p> 
<p>Úpravu proveďte takto:</p> 
<ol> 
 <li>Otevřete soubor <code>JR - Procedury a funkce pro DP.sql</code> v&nbsp;editoru, který zvládá kódování UTF-8&nbsp;bez signatury (pro Windows např. Visual Studio nebo PSpad).</li> 
 <li>Nahraďte veškeré výskyty řetězce <code>neural_network.</code> názvem vaší databáze a tečkou.</li> 
 <li>Uložte soubor v&nbsp;kódování UTF-8&nbsp;bez signatury (na obrázku je ukázka uložení ve Visual Studiu).</li> 
</ol> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/MSVS-Uprava_SQL_Skriptu_JR-ramecky.png">
</div> 
<p>Poté upravenou verzi skriptu načtěte do MySQL místo původní&nbsp;verze.</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/MySQL_Administrator-01.png"> 
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/MySQL_Administrator-02.png">
</div> 
<h3 id="toc-prohlizeni-dat">Prohlížení dat</h3> 
<p>Výše jmenovaný balík GUI nástrojů zahrnuje také MySQL Query Browser, šikovný nástroj pro práci s&nbsp;databázovým systémem&nbsp;MySQL.</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/MySQL_Query_Browser-01-B.png">
</div> 
<p>Výčet jeho vlastností a dovedností je dlouhý. My se pro účely demonstrace kódu této diplomové práce omezíme na podstatné.</p> 
<p>Po spuštění stiskněte <code>F11</code>&nbsp;– to zvětší konzoli pro SQL příkazy.</p> 
<p>Nejprve předznamenejme, že MySQL používá koncept „aktuálně vybrané databáze“. Pokud voláte nějakou proceduru nebo pracujete s&nbsp;tabulkou, ujistěte se, že buď používáte plně kvalifikované jméno, nebo se daný objekt nachází ve vybrané databázi.</p> 
<p>SQL příkazy vykonáváte tak, že na něj najedete kurzorem (nikoliv ukazatelem myši) a stisknete Ctrl + Enter. Výsledek (resultset) se zobrazí v&nbsp;dolní&nbsp;části</p> 
<p>Můžete prozkoumat obsah tabulek jízdních řádů těmito SQL příkazy:</p> 
<pre class="brush: lang-sql brush: sql">SELECT * FROM mhd_jizdy LIMIT 100;
SELECT * FROM mhd_jizdy_stani LIMIT 100;
SELECT * FROM mhd_linky;
SELECT * FROM mhd_kody;
SELECT * FROM mhd_trasy LIMIT 100;
SELECT * FROM mhd_trasy_uzly LIMIT 100;
SELECT * FROM mhd_zast LIMIT 100;</pre> 
<p>Zde je například výpis zastávek a jejich geografických&nbsp;po­zic:</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/QB-Zastavky.png">
</div> 
<p>Po importu dat z&nbsp;výše uvedených souborů obsahují tabulky všechna data jízdních řádů, na kterých jsme kód testovali.</p> 
<p>Z&nbsp;tabulek je možné vhodnými SELECTy získat jakékoliv informace, které chceme znát&nbsp;– například:</p> 
<ul> 
 <li>trasy projíždějící danou zastávkou a počet zastávek do konce příslušné&nbsp;trasy</li> 
 <li>zastávky dané trasy</li> 
 <li>zastávky a časy stání dané jíždy</li> 
 <li>odjezdy spojů dané linky z&nbsp;dané zastávky</li> 
 <li>první následující jízda přijízdějící do dané zastávky od daného okamžiku</li> 
</ul> 
<p>Zde je ukázka výpisu všech linek projíždějících zastávkou Žižkova:</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/QB-Linky_projizdejici_zastavkou_Zizkova.png">
</div> 
<p>Tabulky neuronových sítí prozkoumáte takto:</p> 
<pre class="brush: lang-sql brush: sql">SELECT * FROM neural_network.nn_networks;
SELECT * FROM neural_network.nn_net_neurons;
SELECT * FROM neural_network.nn_net_synapses;</pre> 
<p>Po importu obsahují tabulky několik testovacích neuronových&nbsp;sítí.</p> 
<p>Ladící zprávy pro algoritmy jízdních řádů, resp. neuronových sítí, najdete v&nbsp;tabulkách <code>neural_network.lib_logg</code>, resp. <code>jizdnirady_cb.lib_logg</code>:</p> 
<pre class="brush: lang-sql brush: sql">SELECT * FROM neural_network.lib_logg;
SELECT * FROM jizdnirady_cb.lib_logg;</pre> 
<h3 id="toc-volani-api">Volání API</h3> 
<p>Jak se konkrétní procedury používají je popsáno jednak v&nbsp;technické zprávě diplomové práce, jednak v&nbsp;komentářích v&nbsp;kódu jednotlivých procedur, a také na webu autora&nbsp;– <a href="http://ondra.zizka.cz/pages/programming/transport_schedule_search/index.html">jízdní řády</a>, <a href="http://ondra.zizka.cz/pages/programming/neural_networks_in_sql_stored_procedures/index.html">neuronové sítě</a>.</p> 
<p>Proto zde jen několik příkladů, jak SQL příkazy používat.</p> 
<p>Standardně Query Browser po každém dotazu uzavře spojení s&nbsp;DB. Proto nejprve spusťte transakci&nbsp;– dočasné tabulky tak zůstanou k&nbsp;dispozici po volání procedury. Transakci spustíte buď příkazem <code>START TRANSACTION;</code> (a stisknutím <code>Ctrl+Enter</code>) nebo tlačítkem <em>Transaction</em> v&nbsp;horním pruhu programu. Vedle něj se po spustění transakce objeví tlačítka pro potvrzení nebo zrušení transakce. Stejného efektu lze docílit provedením příkazů <code>COMMIT;</code> nebo <code>ROLLBACK;</code>.</p> 
<h4 id="toc-kod-pro-vyhledavani-v-jizdnich-radech">Kód pro vyhledávání v&nbsp;jízdních řádech</h4> 
<pre class="brush: lang-sql brush: sql">-- Vyhledání spoje ze zastávky 115 do zastávky 465, maximálně 2 přestupy.
CALL mhd_VyhledejSpoje(115, 465, NOW(), 3);
SELECT * FROM mhd_VyhledejSpoje ORDER BY pos;</pre> 
<p>Zde je ukázka vyhledání spojů mezi zastávkami <em>Žižkova&nbsp;– Budvar&nbsp;– U&nbsp;pily&nbsp;– Nemocnice&nbsp;– U&nbsp;chromých</em>:</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/QB-Spoje-Zizkova-U_Chromych.png">
</div> 
<h4 id="toc-kod-pro-neuronove-site">Kód pro neuronové sítě</h4> 
<p>Se sítěmi lze provádět v&nbsp;podstatě tři operace: Vytvářet je, provést jejich výpočet, a učit&nbsp;je.</p> 
<p>Na následujícím obrázku jsou zachycené první dva kroky.</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/QB-Vypocet_site_XOR_s_logem.png">
</div> 
<p>Nejprve vytváříme neuronovou síť s&nbsp;architekturou <code>2,2,1</code> (vhodná pro řešení&nbsp;XOR):</p> 
<pre class="brush: lang-sql brush: sql">-- Vytvoření neuronové sítě
CALL nn_CreatePerceptron('2,2,1','XOR', 0.10, 0.5, @out_NetID);</pre> 
<p>Pro vzniklou síť provádíme její výpočet a uchováváme hodnoty vnitřních neuronů:</p> 
<pre class="brush: lang-sql brush: sql">-- Výpočet neuronové sítě
CALL nn_ComputeNet(1, '-1, 1', TRUE);

-- Zjistění výsledků výpočtu
SELECT * FROM nn_ComputeNet;

-- Výstupní hodnoty všech neuronů
SELECT * FROM nn_ComputeNet_InternalValues;</pre> 
<p>Výsledkem jsou tyto struktury:</p> 
<table> 
 <thead> 
  <tr> 
   <th>id_neuron</th> 
   <th>val</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td>5</td> 
   <td>0.984122623404696</td> 
  </tr> 
 </tbody> 
</table> 
<table> 
 <thead> 
  <tr> 
   <th>id_neuron</th> 
   <th>val</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td>1</td> 
   <td>–1</td> 
  </tr> 
  <tr> 
   <td>2</td> 
   <td>1</td> 
  </tr> 
  <tr> 
   <td>3</td> 
   <td>0.0166427942550775</td> 
  </tr> 
  <tr> 
   <td>4</td> 
   <td>0.972952595778587</td> 
  </tr> 
  <tr> 
   <td>5</td> 
   <td>0.984122623404696</td> 
  </tr> 
 </tbody> 
</table> 
<p>Na základě vzniklých hodnot můžeme provést jeden krok&nbsp;učení:</p> 
<pre class="brush: lang-sql brush: sql">-- Učení neuronové sítě
ALTER TABLE nn_ComputeNet RENAME TO nn_CorrectWeights;
ALTER TABLE nn_ComputeNet_InternalValues RENAME TO nn_CorrectWeights_InternalValues;
CALL nn_CorrectWeights(iNetID, '1', @dLearn, @out_dErrorSum);</pre> 
<p>Po provedení procedury (a případně potvrzení transakce) jsou váhy sítě upravené algoritmem backpropagation podle předchozího stavu sítě, dočasně uložených výstupních hodnot všech neuronů sítě a požadovaných hodnot výstupní vrstvy.</p> 
<p>Pro pohodlné vyzkoušení učení neuronové sítě je k&nbsp;dispozici procedra <code>nn_TeachXOR_Dynamic( //ID//, //cílová úroveň chyby//, //maximum kroků//)</code>. Kód v&nbsp;následující ukázce učí síť vytvořenou výše uvedeným postupem na cílovou úroveň chyby 0,0001&nbsp;v&nbsp;maximálním počtu 10&nbsp;000&nbsp;kroků:</p> 
<pre class="brush: lang-sql brush: sql">-- Učení neuronové sítě pro XOR
CALL nn_TeachXOR_Dynamic(3, 0.0001, 10000);</pre> 
<h4 id="toc-kod-uceni-neuronovych-siti-pro-heuristiku-vyhledavani-spoju">Kód učení neuronových sítí pro heuristiku vyhledávání&nbsp;spojů</h4> 
<p>V&nbsp;diplomové práci používáme neuronové sítě k&nbsp;určení vhodné trasy pro dosažení cílové zastávky v&nbsp;nejlepším čase.<br> Zde je kód pro vytvoření a učení neuronové sítě pro zastávku&nbsp;5:</p> 
<pre class="brush: lang-sql brush: sql">-- Vytvoření sítě pro zastávku 5 se třiceti neurony v jedné skryté vrstvě:
CALL mhd_nn_CreateNetForStation(5, '30');

-- Učení právě vzniklé sítě pro zastávku 5 do cílové
-- úrovně chyby 0.0001, maximálně po 40 000 kol učení:
CALL mhd_nn_TeachStationNet(5, LAST_INSERT_ID(), 0.0001, 40000);</pre> 
<p>Všechny procesy se v&nbsp;naší implementaci zaznamenávají do logu. To je užitečné zejména pokud něco nepracuje podle očekávání. Většinou je chyba na straně uživatele a v&nbsp;logu je zapsán její příčina (ve sloupci <code>level</code> je hodnota <code>error</code> nebo <code>warning</code>).</p> 
<p>Zde je ukázka záznamů z&nbsp;učení neuronové sítě zastávky s&nbsp;ID&nbsp;530:</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/diplomka/navod/QB-Log_uceni_neuronove_site_zastavky.png">
</div> 
<p>Další vysvětlení najdete ve výše jmenovaných zdrojích&nbsp;– v&nbsp;diplomové prácí, ve zdrojových kódech jednotlivých procedur a na webu autora.</p> 
<p>Případné dotazy směřujte na mail <a href="mailto:ondra@dynawest.cz">ondra@
  <!-- -->dynawest.cz</a> nebo JabberID <code>ondra.zizka@jabber.cz</code>.</p>
                    </div>
                    ... <a href="pages/diplomka/diplomka-navod_na_zprovozneni.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC4_0782.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/realitni_kancelar/byty_ceske_budejovice.html"><h2 class="title">Nabídka: byt
3+1 v Českých Budějovicích</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-nabidka-byt-3-1-v-ceskych-budejovicich">Nabídka: byt 3+1&nbsp;v&nbsp;Českých Budějovicích</h2> 
<p>Nabízím byt 3+1&nbsp;v&nbsp;panelovém domě v&nbsp;klidné části českých Budějovic&nbsp;– sídliště Vltava.</p> 
<h3 id="toc-zakladni-informace">Základní informace</h3> 
<ul> 
 <li>dům po celkové rekonstrukci&nbsp;– střecha, zateplení, výměna oken a stoupaček.</li> 
 <li>7.&nbsp;patro</li> 
 <li>3&nbsp;pokoje orientované na sever, jeden na jih</li> 
 <li>balkon</li> 
 <li>družstevní forma vlastnictví</li> 
</ul> 
<h3 id="toc-poloha-bytu">Poloha bytu</h3> 
<p>Byt se nachází na severním konci sídliště vltava. V&nbsp;okolí:</p> 
<ul> 
 <li>prodejna Globus</li> 
 <li>zastávka Sídliště Vltava&nbsp;– MHD č. 9, 14, 15, 19</li> 
 <li>chráněná přírodní rezervace Vrbenské Rybníky</li> 
 <li>v&nbsp;domě je přípojka kabelové televize a několik společností zde nabízí vysokorychlostní internet.</li> 
</ul> 
<h3 id="toc-druzstevni-vlastnictvi">Družstevní vlastnictví</h3> 
<p>Družstevní vlastnictví někteří lidé iracionálně považují za cosi méněcenného a špatného. Oproti osobnímu vlastnictví má ale mnoho&nbsp;výhod:</p> 
<ul> 
 <li>Souhlas s&nbsp;nastěhováním musí udělit družstvo. S&nbsp;tím obvykle není problém, ale navíc to ochrání dům před nastěhováním problémových nájemníků.</li> 
 <li>Celkové lepší fungování domu&nbsp;– lidé se lépe domluví na nutných opravách, společných rekonstrukcích.</li> 
 <li>Chod domu si obvykle některý z&nbsp;obyvatel vezme „na starost“&nbsp;– rychleji se tak vyřeší běžné provozní poruchy (poruchy výtahu, prasklá voda,&nbsp;atd.).</li> 
 <li>Menší anonymita&nbsp;– pravidelné schůze družstva (pochopitelně s&nbsp;dobrovolnou účastí) umožní nájemníkům se poznat lépe než přes zdi&nbsp;domu.</li> 
 <li>Pro sdružení vlastníků banky často neposkytují hypotéky&nbsp;– viz&nbsp;níže.</li> 
</ul> 
<p>Jinak je družstevní vlastnicví stejně cenné jako osobní&nbsp;– byt není „někoho jiného“. Veškeré peníze, které platíte, jdou do oprav domu či investic do&nbsp;domu.</p> 
<p>Někdo má dojem, že družstvo jej může „nutit“ platit na rekonstrukci, o&nbsp;kterou nemá zájem, kdežto s&nbsp;bytem v&nbsp;osobním vlastnictví si může dělat, co chce. To ale není pravda: V&nbsp;domech s&nbsp;více než 5&nbsp;byty je ze zákona povinnost ustanovit <em>sdružení vlastníků bytových jednotek</em>, které bude spravovat dům podobně jako družstvo, a nájemníci jsou povinni se podřídit hlasování sdružení vlastníků.</p> 
<p>Navíc pro společenství vlastníků banky obvykle neposkytují hypotéky:</p> 
<blockquote> 
 <p>Pro sdružení/spole­čenství vlastníků bytových jednotek hypoteční úvěr neposkytujeme. Je však možné na obchodním místě banky individuálně projednat tzv. investiční úvěr poskytovaný pro oblast SME (úvěry pro společnosti a osoby samostatně výdělečně činné). Tento typ úvěru je ale skutečně nutné individuálně projednat, a to včetně podmínek. <a href="http://www.mesec.cz/poradna/hypoteky-v-roce-2004/">Marek Richter, vedoucí týmu hypotečních úvěrů Raiffeisenbank</a></p> 
</blockquote> 
<p>Při koupi bytu v&nbsp;osobním vlastnictví v&nbsp;polorozpadlém paneláku tedy kupujete časovanou bombu a je pravděpodobné, že rekonstrukce domu neproběhne v&nbsp;dohledné&nbsp;době.</p> 
<p>Každopádně, <strong>tento byt</strong> je v&nbsp;rekonstruovaném domě, žádné další společné investice se nechystají, a výše příspěvků do fondu oprav jsou pevně nastavené. Spolupráce s&nbsp;družstvem je dlouhodobě dobrá a k&nbsp;plné spokojenosti obyvatel.</p> 
<h3 id="toc-ostatni">Ostatní</h3> 
<p>Prodej bytu nijak nespěchá, proto dokud vidíte tuto nabídku, je platná.</p> 
<p>Využijte možnosti koupit byt bez zbytečných poplatků realitní kanceláři.</p> 
<p>Pište na některý z&nbsp;kontaktů na stránce <a href="/pages/osobni/kontakty.html">kontakty</a>.</p>
                    </div>
                    ... <a href="pages/realitni_kancelar/byty_ceske_budejovice.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0005.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/php/vyhody_a_nevyhody_php.html"><h2 class="title">Výhody a nevýhody PHP</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-vyhody-a-nevyhody-php">Výhody a nevýhody PHP</h2> 
<p><em>Update: V&nbsp;návaznosti na tento článek vznikl další&nbsp;– <a href="/pages/programming/java/je_java_jako_linux_nebo_jako_windows.html">Je Java jako Linux nebo jako Windows?</a></em></p> 
<p><em>Update: Abych nezůstal u&nbsp;teorie a subjektivních hodnocení <acronym title="Personal Home Page Tools">PHP</acronym>, přidám ukázku jednoho webu napsaného v&nbsp;PHP&nbsp;– a to hned <a href="vysledek_nasazeni_php_aneb_navrch_huj_uvnitr_fuj.html">web zabývající se programováním</a>.</em></p> 
<p><em>Update: V&nbsp;posledním (aspoň doufám) článku na toto téma <a href="nevyhody_php_v_praktickych_prikladech.html">vysvětluji jednotlivé body ze seznamu nevýhod</a>.</em></p> 
<!-- "Srovnání Java a PHP":srovnani_php_a_javy.html. --> 
<hr> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/programming/php/ElePHPant_with_Tiger.jpg" style="float:right">
</div> 
<p>Na webu je mnoho flejmů, zda je PHP lepší / horší než Java a .NET atd. Ostatně, nejjednodušší způsob, jak rozpoutat flejm, je zajít na hodně čtený blog nějakého PHPčkáře a zeptat se místních, že jste nováček a jestli je PHP lepší než Java. Mimojiné se na tom otestuje složení čtenářů&nbsp;– tj. nakolik jsou zastoupeni čistokrevní PHPčkáři s&nbsp;klapkami na očích, kteří nemají šajna o&nbsp;MVC, O/R a kolikrát ani pořádném OOP návrhu.</p> 
<p>Nicméně nenašel jsem (pravda, zas tolik jsem nehledal) nějakou pořádnou moderovanou diskusi, případně článek, o&nbsp;výhodách a nevýhodách&nbsp;PHP.</p> 
<p>//Update:// Našel jsem celkem dobrý článek na <a href="http://spyced.blogspot.com/2005/06/why-php-sucks.html">http://spyced.blogspot.com/…p-sucks.html</a>. Sice je poněkud starší, ale jádro pudla zůstává. Je o&nbsp;dost ostřejší a než tento můj článek, takže PHPčkáři&nbsp;– bacha! :-) A&nbsp;všimněte si, že J2EE autor označuje za neelegantní stejně jako&nbsp;PHP.</p> 
<p>Trochu se porozhlížím, kamže půjdu pracovat na fulltime. Do toho mě oslovil bývalý spolužák, že prý si mě všimnul na přednáškách Seznam.cz a že jejich firma naléhavě hledá programátory PHP a jestli bych k&nbsp;nim nešel. Já na to, jestli dělají v&nbsp;Javě, a že prý ano, ale hledají PHP programátory. Slíbil jsem, že se tedy ozvu jeho šéfovi a pokecáme. Pak jsem na to ale pozapomněl a šéf se ozval sám (asi hledají opravdu naléhavě&nbsp;:-)</p> 
<p>Popravdě jsem mu vyložil, že PHP umím dobře, prakticky do detailů, no což to budu opisovat&nbsp;– zde je má odpověď:</p> 
<blockquote> 
 <p>Dobrý den,</p> 
 <p>Vaše nabídka mě zaujala. Shrnu svoji situaci:</p> 
 <p>V&nbsp;PHP vyvíjím (komerčně) už několik let. Možná právě proto mě to ale velice silně táhne k&nbsp;Javě a J2EE […]. Dále mám zkušenosti s [… … …]&nbsp;.</p> 
 <p>Kolega XY mi už také psal, zvažoval jsem, že se ozvu, ale říkal, že váš J2EE tým je asi spíše&nbsp;plný.</p> 
 <p>Mohl bych tedy pracovat jak jako vývojář PHP, tak J2EE, nicméne druhé o&nbsp;mnoho raději […]. Nabídku pracovního místa už mám, proto by mě zajímaly další podmínky&nbsp;– můžeme je případně probrat po telefonu.</p> 
 <p>V&nbsp;příloze posílám své CV, pokud by bylo třeba.</p> 
 <p>S&nbsp;pozdravem Ing. Ondřej Žižka</p> 
</blockquote> 
<p>Asi půl hodinu na to se mi šéfík ozval po telefonu a domluvili jsme si schůzku. Na té jsem se dozvěděl, že získali kontrakt od firmy ABC, jíž dělají pokladní systém v&nbsp;J2EE a registrační web v&nbsp;PHP. A&nbsp;že na PHPkové weby mají svůj PHP framework (a v&nbsp;tu chvíli jsem si říkal&nbsp;– ajejej, další „svůj PHP framework…“) a že jej chtějí rozvinout. Ptal jsem se, co umí, jak funguje a oč jej chtějí rozvinout. A&nbsp;dozvěděl jsem se,&nbsp;že:</p> 
<ul> 
 <li>začali jej vyvíjet jako redakční systém</li> 
 <li>přesto to ale nyní není něco jako Joomla, naopak, něco diametrálně odlišného (jestli jo, tak jedině&nbsp;dobře)</li> 
 <li>umí trochu MVC ve stylu Struts</li> 
 <li>zkoušeli dělat O/R mapování, ale je to moc složité</li> 
 <li>chtějí framework refaktorovat (oddělit moduly, zmenšit velikost a snížit počet styčných ploch, redesign)</li> 
 <li>chtějí zapracovat na Ajaxové části</li> 
 <li>chtějí zabudovat podporu webových služeb</li> 
 <li>chtějí zabudovat mechanismus šablon</li> 
 <li>atd atd.</li> 
</ul> 
<p>Potom se stočila řeč na to, jestli bych mohl dělat Java juniora, a později, proč bych nemohl, respektive proč chtějí vyvíjet v&nbsp;PHP a poč vyvíjet framework pro PHP,&nbsp;který:</p> 
<ul> 
 <li>který bude pokrývat 2% funkčnosti existujících (Java a J2EE) frameworků</li> 
 <li>který budou vyvíjet jejich vlastní programátoři za v&nbsp;součtu slušnou&nbsp;částku</li> 
 <li>který nehodlají uvolnit jako opensource ani prodávat (vyplynulo)</li> 
 <li>který bude po dlouhou dobu neodladěný a bude mít „dětské nemoci“</li> 
</ul> 
<p>a nakonec&nbsp;– a to především&nbsp;–</p> 
<ul> 
 <li>proč vůbec vyvíjet v&nbsp;PHP.</li> 
</ul> 
<p>No diskuse to byla těžká, protože šéfík (nic proti němu, zdál se jako moc fajn chlap) je programátor&nbsp;– teoretik z&nbsp;Masarykovy univerzity, který zná PHP i&nbsp;J2EE „z&nbsp;manažerského pohledu“, a třetí účastník&nbsp;– jejich PHP senior&nbsp;– neví o&nbsp;Javě a J2EE nic (také nic proti němu, fajn kluk&nbsp;:-)</p> 
<p>Zkrátka jejich postoj je takový, že PHP je skvělá technologie na jednodušší věci, jako je frontend pro Javovský backend, resp. nad databází. Inu dobrá, já jim to neberu, ale během celého rozhovoru mi hlavou běhaly vzpomínky na nejrůznější veselé příhody (dalo by se přeložit jako „gay incidents“ :) s&nbsp;PHP:</p> 
<h3 id="toc-proc-neprogramovat-v-php">Proč neprogramovat v&nbsp;PHP</h3> 
<ul> 
 <li>Záhadné chyby mezi minor verzemi</li> 
 <li>Nutnost překopat celý systém při přechodu na novou major&nbsp;verzi</li> 
 <li>„Krása“ procesu deployování uploadem na FTP či obdobným</li> 
 <li>Dlouhé hodiny hledání obezliček a work-aroundů, jak obejít tu kterou vlastnost&nbsp;PHP</li> 
 <li>Vytváření OOP wrapperů pro procedurální PHP funkce typu&nbsp;<code>mysql_*</code></li> 
 <li>Přepisování stohů zdrojáků při refaktoringu, protože PHP je <a href="http://www.php.net/">bordelářský jazyk</a> a programátora vyloženě svádí programovat jak&nbsp;prase</li> 
 <li>Stovky případů hledání chyby, kdy se ukázalo, že za vším stojí přepis v&nbsp;názvu proměnné</li> 
 <li>Ošetřování rozdílnosti implementace ve Windows a na&nbsp;Linuxu</li> 
 <li>Desítky zbytečných řádek kódu pro převod z/do UNICODE při práci s&nbsp;UNICODE stringy</li> 
 <li>AAAAAAAAAAAAA­AAAAAAAAA!!!!!!! Už nééééééé!</li> 
</ul> 
<p>Prostě při pomyšlení, že bych měl jít vyvíjet framework v&nbsp;PHP, se mě jímaly úzkostné pocity. Jasně, potenciální PHP-fanatik mi bude oponovat, že kdybych psal rovnou dobrý kód, tak jsem v&nbsp;pohodě. Ale <em>není to pravda</em>, a to hned několikrát:</p> 
<ul> 
 <li>PHP dobrý OOP kód nedovoluje, protože všechny core funkce jsou procedurální a mixovat je s&nbsp;OOP je&nbsp;hnus.</li> 
 <li>PHP hezký kód nedovoluje, protože core funkce nevyhazují výjimky, a <code>if</code>y jen kvůli ošetření chyby je pravěká metoda táhnoucí se snad ještě z&nbsp;dob Alana Turinga.</li> 
 <li><a href="http://latrine.dgx.cz/jsem-zdesen-z-php5">Nekvalitní zpracování OOP v&nbsp;PHP</a> zásadně podkopává možnost používat zcela základní OOP principy.</li> 
 <li>PHP vás přímo tlačí do kouta s&nbsp;imperativem „Delej hnusný kód!“, když zcela ignoruje možnost naprogramovat kolekce objektově a v&nbsp;návaznosti na teoretický rozbor věci, a místo toho naprosto vše cpe do Array: pole, hash, frontu, zásobník, množinu… což ještě někteří vydávají za výhodu.</li> 
 <li>I&nbsp;kdybych psal krásný kód, nikde není žádná záruka, že v&nbsp;příští verzi budu muset vše opět přepisovat&nbsp;– neexistuje norma PHP ani oficiální plán vývoje! PHP prostě jen bude vykrádat Javu, takže v&nbsp;PHP 7&nbsp;nabeton budou anotace.</li> 
</ul> 
<h3 id="toc-srovnani-s-javou">Srovnání s&nbsp;Javou</h3> 
<p>Naproti tomu, když programuji v&nbsp;Javě, dobrý kód vzniká skoro sám (už se neubráním srovnání):</p> 
<ul> 
 <li>Vyplatí se pro sebemenší blbinu vytvořit třídu.</li> 
 <li>Pokud dělám třídu pro potřebu jiné, dám ji do souboru k&nbsp;ní a zůstane tedy skrytá a nezabordelim si adresář (balíček).</li> 
 <li>Pokud ji ale potřebuju jinde, přesunu ji do zvláštního souboru a už je k&nbsp;dispozici.</li> 
 <li>Samotné JRE je vzorem dobrého návrhu, a čistě jeho používáním se podvědomě naučíte návrhu: 
  <ul> 
   <li>Abstrahovat problémy (úlohy) a tvořit jim rozhraní&nbsp;– viz <code>interface List</code> a implementaci&nbsp;<code>ArrayList</code></li> 
   <li>Rozdělovat svoji aplikaci do namespace (balíčků)&nbsp;– viz např. <code>java.util</code> a&nbsp;<code>java.lang</code></li> 
   <li>Využívat výjimky tam, kde je to vhodné, a zjednodušovat jimi API jednotlivých&nbsp;modulů</li> 
  </ul> </li> 
 <li>Co naprogramujete s&nbsp;jedním JDK, je skoro na 100% jisté, že přeložíte i&nbsp;v&nbsp;další&nbsp;verzi 
  <ul> 
   <li>JRE má totiž narozdíl od PHP promyšlený návrh a nemusí se zásadní věci měnit každou major&nbsp;verzi</li> 
   <li>Pokud už se stane, že cosi nevyhovuje, je to označeno za „deprecated“, ale ponecháno a nová verze je v&nbsp;jiném namespace;</li> 
   <li>Přesto však nová verze využívá maximum ze staré verze, a vy tak při dalším vývoji můžete snáze navázat a začít používat nové možnosti (viz <em>AWT</em> a <em>Swing</em>) místo totálního přepsání (viz <code>mysql_*</code> a <code>PDO</code>)</li> 
   <li>Když už by se náhodou stalo, že byste něco nepřeložili (jako se mi stalo v&nbsp;případě <em>MySQL Connector/J</em>), můžete aspoň používat binárky a vesele psát pro novou&nbsp;verzi.</li> 
  </ul> </li> 
 <li>Nové verze různých projektů (knihoven a frameworků) využívají anotace, takže kód je ještě čistší a zářivější</li> 
 <li>S&nbsp;využitím „injection“ (např. ze Springu) vám navíc ještě odpadají desítky jednotlivých řádků kódu, které jsou jaksi samozřejmé, ale přesto musí být (získání spojení, otevření transakce, ověření přístupových&nbsp;práv…)</li> 
</ul> 
<p>Prostě při prvním komerčním projektu v&nbsp;Javě moje srdénko jen zaplesalo nad tím, jak neuvěřitelně hladce to jde od&nbsp;ruky.</p> 
<h3 id="toc-slozitost-programovani-v-j2ee">Složitost programování v&nbsp;J2EE</h3> 
<p>A&nbsp;ještě ke složitosti J2EE.<br> Když srovnám PHP a JSP, tak to jsou zhruba srovnatelné technologie:</p> 
<ul> 
 <li>nějaká core knihovna funkcí,</li> 
 <li>a nějaký jazyk vkládaný do HTML.</li> 
</ul> 
<p>Jenže tam, kde PHP končí, tam J2EE teprve začíná. Pokud skutečně rezignujete na leta vývoje a nechcete se učit tagy ze Struts nebo anotace z&nbsp;JPA / Hibernate, prosím&nbsp;– můžete vše poctivě datlovat jako v&nbsp;PHP, psát si SQL dotazy (jednoduchost přístupu k&nbsp;výsledkům dotazu v&nbsp;PHP přes pole zajistí iBatis) a třeba si i&nbsp;prasit kód rovnou do HTML souborů.</p> 
<p>Jenže v&nbsp;J2EE máte <strong>možnost</strong> jít dál. Co máte v&nbsp;PHP? Ano, je zde pár povedených věcí… Smarty, Zend Framework, CakePHP. Ale ty stejně jedou nad shnilým jádrem.</p> 
<p>Pokud někdo říká, že PHP se naučíte rychleji než J2EE, tak já říkám ano, protože v&nbsp;PHP skoro není co se&nbsp;učit.</p> 
<p>Když jsem s&nbsp;J2EE začínal, také jsem se zalekl té neuvěřitelné haldy nových pojmů, specifikací, zkratek, XML konfiguračních souborů a postupů; dále nutnosti použít IDE nebo aspoň buildovací nástroj (Ant), naučit se spravovat něco jiného než Apache&nbsp;HTTPD…</p> 
<p>Ono totiž PHP je jen taková lehká nadstavba nad CGI&nbsp;– nad něj dává jen relativně jednoduchou syntaxi a spoustu knihoven použitelných z&nbsp;této syntaxe. Jenže když jde do tuhého a úroveň vašich projektů se vznese nad příklady z&nbsp;manuálu PHP, stejně musite začít řešit (hodně na přeskáčku):</p> 
<ul> 
 <li>Fyzickou strukturu webové aplikace&nbsp;– aneb adresáře, kam co&nbsp;dát</li> 
 <li>Zjednodušení správy obsahu v&nbsp;databázi</li> 
 <li>Verzování záznamů v&nbsp;databázi</li> 
 <li>Konfiguraci chování a struktury webu nad úrovní kódu</li> 
 <li>Abstrakci nad různými databázemi</li> 
 <li>Interakci s&nbsp;backendem, případně sjednocení API s&nbsp;GUI částí enterprise aplikace</li> 
 <li>Možnosti pokročilé konfigurace aplikace</li> 
 <li>Centrální repozitář objektů poskytujících nějaké služby</li> 
 <li>Clusterování</li> 
</ul> 
<p>atd.</p> 
<p>A&nbsp;zatímco J2EE vás těmito „nesmysly“ zavalí hned zpočátku, protože postupy jsou standardizované a často se věci rovnou řeší „složitě“ s&nbsp;výhledem na budoucí rozvoj, PHP vás nechá, ať si děláte co chcete&nbsp;– zlepšující se programátoři časem začnou vytvářet „vlastní framework“, vlastní normu pro strukturu aplikace, vlastní knihovnu pro automatické ukládání objektů do DB, a tak dále, zatímco <a href="http://blog.maxell-cz.cz/item/zaklady-pouziti-smarty-sablon">naprostí začátečníci&nbsp;– neprogramátoři mohou třeba takto</a> (viz část „Přiřazení prvků v&nbsp;šabloně“):</p> 
<blockquote> 
 <p>Často potřebujeme vybrat data z&nbsp;databáze a následně je předat šabloně. Na začátku je tedy SQL&nbsp;dotaz:</p> 
 <pre class="lang-php brush: php">$result = mysql_query("SELECT nazev, titulek, text, cena FROM tabulka WHERE id='$id'");</pre> 
 <p>Jak nyní předat data šabloně?</p> 
 <p>Nejjednodušší řešení je předat rovnou pole:</p> 
 <pre class="lang-php brush: php">$smarty-&gt;assign('data',mysql_fetch_assoc($result));</pre> 
</blockquote> 
<hr> 
<p>Nyní se pokusím oprostit od Javy a zaměřit se čistě na PHP. Kdyby se někde v&nbsp;dalším textu vyskytlo slovo „Java“, klidně mi dejte virtuální facku&nbsp;:)</p> 
<p>Zkusím tedy shrnout, jaké má PHP výhody a jaké nevýhody. Zkusím při tom zaujmout pokud možno nezaujatý postoj, i&nbsp;když případného čtenáře o&nbsp;tom po přečtení předchozí kritiky asi nepřesvědčím.</p> 
<p>Komentáře nevedu, ale jestli se vám něco v&nbsp;následujícím výčtu nezdá, napište mi <a href="mailto:ondra@dynawest.cz">mail</a> a já zde provedu veřejné pokání a omluvu sloníkovi elePHPantovi&nbsp;:)</p> 
<p><em>Výhoda</em> a <em>nevýhoda</em> jsou relativní pojmy. Proto navrhuji jako „baseline“ pro srovnání použít ostatní technologie použitelné na podobné účely jako PHP, tedy: ASP.NET, ColdFusion, Java EE, Perl, Python, Ruby (on Rails). Naopak neuvažoval bych kombinace typu C + CGI (příliš složité programování), Apache SSI (příliš omezená funkčnost), Caché Server Pages (příliš nesmyslná technologie), XML + XSLT + JavaScript (principiálně příliš jinde), ASP (zastaralé) a podobně.</p> 
<p>Takže&nbsp;– posuďte sami:</p> 
<h3 id="toc-vyhody-php">Výhody PHP</h3> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/programming/php/elePHPant_Front_Tiny.png" style="float:right">
</div> 
<p>Technologie PHP má spoustu výhod, díky které se rychle stalo populárním. Mezi ně patří&nbsp;např.:</p> 
<ul> 
 <li>Velká rozsáhlost funkcí k&nbsp;dispozici přímo v&nbsp;základní instalaci</li> 
 <li>Další nativně implementované funkční celky snadno instalovatelné z&nbsp;repozitáře&nbsp;PEAR</li> 
 <li>Další knihovny instalovatelné z&nbsp;repozitáře PECL</li> 
 <li>Nativní podpora mnoha databázových systémů</li> 
 <li>Zpočátku strmá křivka učení</li> 
 <li>--Je multiplaforní– S&nbsp;tou multiplatformností to není tak žhavé. Zkuste si třeba PHP na Novellu. Spíše bych řekl: Jede víceméně stejně na Linuxu a na Windows.</li> 
 <li>Časem vznikla velká celosvětová komunita vývojářů a mnoho dobrých svobodných projektů, zejména publikační systémy a <a href="http://www.html.info/">Texy!</a>&nbsp;:-)</li> 
 <li>Velmi široká nabídka hostingu, levné ceny díky konkurenci</li> 
 <li>Dobrý, aktuální a úplný manuál s&nbsp;příklady</li> 
 <li>Někdy se hodí stručný model zpracování nedefinovaných hodnot a&nbsp;<code>null</code></li> 
 <li>Stručný přístup k&nbsp;prvkům hash-mapy přes operátor <code>[]</code></li> 
</ul> 
<h3 id="toc-nevyhody-php">Nevýhody PHP</h3> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/programming/php/elePHPant_RightFront_Tiny.png" style="float:right">
</div> 
<p>Na druhou stranu, PHP má také značné nevýhody, pro které jej mnozí kritizují a někdy i&nbsp;opouštějí; mimo jiné&nbsp;tyto:</p> 
<ul> 
 <li>Až do verze PHP 4&nbsp;nepříliš povedená podpora objektově orientovaného programování s&nbsp;mnoha záludnostmi</li> 
 <li>Verze 5&nbsp;již podporuje OOP lépe (i&nbsp;když stále <a href="http://latrine.dgx.cz/jsem-zdesen-z-php5">velmi mizerně</a>), ale nativní knihovna funkcí nadále používá procedurální paradigma</li> 
 <li>Nativní funkce nejen nepoužívají objektový přístup, ale ani nepodporují výjimky (<code>set_error_handler()</code> je pouze slabá náplast)</li> 
 <li>Některé rysy jazyka svádějí ke špatným stylům programování (např. přílišné užívání polí a hash-map)</li> 
 <li>Nekonzistentní pojmenování nativních funkcí a nejednotnost v&nbsp;logice pořadí parametrů</li> 
 <li>Nativně nepodporuje UNICODE (připravuje se pro verzi 6&nbsp;– už skoro tři&nbsp;roky)</li> 
 <li>Dosud neexistuje formální specifikace syntaxe jazyka a jeho chování (jedinou úplnou definicí je interpreter)</li> 
 <li>Tím pádem existuje jediný interpreter</li> 
 <li>Způsob, jakým PHP funguje, principiálně brání efektivnímu řešení mnoha úloh (např. objektově-relační mapování)</li> 
</ul> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/programming/php/elePHPant_LeftFront_Tiny_sad.png" style="float:right">
</div> 
<ul> 
 <li>PHP nemá danou politiku vývoje, místo toho nadále jen kopíruje prvky jiných&nbsp;jazyků</li> 
 <li>Je značně zatížené svým vlastním historickým vývojem</li> 
 <li>Oficiálně není zaručena zpětná kompatibilita</li> 
 <li>Programátor nemá zaručené cílové prostředí, mnoho věcí přímo ovlivňujících chování PHP lze změnit pouze mimo soubory projektu (v&nbsp;konfiguračním souboru php.ini)</li> 
</ul> 
<!-- * Pro PHP není mnoho kvalitních vývojových prostředí (IDE) s podporou vlasností běžných pro jiné jazyky (generování a refaktorizace kódu, automatické dokončování, on-line nápověda, automatizované testování a validace, automatické nasazení na server, a další) --> 
<ul> 
 <li>Nepodporuje paralelní výpočet a synchronizaci (vlákna)</li> 
 <li>Nepodporuje škálování pomocí prostředí sdíleného na více serverech</li> 
 <li>Ve standardní sadě nástrojů není nástroj pro tvorbu dokumentace</li> 
 <li>--Nedostatek– Nemnoho kvalitních frameworků (Pozor! Drupal, Joomla, WordPress a spol. nejsou frameworky, ale publikační systémy /&nbsp;CMS).</li> 
 <li>Nelze snadno integrovat s&nbsp;jinými technologiemi (znovupoužití knihoven napsaných v&nbsp;PHP v&nbsp;jiném jazyce)</li> 
 <li>Ve standardní distribuci chybí ladící (debugovací) nástroj</li> 
 <li>Relativně složitá syntaxe oproti jiným technologiím použitelným na stejný&nbsp;účel</li> 
 <li>Po zpracování požadavku se „ztrácí“ kontext aplikace a při příštím je vytvářen&nbsp;jiný</li> 
 <li>Mimo jiné z&nbsp;toho plyne relativně slabý výkon</li> 
 <li>Velký počet zásadních chyb v&nbsp;počátcích nových verzí</li> 
 <li>Nepodporuje jmenné prostory (Skutečně, stále ještě mohou existovat obrovské projekty, kde se knihovny rozlišují prefixem.)</li> 
 <li>Podivné fungování referencí&nbsp;– asi nejzrádnější askept&nbsp;PHP</li> 
 <li>Donedávna chybělo rozumné jednotné rozhraní pro práci s&nbsp;databázemi, nyní&nbsp;<code>PDO</code></li> 
</ul> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/programming/php/elePHPant_RightFront_Tiny_lezi_oci_v_sloup.png" style="float:right">
</div> 
<ul> 
 <li>Chybí anotace a aspektově orientované programování</li> 
 <li>Chybí možnost vynutit deklaraci proměnných, takže se dá omylem zapsat něco do jiné (nové) proměnné. Taková chyba se hledá VELMI&nbsp;těžko.</li> 
 <li>Nedostatečná sebereflexe&nbsp;– datové typy „Třída“/„Funce“, místo toho se na ně odkazujete přes stringy</li> 
 <li>Nemožnost odkazovat se na metody objektů jinak než neohrabanou konstrukcí s&nbsp;<code>Array()</code></li> 
 <li>Kvůli slabé typovosti neobratné přetěžování funkcí a metod a jejich překrytí při&nbsp;dědění</li> 
 <li>Projekty se musí šířit výhradně formou zdrojových kódů</li> 
 <li>Neexistuje přímá podpora pro webové služby a pro vzdálené volání procedur&nbsp;obecně</li> 
 <li>Chybí solidní knihovna / nástroj pro logování</li> 
</ul> 
<!--
[*  elePHPant_Right_Tiny_jde_pryc.png  >]
--> 
<p>Jak je vidět, seznam výhod a nevýhod je trochu nevyvážený. Nyní čekám polemiku :-)&nbsp;<a href="mailto:ondra@dynawest.cz">ondra@
  <!-- -->dynawest.cz</a></p> 
<p>//PS:// Ale pořád ještě to není tak strašné, jako s&nbsp;Caché&nbsp;– kdo zkoušel, ví&nbsp;:-)</p> 
<h4 id="toc-dalsi-clanky-s-podobnou-tematikou">Další články s&nbsp;podobnou tématikou:</h4> 
<ul> 
 <li><a href="http://www.abclinuxu.cz/blog/miloslavponkrac/2006/2/3/119608">Kam kráčíš, PHP?</a> (2006, doporučuji přečíst i&nbsp;komentáře)</li> 
 <li><a href="http://www.pestujemeweb.cz/clanky-rozhovory/text-27-david-grudl-rozhovor.html">David Grudl o&nbsp;PHP</a> 
  <blockquote> 
   <p>4.&nbsp;Jaká je perspektiva PHP z&nbsp;Vašeho pohledu?<br> Jsem PHP skeptik. PHP jakožto jazyk ztratil koncepci, rozšiřování se děje chaoticky. PHP jakožto knihovna se nehodí na tvorbu webových aplikací. Frameworky se to snaží suplovat.</p> 
  </blockquote> </li> 
</ul> 
<p><em>Obrázky přejaty z <a href="http://www.nexen.net/elephpant/index.php">http://www.nexen.net/…nt/index.php</a> a <a href="http://shop.yourphppro.com/elePHPant.html">http://shop.yourphppro.com/elePHPant.html</a>.</em></p> 
<p><em>(PS: Kdyby někoho zajímalo, proč je tento web v&nbsp;PHP, tak je to kvůli Texy! ;-)</em><br> <em>PS pro Jana Škráška: Porty Texy? Ruby nemám rád, python neumím, .NET nechci a pro Javu ještě port&nbsp;není.</em></p>
                    </div>
                    ... <a href="pages/programming/php/vyhody_a_nevyhody_php.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC4_1068.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/index.html"><h2 class="title">Ondra Žižka – personal
website</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-ondra-zizka-personal-website">Ondra Žižka&nbsp;– personal website</h2> 
<p>Welcome to my web page.</p> 
<p>This is not a blog&nbsp;– rather a „private publication“&nbsp;place.</p> 
<p>No comments here&nbsp;– I&nbsp;don't want to spend my time deleting dumb post and spam. If you have anything to say or ask, just send me an&nbsp;email.</p> 
<h2 id="toc-ondra-zizka-osobni-web">Ondra Žižka&nbsp;– osobní web</h2> 
<p>Vítám vás na své webové nástěnce.</p> 
<p>Zas jednou jsem už nevydržel dávat věci dokola někam na FTP a rozhodl se pro potřeby zveřejňování lecčehos zřídit&nbsp;web.</p> 
<p>Nečekejte blog. Berte to jako moje soukromé „zveřejniště“.</p> 
<h3 id="toc-proc-tu-nejsou-komentare">Proč tu nejsou komentáře?</h3> 
<p>Za krátkou dobu obnovené existence webu už mi přišel pár mailů, kde se autor ptal, proč nemám u&nbsp;článků komentáře. Důvod je jednoduchý:</p> 
<ol style="list-style-type:lower-alpha"> 
 <li>Komentáře bych nečetl.</li> 
 <li>Spam.</li> 
 <li>Kvůli časové souslednosti.</li> 
 <li>Buď na web nikdo chodit nebude, a pak budou komentáře zet prázdnotou, a to je trapné&nbsp;:-)</li> 
 <li>nebo na něj lidé chodit budou, a pak se tu časem nutně objeví zástupy truhlíků s&nbsp;opravdu dementními komentáři.</li> 
</ol> 
<h4 id="toc-ad-a">ad a)</h4> 
<p>Nemám ještě pořádný redakční systém, který by mi je někde pohodlně seštosoval, a možná ani mít nebudu, protože se pravděpodobně od webařiny přesunu k&nbsp;programování.</p> 
<h4 id="toc-ad-c">ad c)</h4> 
<p>Jelikož toto není blog, ale prostor pro publikování, literární útvary se zde čas od času mění. Zakládat nový článek místo úpravy dokumentu podle mě není vhodné. Případné komentáře by tedy komentovaly staré verze, a zatímco dokument by se v&nbsp;čase vyvíjel a odrážel aktuální stav věcí, komentáře by se s&nbsp;ním táhly jako Gott a Vondráčková s&nbsp;hudebním průmyslem (fuj, to bylo ale politicky nekorektní).</p> 
<h4 id="toc-ad-d-e">ad d), e)</h4> 
<p>Zatímco na „blozích“ se to řeší karmami, přihlašováním, hodnocením kvality, banováním a dalšími marnými technikami, já jednoduše komentáře nevedu.</p> 
<p>Pokud někdo chcete komentovat, napište mi mail na <a href="mailto:ondra@dynawest.cz">ondra@
  <!-- -->dynawest.cz</a>. Efekt to bude mít stejný&nbsp;– nadávky mě hluboce urazí a půjdu trucovat do kouta, zajímavé a relevantní tipy do článků přidám. Akorát spam takto vyfiltruju lépe&nbsp;:-)</p> 
<h3 id="toc-co-zrovna-delam">Co zrovna dělám</h3> 
<p>Pokud zrovna nepracuji pro JBoss, zkoumám různé technologie:</p> 
<ul> 
 <li><a href="pages/programming/java/jboss-aop-howto-example-standalone-app.html">JBoss AOP</a></li> 
 <li><a href="pages/programming/web_javascript_ajax_canvas/canvas_element_selection_buffer.html"><code>canvas</code></a></li> 
</ul> 
<p>V&nbsp;mezičase se prokousávám webovými Java technologiemi (J2EE).</p> 
<!--
Nedávno jsem dopřekládal IT knihu pro CPress,
a dodělal CMS a systém správy práv pro "FSI VUT":www.fme.vutbr.cz,
a dodělal proof-of-concept vyhledávání spojů v jízdních řádech.

Momentálně pracuji na projektech:

 * ISIR překladiště


"**Vyhledávání spojů v jízdních řádech s využitím umělé inteligence k optimalizaci**":/projekty/diplomka/DiplomovaPrace-OndrejZizka.pdf
 - 

Součástí je implementace neuronových sítí v SQL/SP,
což dává vznik většině obsahu v sekci "Programování / SQL":pages/programming/sql/index.html.

--> 
<h3 id="toc-na-co-se-chystam">Na co se chystám</h3> 
<ul> 
 <li><strong>Texy Java implementation</strong></li> 
</ul> 
<!-- * **ISIR WS Relay** - překladiště insolvenčního rejstříku --> 
<ul> 
 <li><strong>Gravity Road</strong>&nbsp;– tajný projekt ;-)</li> 
</ul>
                    </div>
                    ... <a href="pages/index.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0391-PANO.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/maven/mavenize-quick-and-dirty.html"><h2 class="title">Quick and dirty
mavenization of an existing project</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-quick-and-dirty-mavenization-of-an-existing-project">Quick and dirty mavenization of an existing project</h2> 
<p>This is my lazy way to get anything to a Maven repo. Shown on my mavenization of the Sardine library.</p> 
<p>See also: <a href="how-to-add-existing-project-jar-to-maven-repository.html">How to add existing project's&nbsp;jar to SVN-based Maven repository</a></p> 
<hr> 
<ol> 
 <li>Download the binaries of the lib you want to mavenize.</li> 
 <li>Create a script to put everything to the maven repo. <p>Choose a group name for the library and it's&nbsp;deps.</p> <p>You should not use the lib's&nbsp;package names, because it could interfere&nbsp;later</p> <p>with the official artifacts, should it ever be mavenized.</p> <p>I&nbsp;usually use my project's&nbsp;name with the lib's&nbsp;name appended&nbsp;– <code>org.jboss.qa.ews.sardine</code> in this&nbsp;case.</p> <pre class="lang-text brush: text">@ECHO off
ECHO echo Edit this file before use. Check the -DartifactId and -Dversion params.
ECHO return

ECHO cmd /C mvn install:install-file -DpomFile=sardine-pom.xml -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\sardine.jar -DartifactId=sardine -Dversion=80

FOR %%f IN ( sardine-80\lib\*.jar) DO ECHO cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=%%f -DartifactId=%%~nf -Dversion=%%~nf</pre> <p>This will create something like this:</p> <pre class="lang-text brush: text">echo Edit this file before use. Check the -DartifactId and -Dversion params.
return

cmd /C mvn install:install-file -DpomFile=sardine-pom.xml -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\sardine.jar -DartifactId=sardine -Dversion=80

cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\ant-googlecode-0.0.2.jar -DartifactId=ant-googlecode -Dversion=0.0.2
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\commons-logging-1.1.1.jar -DartifactId=commons-logging -Dversion=1.1.1
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\httpclient-4.0.1.jar -DartifactId=httpclient -Dversion=4.0.1
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\httpcore-4.0.1.jar -DartifactId=httpcore -Dversion=4.0.1
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\junit-4.8.1.jar -DartifactId=junit -Dversion=4.8.1
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\svnkit.jar -DartifactId=svnkit -Dversion=0.0
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\svntask.jar -DartifactId=svntask -Dversion=0.0</pre> </li> 
 <li>Create a <code>pom.xml</code> file, which will describe the mavenized library's&nbsp;depen­dencies.</li> 
</ol> 
<pre class="brush: lang-xml brush: xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;org.jboss.qa.ews.sardine&lt;/groupId&gt;
  &lt;artifactId&gt;sardine&lt;/artifactId&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;
  &lt;version&gt;80&lt;/version&gt;

  &lt;name&gt;Sardine mavenized&lt;/name&gt;
  &lt;url&gt;http://www.jboss.org/&lt;/url&gt;

  &lt;dependencies&gt;
  &lt;/dependencies&gt;

&lt;/project&gt;</pre> 
<ol start="4"> 
 <li>Most of the deps should be found in some existing Maven repository. <p>Try to find as much as you can (the exact versions!), add them as a dependency to the <code>pom.xml</code>, and comment them out from the script.</p> <pre class="brush: lang-xml brush: xml">&lt;dependency&gt;
  &lt;groupId&gt;junit&lt;/groupId&gt;
  &lt;artifactId&gt;junit&lt;/artifactId&gt;
  &lt;version&gt;3.8.1&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;commons-logging&lt;/groupId&gt;
  &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
  &lt;version&gt;1.1.1&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;
  &lt;artifactId&gt;httpclient&lt;/artifactId&gt;
  &lt;version&gt;4.0.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;
  &lt;artifactId&gt;httpcore&lt;/artifactId&gt;
  &lt;version&gt;4.0.1&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;junit&lt;/groupId&gt;
  &lt;artifactId&gt;junit&lt;/artifactId&gt;
  &lt;version&gt;4.8.1&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.tmatesoft.svnkit&lt;/groupId&gt;
  &lt;artifactId&gt;svnkit&lt;/artifactId&gt;
  &lt;version&gt;1.3.2-1&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.qa.ews.sardine&lt;/groupId&gt;
  &lt;artifactId&gt;ant-googlecode&lt;/artifactId&gt;
  &lt;version&gt;0.0.2&lt;/version&gt;
&lt;/dependency&gt;


&lt;dependency&gt;
  &lt;groupId&gt;org.jboss.qa.ews.sardine&lt;/groupId&gt;
  &lt;artifactId&gt;svntask&lt;/artifactId&gt;
  &lt;version&gt;0.0&lt;/version&gt;
&lt;/dependency&gt;</pre> <pre class="lang-text brush: text">cmd /C mvn install:install-file -DpomFile=sardine-pom.xml -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\sardine.jar -DartifactId=sardine -Dversion=80

cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\ant-googlecode-0.0.2.jar -DartifactId=ant-googlecode -Dversion=0.0.2
@rem cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\commons-logging-1.1.1.jar -DartifactId=commons-logging -Dversion=1.1.1
@rem cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\httpclient-4.0.1.jar -DartifactId=httpclient -Dversion=4.0.1
@rem cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\httpcore-4.0.1.jar -DartifactId=httpcore -Dversion=4.0.1
@rem cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\junit-4.8.1.jar -DartifactId=junit -Dversion=4.8.1
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\svnkit.jar -DartifactId=svnkit -Dversion=0.0
cmd /C mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\lib\svntask.jar -DartifactId=svntask -Dversion=0.0</pre> </li> 
</ol> 
<ol start="5"> 
 <li>Some of the libs probably only serve the build process, in this case, <code>svnkit</code>, <code>svntask</code> and <code>ant-googlecode</code> (I&nbsp;just guessed from the names). <p>These are going to be removed too.</p> </li> 
 <li>As you see, only the library itself left for addition to a maven&nbsp;repo. <p>So, perform this:</p> <pre class="lang-bash brush: bash">mvn install:install-file -DpomFile=sardine-pom.xml -Dpackaging=jar -DgeneratePom=true -DgroupId=org.jboss.qa.ews.sardine -Dfile=sardine-80\sardine.jar -DartifactId=sardine -Dversion=80</pre> </li> 
</ol> 
<ol start="7"> 
 <li>Go to your local maven repo and find the installed library there (<code>t:\data\.m2\repository\org\jboss\qa\ews\sardine\sardine</code> in my&nbsp;case). <p>Copy it to some publicly accessible site, where it can be downloaded from using plain&nbsp;HTTP.</p> <p>I&nbsp;used <a href="http://jtexy.googlecode.com/svn/maven/">Google Code SVN</a>. <code>svn --non-recursive</code> might help you with this&nbsp;task.</p> </li> 
</ol> 
<p>Done.</p>
                    </div>
                    ... <a href="pages/programming/java/maven/mavenize-quick-and-dirty.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0097.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/vybiram_jazyk_pro_systemove_skriptovani.html"><h2 class="title">Vybírám
skriptovací jazyk pro systémové skripty</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-vybiram-skriptovaci-jazyk-pro-systemove-skripty">Vybírám skriptovací jazyk pro systémové skripty</h2> 
<p>Postupem času jsem přešel na Linux. Co mě zde ale nepřestává štvát, je&nbsp;Bash.</p> 
<p>Bash je jazyk hrůzy. Ne tak hrozný, jako Caché ObjectScript, ale pořád dost hrozný:</p> 
<pre class="lang-bash brush: bash"># Bohužel jsem momentálně nenašel dostatečně odstrašující příklad :)
# V praxi ale narážím na naprosto nečitelný kód,
# Využívající těch nejškaredějších syntaktických konstrukcí,
# kde už člověk ztrácí přehled o tom, co je syntaxe find-u a kde je do ní vložen bash.</pre> 
<p>Jasně, chápu… je to jazyk určený hlavně pro práci v&nbsp;prostředí linuxu, a tedy pro práci převážně s&nbsp;GNU programy, které se vyvíjely v&nbsp;symbióze s&nbsp;Bashem. V&nbsp;interaktivním režimu je stále dobře použitelný pro jednořádkové příkazy. Pokud ale mám louskat několikastránkový skript, kde jsou takových jednořádkových příkazů desítky a každý je taková malá hra „hádej kolik syntaxí je zde použito“, házím flintu do&nbsp;žita.</p> 
<p>Doba pokročila, a skoro začíná být důležitější podpora novodobých technologií, jako je Java, XML, webové služby, a v&nbsp;neposlední řadě je velmi příjemné, když lze využít výhod IDE&nbsp;– doplňování, refactoring&nbsp;atd.</p> 
<p>Jak je patrné z&nbsp;těchto stránek, jsem momentálně fanda Javy&nbsp;– a to ačkoliv jsem si vědom (někdy až bolestně) všech jejích nevýhod. A&nbsp;jako každý (programátor), občas chci napsat stručný skript, který provede pár operací podle několika zadaných parametrů. Jít na takovou záležitost s&nbsp;Javou je přeci jen poněkud nevhodné&nbsp;– napsat všechnu omáčku, zkompilovat, evt. zabalit do jarka a spouštět stylem <code>java -jar Skript.jar</code>, a to ještě dělat při ladění, to přeci jen není&nbsp;ono.</p> 
<p>Takže jsem začal hledat jazyk, který byl vhodný právě pro takové skripty, případně snad i&nbsp;na konzoli. Měl by tedy splňovat tato kritéria:</p> 
<p>* Stručný&nbsp;– jít bez okolků na jádro řešení úlohy (jako bash).<br> * Jednoduchá syntaxe bez desítek výjimek, různých módů nahrazování, a speciálních významů kombinací hieroglyfů typu $? atd.<br> * Přes jednoduchou syntaxi by měl mít dostatek prostředků pro stručný zápis nejběžnějších operací, např. práce se seznamy.<br> * Podpora Javy&nbsp;– ideálně by měl umět pracovat s&nbsp;jakoukoliv třídou Javy, včetně takových jako <code>Thread</code>, <code>Throwable</code> atd.<br> * Pochopitelně by měl umět OOP, výjimky, kontrolu typů.<br> * Měl by být konzistentní v&nbsp;konceptech.</p> 
<p>Jako bonus potom započítávám tyto vlastnosti:</p> 
<p>* Nativní podpora XML&nbsp;– nejlépe jako součást nativní podpory práce se stromovými strukturami.<br> * Bez nutnosti kompilace.<br> * Různé vychytávky typu „vše je objekt“, uzávěry (closures), <code>yield</code>.<br> * Možnost uplatnit změny v&nbsp;kódu za běhu programu.</p> 
<h3 id="toc-kandidati">Kandidáti</h3> 
<p>Nyní proberme jazyky a technologie, které připadají v&nbsp;úvahu:</p> 
<p>* PHP rovnou diskvalifikuji z&nbsp;<a href="php/vyhody_a_nevyhody_php.html">Těchto důvodů</a><br> * Python, resp. Jython<br> * Groovy<br> * Scala<br> * JavaScript<br> * JavaFX<br> * …navrhněte:&nbsp;<a href="mailto:ondra@dynawest.cz">ondra@
  <!-- -->dynawest.cz</a></p> 
<h3 id="toc-konkurz">Konkurz</h3> 
<p>Tímto zahajuji výběrové řízení a začínám se poohlížet po vlastnostech jednotlivých jazyků. Pokud bude čas, rozepíšu se o&nbsp;tom, proč který jazyk ano či&nbsp;ne.</p>
                    </div>
                    ... <a href="pages/programming/vybiram_jazyk_pro_systemove_skriptovani.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0075-PANO.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/jboss/jboss-aop-howto-example-standalone-app.html"><h2 class="title">JBoss
Microcontainer with JBoss AOP – Howto with sample application</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-jboss-microcontainer-with-jboss-aop-howto-with-sample-application">JBoss Microcontainer with JBoss AOP&nbsp;– Howto with sample application</h2> 
<p><em>A&nbsp;very brief intro to JBoss AOP.</em></p> 
<h3 id="toc-prerequisites">Prerequisites</h3> 
<p>This tutorial is a follow-up to the <a href="jboss-microcontainer-howto-example-standalone-app.html">JBoss Microcontainer intro</a>&nbsp;– read that first if you haven't&nbsp;yet.</p> 
<h3 id="toc-what-is-aop-good-for">What is AOP good for?</h3> 
<p>AOP (Aspect Oriented Programming) is a concept of moving a „programatic envelopes“ away from the methods. What I&nbsp;call a programatic envelope is that kind of annoying code you have to repeat at the end or/and the beginning of many methods.</p> 
<p>Usual textbook examples of AOP usage are:</p> 
<ul> 
 <li>Opening and closing of a transaction</li> 
 <li>Locking and unlocking of synchronization locks</li> 
 <li>Logging of debug messages</li> 
 <li>Measuring the time of method execution</li> 
</ul> 
<p>However, AOP is particulary useful for frameworks for their need of generalization. It can help it to put the envelope code around method which it still does not&nbsp;know.</p> 
<h3 id="toc-how-does-aop-work">How does AOP work?</h3> 
<p>First, you mark some Java constructs (methods, fields, constructors, …) to be AOP'ed (encapsulated with your envelope code).<br> Then you need so-called „aspect“&nbsp;– that is the official name for envelope code.<br> Then you need some tool which will bind the aspect to those methods. This is done by advanced techniques like byte-code instrumentation and class reflection.</p> 
<h3 id="toc-why-jboss-aop-and-not-the-others">Why JBoss AOP (and not the others)?</h3> 
<p>JBoss AOP offers much more then the other AOP frameworks (like Spring&nbsp;AOP).</p> 
<ul> 
 <li>It can bind not only to methods, but also to constructors and fields.</li> 
 <li>As it's&nbsp;not proxy based, you don't need to treat objects only through interfaces.</li> 
 <li>You can weave any existing class without any code changes.</li> 
 <li>Annotation-based weaving&nbsp;– intercept Java constructs which are annotated by some anotation.</li> 
 <li>Weaving at compile time gives much better performance.</li> 
 <li>Configuration by annotations&nbsp;– if you don't like XML, you can set the aspects and bindings using annotations like <code>@Aspect</code>, <code>@Interceptor</code>, <code>@Bind</code> etc. See <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#annotated">Chapter 6.&nbsp;Annotation Bindings</a>.</li> 
 <li>Runtime weaving, called „HotSwap“&nbsp;– allows bytecode of your classes to be weaved in runtime.</li> 
</ul> 
<h3 id="toc-terms">Terms</h3> 
<p>Copied from <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#base-terms">JBoss AOP reference docs</a>.</p> 
<dl> 
 <dt>
  Joinpoint
 </dt> 
 <dd>
  A&nbsp;joinpoint is any point in your java program. The call of a method. The execution of a constructor the access of a field. All these are joinpoints. You could also think of a joinpoint as a particular Java event. Where an event is a method call, constructor call, field access&nbsp;etc…
 </dd> 
 <dt>
  Invocation
 </dt> 
 <dd>
  An Invocation is a JBoss AOP class that encapsulates what a joinpiont is at runtime. It could contain information like which method is being called, the arguments of the method,&nbsp;etc…
 </dd> 
 <dt>
  Advice
 </dt> 
 <dd>
  An advice is a method that is called when a particular joinpoint is executed, i.e., the behavior that is triggered when a method is called. It could also be thought of as the code that does the interception. Another analogy is that an advice is an „event handler“.
 </dd> 
 <dt>
  Pointcut
 </dt> 
 <dd>
  Pointcuts are AOP's&nbsp;expression language. Just as a regular expression matches strings, a pointcut expression matches a particular joinpoint.
 </dd> 
 <dt>
  Introductions
 </dt> 
 <dd>
  An introduction modifies the type and structure of a Java class. It can be used to force an existing class to implement an interface or to add an annotation to anything.
 </dd> 
 <dt>
  Aspect
 </dt> 
 <dd>
  An Aspect is a plain Java class that encapsulates any number of advices, pointcut definitions, mixins, or any other JBoss AOP construct.
 </dd> 
 <dt>
  Interceptor
 </dt> 
 <dd>
  An interceptor is an Aspect with only one advice named „invoke“. It is a specific interface that you can implement if you want your code to be checked by forcing your class to implement an interface. It also will be portable and can be reused in other JBoss environments like EJBs and JMX MBeans.
 </dd> 
</dl> 
<h3 id="toc-what-we-re-willing-to-achieve">What we're willing to achieve?</h3> 
<p>We want to catch all calls to methods that affect the fuel in the <code>Car</code>. To make this easily achievable with AOP, let's&nbsp;follow a convention that all changing methods are setters and all fuel-related properties names end with „Fuel“.</p> 
<p>For the purposes of this example, we've changed the <code>Car</code> class to have two fuel-related properties:</p> 
<pre class="brush: lang-java brush: java">public class Car {
  public int litresOfFuel;
  public int getLitresOfFuel() {    return litresOfFuel;  }
  public void setLitresOfFuel( int litresOfFuel ) {    this.litresOfFuel = litresOfFuel;  }

  public int reserveFuel;
  public int getReserveFuel() {    return reserveFuel;  }
  public void setReserveFuel( int reserveFuel ) {    this.reserveFuel = reserveFuel;  }

  public String toString(){
    return "Car \""+this.name+"\" with "+(this.litresOfFuel + this.reserveFuel)+" litres of fuel.";
  }
  ...
}</pre> 
<h3 id="toc-creating-an-interceptor-envelope">Creating an <code>Interceptor</code> („envelope“)</h3> 
<p>This is a simple interceptor that will just notify us when triggered.</p> 
<pre class="brush: lang-java brush: java">package cz.zizka.ondra.jbmctest;

import java.util.logging.Logger;
import org.jboss.aop.advice.Interceptor;
import org.jboss.aop.instrument.Untransformable;
import org.jboss.aop.joinpoint.Invocation;

public class FuelInterceptor implements Interceptor, Untransformable {

  private static final Logger log = Logger.getLogger( FuelInterceptor.class.getName() );

  public Object invoke(Invocation invocation) throws Throwable
  {
    Object target = invocation.getTargetObject();
    if( target instanceof Car ){
      log.info("The fuel is being changed for the car '"+((Car)target).getName()+"'.");
    }
    return invocation.invokeNext();
  }

  public String getName() {
    return FuelInterceptor.class.getName();
  }
}// class FuelInterceptor</pre> 
<h3 id="toc-binding-the-interceptor-to-the-method-calls">Binding the interceptor to the method calls</h3> 
<p>For the syntax of AOP pointcuts, see <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#pointcuts">JBoss AOP documentation</a>.</p> 
<p>The syntax for our purpose stated above would be:</p> 
<pre class="brush: lang-text brush: text">execution(* cz.zizka.ondra.jbmctest.Car-&gt;set*Fuel(..)</pre> 
<p>The AOP settings go to a special XML file having <code>&lt;aop&gt;</code> as it's&nbsp;root element, and conforming to the JBoss AOP XSD.<br> From what I've found, this file must be either in <code>META-INF/jboss-aop.xml</code> of your <code>.jar</code>, or anywhere on the filesystem, but you'll have to point to it by the <code>-Djboss.aop.path</code> JVM argument&nbsp;– see <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#standalone-compiletime">10.2.1.&nbsp;Precom­piled instrumentation</a> and <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#xml-resolving">5.2.&nbsp;Resolving XML</a>.</p> 
<p>To let maven put this file to your <code>.jar</code>, store it in <code>src/main/resources</code> (the default path for resources), giving the resulting path <code>src/main/resources/META-INF/jboss-aop.xml</code>.</p> 
<p>So let's&nbsp;bind this interceptor to some method calls. In this case, we're binding it to all methods of the <code>Car</code> class whose name has the pattern <code>set*Fuel</code>.</p> 
<pre class="brush: lang-xml brush: xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;aop&gt;
   &lt;bind pointcut="execution(* cz.zizka.ondra.*-&gt;set*Fuel(..))"&gt;
       &lt;interceptor class="cz.zizka.ondra.jbmctest.FuelInterceptor"/&gt;
   &lt;/bind&gt;
&lt;/aop&gt;</pre> 
<p>Alternatively, it should be possible to put the AOP settings to the JBoss Microcontainer XML (but I&nbsp;wasn't able to get it working):</p> 
<pre class="brush: lang-xml brush: xml">&lt;deployment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="urn:jboss:bean-deployer:2.0 bean-deployer_2_0.xsd"
            xmlns="urn:jboss:bean-deployer:2.0"
            xmlns:aop="urn:jboss:aop-beans:1.0"&gt;

  &lt;bean ... /&gt; &lt;!-- Car and garage beans --&gt;

  &lt;aop:interceptor name="FuelInterceptor" class="cz.zizka.ondra.jbmctest.FuelInterceptor"/&gt;

  &lt;aop:bind pointcut="execution(* cz.zizka.ondra.jbmctest.Car-&gt;set*Fuel(..)"&gt;
    &lt;aop:interceptor-ref name="FuelInterceptor"/&gt;
  &lt;/aop:bind&gt;

&lt;/deployment&gt;</pre> 
<h3 id="toc-maven-configuration">Maven configuration</h3> 
<p>After setting Maven to use JBoss repositories (see the <a href="jboss-microcontainer-howto-example-standalone-app.html">JBoss Microcontainer how-to</a>), add these dependencies to your project:</p> 
<pre class="brush: lang-xml brush: xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.jboss.microcontainer&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-kernel&lt;/artifactId&gt;
    &lt;version&gt;2.0.9.GA&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.jboss.aop&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-aop&lt;/artifactId&gt;
    &lt;version&gt;2.1.6.GA&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.jboss.microcontainer&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-aop-mc-int&lt;/artifactId&gt;
    &lt;version&gt;2.0.9.GA&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre> 
<p>Also, add the JBoss AOP Maven plugin. It binds automatically to the <code>compile</code> phase. This will change the classes code to call your interceptors when a method is being called.</p> 
<pre class="brush: lang-xml brush: xml">&lt;plugins&gt;
  &lt;plugin&gt;
    &lt;groupId&gt;org.jboss.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-jbossaop-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.1.3.GA&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;compile&lt;/id&gt;  &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;
        &lt;configuration&gt;
          &lt;includeProjectDependency&gt;true&lt;/includeProjectDependency&gt;
          &lt;aoppaths&gt;
            &lt;aoppath&gt;src/main/resources/META-INF/jboss-aop.xml&lt;/aoppath&gt;
          &lt;/aoppaths&gt;
        &lt;/configuration&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;</pre> 
<h3 id="toc-test-code">Test code</h3> 
<pre class="brush: lang-java brush: java">public class JBossAopSampleApp {

  public static void main( String[] args ) throws Throwable
  {
    Car myCar = new Car("Red Devil");
    System.out.println( "I have a garage: "+car);

    // Put some fuel in.
    myCar.setLitresOfFuel( myCar.getLitresOfFuel() + 1 );
    myCar.setReserveFuel( myCar.getReserveFuel() + 1 );

    System.out.println( "I have a garage: "+car);
  }

}</pre> 
<h3 id="toc-the-result">The result</h3> 
<p>Now run the application, and you'll see that the interceptor is really being invoked.</p> 
<pre class="brush: lang-text brush: text">I have a garage: Garage with a car: Car "Red Devil" with 0 litres of fuel.
16.11.2009 11:42:47 FuelInterceptor invoke INFO: The fuel is being changed for the car 'Red Devil'.
16.11.2009 11:42:47 FuelInterceptor invoke INFO: The fuel is being changed for the car 'Red Devil'.
I have a garage: Garage with a car: Car "Red Devil" with 2 litres of fuel.</pre> 
<h3 id="toc-sample-application">Sample application</h3> 
<p>The application created in the examples above can be downloaded here: <a href="download/JBossAOPsample.zip">JBossAOPsample­.zip</a></p>
                    </div>
                    ... <a href="pages/programming/java/jboss/jboss-aop-howto-example-standalone-app.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG3009.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/winlyrics/index.html"><h2 class="title">WinLyrics – WinAmp lyrics
plugin</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-winlyrics-winamp-lyrics-plugin">WinLyrics&nbsp;– WinAmp lyrics plugin</h2> 
<h3 id="toc-novy-hosting">Nový hosting?</h3> 
<p>Máme nabídku nového hostingu… na Gigawebu to občas vypadne (mysql i&nbsp;web), a už není nijak moc pružný…</p> 
<p><a href="vpn.html">přístup zde</a>.</p> 
<h3 id="toc-todo-list">TODO list</h3> 
<h4 id="toc-hodnoceni-lyrics">Hodnocení lyrics</h4> 
<p><a href="doc/rating.html">Dokumentace zde</a>.</p> 
<ul> 
 <li>Do interface přidat možnost ohodnotit lyrics.</li> 
 <li>Stupnice: 
  <ul> 
   <li>Bez chyby, perfektní</li> 
   <li>Dobré</li> 
   <li>Použitelné</li> 
   <li>Nesmysly, hodně chyb</li> 
   <li>Totální odpad</li> 
  </ul> </li> 
 <li>Vliv na funkci: 
  <ul> 
   <li>Vyhledané lyrics se budou řadit také podle hodnocení daných lyrics. Jinak&nbsp;žádný.</li> 
  </ul> </li> 
 <li>Na server se pošle: ID lyrics, ID hodnotícího uživatele (případně session ID), a hodnocení.</li> 
</ul> 
<h4 id="toc-prihlasovani">Přihlašování</h4> 
<p><a href="doc/login.html">Dokumentace zde</a>.</p> 
<ul> 
 <li>Lyrics se budou stahovat přes login a heslo.</li> 
 <li>Zamezí to crackům</li> 
 <li>Provedení: Dvě možnosti. Jednodušší a složitější. 
  <ul> 
   <li>S&nbsp;každým požadavkem posílat i&nbsp;jméno a heslo. 
    <ul> 
     <li>Heslo může být md5</li> 
     <li>Jenže jakmile někdo uvidí cizí request, může se za něj vydávat → šíření user name a hesla, a jsme kde jsme&nbsp;byli.</li> 
    </ul> </li> 
   <li>Druhá možnost: Autentizace a session numbers. Jak? 
    <ul> 
     <li>Klient se bude chtít přihlásit</li> 
     <li>Server pošle náhodný řetězec (challenge)</li> 
     <li>Klient jej spojí se svým heslem a pošle md5( challenge + md5(heslo)&nbsp;)</li> 
     <li>Na serveru bude uchované md5() hesla, provede se to&nbsp;samé</li> 
     <li>Pokud budou stejné, klientovi se pošle session ID v&nbsp;cookie. Od té doby s&nbsp;ním může po nějakou dobu pracovat.</li> 
     <li>Tímhle způsobem se nebude nikdo moci vymlouvat, že se přes jeho ID připojuje někdo&nbsp;jiný.</li> 
     <li>Pokud se tedy ID začne šířit, má problém :-)</li> 
     <li>Resp. povolíme použití jednoho ID jen z&nbsp;jedné IP adresy v&nbsp;rámci jedné session.</li> 
    </ul> </li> 
  </ul> </li> 
</ul> 
<h4 id="toc-autorstvi-lyrics-credits">Autorství lyrics (credits)</h4> 
<ul> 
 <li>Lidi mají tendenci do Lyrics dávat svůj podpis.</li> 
 <li>Tomu předejdeme tak, že jim umožníme tento údaj oddělit.</li> 
 <li>Při přidávání se také odešle jejich username, případně se použije session&nbsp;ID.</li> 
 <li>Na serveru se k&nbsp;lyrics přidá záznam o&nbsp;tom, kdo jej poslal.</li> 
</ul>
                    </div>
                    ... <a href="pages/programming/winlyrics/index.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG6409.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/linux/notes.html"><h2 class="title">My Linux Notes</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-my-linux-notes">My Linux Notes</h2> 
<p><a href="centos-trac12-sqlite-svn16-python26.html">Installing Trac 12&nbsp;on Centos 5.5&nbsp;– requires Python&nbsp;2.6</a></p> 
<h3 id="toc-ssh-tunelling">SSH tunelling</h3> 
<p>Mapovani vzdaleneho portu na vzdalenem stroji na lokalni&nbsp;port:</p> 
<pre class="brush: lang-bash brush: bash">ssh -L localPort:TargetPC:RemotePort PCsSSHaccountem</pre> 
<p>Zpristupneni lokalniho portu na zvoleny port vzdaleny:</p> 
<pre class="brush: lang-bash brush: bash">ssh -R VzdalenyPort:LokalniPC:LokalniPort PCsSSHaccountem</pre> 
<h3 id="toc-bash-string-operations">Bash string operations</h3> 
<pre class="brush: lang-bash brush: bash">${parameter:-word}   # Provide a default if parameter is unset or null.

${variable%pattern}   # Trim the shortest match from the end.
${variable##pattern}  # Trim the longest match from the beginning.
${variable%%pattern}  # Trim the longest match from the end.
${variable#pattern}   # Trim the shortest match from the beginning.</pre> 
<h3 id="toc-current-script">Current script</h3> 
<pre class="lang-.plain brush: .plain">scriptPath="$(cd "${0%/*}" 2&gt;/dev/null; echo "$PWD"/"${0##*/}")"
scriptDir=`dirname "$scriptPath"`

JAVA=/mnt/jqa/jdk1.6.0_18-x86_64/bin/java

$JAVA -cp $scriptDir/JiraBot-1.1.04.jar:`ls $scriptDir/lib/*.jar | awk '{ORS=":";print}'` org.jboss.jirabot.Main</pre> 
<h3 id="toc-colorful-prompt">Colorful prompt</h3> 
<p><code>PS1='${debian_chroot:+($debian_chroot)}\e[1;31m\u@\h:\w\$\e[m '</code></p> 
<table> 
 <tbody> 
  <tr> 
   <td>32</td> 
   <td>green</td> 
  </tr> 
  <tr> 
   <td>35</td> 
   <td>magenta</td> 
  </tr> 
  <tr> 
   <td>40</td> 
   <td>white</td> 
  </tr> 
  <tr> 
   <td>31</td> 
   <td>red</td> 
  </tr> 
  <tr> 
   <td>33</td> 
   <td>yellow</td> 
  </tr> 
  <tr> 
   <td>34</td> 
   <td>blue</td> 
  </tr> 
 </tbody> 
</table> 
<h3 id="toc-resolve-softlinks">Resolve softlinks</h3> 
<pre class="brush: lang-bash brush: bash"># resolve links - $0 may be a softlink
PRG="$0"

while [ -h "$PRG" ] ; do
  ls=`ls -ld "$PRG"`
  link=`expr "$ls" : '.*-&gt; \(.*\)$'`
  if expr "$link" : '/.*' &gt; /dev/null; then
    PRG="$link"
  else
    PRG=`dirname "$PRG"`/"$link"
  fi
done</pre> 
<p>(from Tomcat's&nbsp;star­tup.sh)</p> 
<pre class="brush: lang-bash brush: bash">##  Resolve a softlink.
function resolve(){

  PRG="$1"

  if [ "" == "$1" ] ; then
    return ""
  fi

  if [ ! -x "$PRG" ] ; then
    PRGW=`which "$PRG"`
    if [ ! -x "$PRGW" ] ; then
      RET=""
      return -1
    fi
  fi


  while [ -h "$PRG" ] ; do
    ls=`ls -ld "$PRG"`
    link=`expr "$ls" : '.*-&gt; \(.*\)$'`
    if expr "$link" : '/.*' &gt; /dev/null; then
      PRG="$link"
    else
      PRG=`dirname "$PRG"`/"$link"
    fi
  done

  RET=$PRG
  return 0
}

##  If called instead of sourced
if [ "resolve" == "${0: -7}" ] ; then
  if [ "" == "$1" ] ; then
    echo "Usage:  resolve &lt;softlink&gt;";
    exit
  fi

  resolve $1
  if [ "" == "$RET" ] ; then
    echo "$PRG not found."
  else
    echo $RET;
  fi
fi</pre> 
<h3 id="toc-snippets">Snippets</h3> 
<pre class="lang-.plain brush: .plain">cvs -d:gserver:cvs.devel.redhat.com:/cvs/dist checkout httpd</pre> 
<pre class="lang-.plain brush: .plain">tcpdump -w snap -s2000 -i eth0</pre> 
<pre class="lang-.plain brush: .plain">keytool -list -keystore /qa/home/ozizka/opt/jdk1.6.0_18/jre/lib/security/cacerts
keytool -import -alias support.stage.redhat.com -keystore /qa/home/ozizka/opt/jdk1.6.0_18/jre/lib/security/cacerts -file stage-cert.pem</pre> 
<pre class="lang-.plain brush: .plain"># Debian root
PS1='\[\e[1m\]\[\e[31m\]\u@\h \[\e[0m\]\[\e[32m\][\[\e[33m\]\t\[\e[32m\]]\[\e[33m\]\[\e[1m\] \w\[\e[32m\]\[\e[0m\] \$ '

# Debian:
export PS1='${debian_chroot:+($debian_chroot)}\e[1;34m\u@\h:\e[1;33m\w\e[1;34m\$\e[m '

# Generic:
export PS1='\e[1;34m\u@\h:\e[1;33m\w\e[1;34m\$\e[m '

# Plain:
export PS1='\u@\h:\w\$ '

export PATH=$JAVA_HOME/bin:$PATH</pre>
                    </div>
                    ... <a href="pages/linux/notes.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG4555.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/navod-j2ee_uvod.html"><h2 class="title">Úvod do J2EE</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-uvod-do-j2ee">Úvod do J2EE</h2> 
<h3 id="toc-komu-tento-uvod-urcen">Komu tento úvod určen</h3> 
<p>Úvod píšu pro lidi, kteří (stejně jako dříve já) chtějí proniknout do J2EE, ale ztrácejí se v&nbsp;záplavě pojmů a zkratek. Předpokládám znalost webových standardů typu HTML, XML, HTTP a podobně, a dále znalost technologií Java 5.0+&nbsp;– tj. jazyk, standardní knihovny J2SE, princip fungování&nbsp;tříd.</p> 
<p>Úvod se snažím psát co nejpraktičtěji&nbsp;– popisuji tedy technologie v&nbsp;pořadí, v&nbsp;jakém jsem se s&nbsp;nimi setkal já (nebo v&nbsp;jakém by to aspoň bývalo bylo nejlepší).</p> 
<p>Na komerčních knihách mě často štve, že jsou psané jak pro debily&nbsp;– každý detail odrbávají na dvě stránky. Já předpokládám, že jste inteligentní lidé, proto jeden fakt uvádím sice se snahou, aby bylo jeho vysvětlení srozumitelné a pochopitelné, ale uvedu ho jen jednou. Pokud moje vysvětlení nepochopíte, tak se omlouvám :-) a doporučuji Wikipedii, která pamatuje i&nbsp;na to, že člověk nemusí o&nbsp;daném tématu vědět vůbec&nbsp;nic.</p> 
<p>Úvod je skutečně velmi povrchní a nenaučí vás žádné konkrétní postupy&nbsp;– je to zkrátka pomůcka pro zorientování se ve světě J2EE. Pokud již základní orientaci máte, potom je pro vás spíše oficiální <a href="http://java.sun.com/j2ee/1.4/docs/tutorial/doc/">J2EE tutoriál</a> (v&nbsp;angličtině, rozsahem cca jako 600-stránková kniha).</p> 
<p>Fajn, i&nbsp;když trochu starší, je také <a href="http://www.myeclipseide.com/documentation/quickstarts/earprojects/">procvičovací tutoriál pro Eclipse IDE</a>.</p> 
<h3 id="toc-co-je-j2ee">Co je J2EE</h3> 
<p>Zkratka J2EE (nověji Java <acronym title="Enterprise Edition">EE</acronym>) označuje skupinu technologií, která se používá pro vývoj tzv. „enterprise aplikací“ (čti <em>entrprajs</em>).</p> 
<p>Co je enterprise aplikace není zcela jasně ohraničitelné, ale dá se říci, že to je aplikace, ve které se využívají pokročilé postupy jako clusterování (běží na více serverech / systémech / databázích …), distribuované transakce (transakce napříč clustery), fail-over (při výpadku převezme funkci jiná část systému), vzdálené volání, a&nbsp;další.</p> 
<p>Typickými představiteli enterprise aplikací jsou například rozsáhlé podnikové systémy, bankovní aplikace, webové aplikace. Nás bude zajímat podmnožina J2EE používaná pro vývoj webových aplikací.</p> 
<p>Na tomto místě je v&nbsp;knihách obvykle podrobný teoretický rozbor J2EE technologií; Avšak jak jsem předeslal, úvod se snažím psát co nejpraktičtěji, proto uvedu jen úplně nejnutnější pojmy a zkratky; zbylé haldy si necháme na později a vrhneme se rovnou na software.</p> 
<h4 id="toc-servlety">Servlety</h4> 
<p>V&nbsp;době rozvoje Javy si její tvůrci a příznivci řekli, že by to mohla být šikovná technologie pro tvorbu dynamických webů&nbsp;– koneckonců jde jen o&nbsp;generování HTML a dalších&nbsp;kódů.</p> 
<p>První přístup byl ten, že se vytvoří Java programy, které budou fungovat podobně jako CGI&nbsp;– dostanou na vstup HTTP požadavek a vrátí kód stránky. Tak vznikly servlety. Je to krapet složitější&nbsp;– servlet není přímo program, ale spíše třída, která má určité metody jako <code>doGet(...)</code> a <code>doPost(...)</code>, které se pro každý požadavek volají. V&nbsp;parametrech dostanou informace o&nbsp;požadavku, o&nbsp;session, a referenci na objekt odpovědi.</p> 
<pre class="brush: lang-java brush: java">public class HelloServlet extends HttpServlet {

  public void doGet (HttpServletRequest pozadavek, HttpServletResponse odpoved)
    throws ServletException, IOException {

    odpoved.getWriter().println("&lt;html&gt;&lt;body&gt;Hello, world!&lt;/body&gt;&lt;/html&gt;");
  }
}</pre> 
<p>Pak takovouto třídu zabalíte do JAR archivu spolu s&nbsp;konfigurákem <code>WEB-INF/web.xml</code>:</p> 
<pre class="brush: lang-xml brush: xml">&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee" version="2.4"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http:/java.sun.com/dtd/web-app_2_3.dtd"&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;
    &lt;servlet-class&gt;test.HelloServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;</pre> 
<p>Potom už jen archiv „deploynete“ a aplikace jede.</p> 
<blockquote> 
 <p>Jak vypadá <em>deploynutí</em> se liší podle serveru. Nejlépe to má udělané JBoss AS / JBoss Web, na kterém JARko prostě nakopírujete do adresáře <code>deploy</code> a hotovo. V&nbsp;Tomcatu je třeba jít do manažera aplikací a v&nbsp;něm <code>.jar</code> nahrát přes formulář.</p> 
</blockquote> 
<p>Pochopitelně konfigurace každého servletu a generování HTML stránek přimo v&nbsp;Java kódu je dost otravné:</p> 
<pre class="brush: lang-java brush: java">PrintWriter vystup = odpoved.getWriter();
vystup.write("&lt;h1&gt;Ahoj " + session.getAttribute("name") +"!&lt;/h1&gt;");
vystup.write("&lt;p&gt;Takhle nějak se generuje stránka ze servletu.&lt;/p&gt;");</pre> 
<p>Představte si takhle psát celou stránku. Proto se vývojáři poohlédli, jak se to řeší v&nbsp;jiných technologiích, například ASP nebo PHP (tehdy ještě pravěké verze), a viděli, že daleko lepší přístup je psát HTML stránku a do ní tu a tam vložit nějaký kód, kterého je obvykle spíše menšina. No a tak vznikla technologie&nbsp;JSP.</p> 
<blockquote> 
 <p>Servlety mají dodnes svoji nezastupitelnou roli. Je třeba si uvědomit, že webové aplikace negenerují jen HTML stránky. Na generování binárních výstupů nebo XML dokumentů (např. pro webové služby) se stále používá Servlet&nbsp;API.</p> 
</blockquote> 
<h4 id="toc-jsp-java-server-pages">JSP&nbsp;– Java Server Pages</h4> 
<pre class="lang-jsp brush: jsp">&lt;h1&gt;Ahoj &lt;%= session.getAttribute("name") %&gt;!&lt;/h1&gt;</pre> 
<p>Rovnou při vzniku měla mnohem více možností, než konkureční způsoby vkládání kódu do HTML (můj názor). A&nbsp;to především díky zvláštním tagům, jejichž interpretaci mají na starosti Java třídy. Takový tag vypadá například&nbsp;takto:</p> 
<pre class="brush: lang-xml brush: xml">&lt;html:link action="/logout"&gt;Odhlásit&lt;/html:link&gt;</pre> 
<p>Zrovna tento tag není úplně dobrý příklad, zrovna mi padnul pod ruku. ***Dát lepší příklad. Lepší by byl třeba tento: <em>(Poznámka pro znalé: Tento kód jsem si z&nbsp;hlavy vymyslel, neodpovídá přesně tagům JSTL knihovny.)</em></p> 
<pre class="brush: lang-xml brush: xml">&lt;cache:cache key="vypis_uzivatelu"&gt;
  &lt;sql:query sql="SELECT * FROM users ORDER BY name" var="resultUsers" /&gt;
  &lt;table&gt;
    &lt;c:foreach from="resultUsers" var="i"&gt;
      &lt;tr&gt;&lt;td&gt;&lt;c:out value="${resultUsers[i]}"/&gt;&lt;/td&gt;&lt;/tr&gt;
    &lt;/c:foreach&gt;
  &lt;/table&gt;
&lt;/cache:cache&gt;</pre> 
<p>Ne, nelekejte se&nbsp;– neřeší se celá aplikační logika pomocí XML elementů (také to tak na mě z&nbsp;některých tutoriálů působilo). Elementy, které vidíte, jenom představují celkem pohodlné rozhraní ke knihovnám, které zajišťují jejich funkčnost. Například existuje knihovna pro cache, díky které stačí kešovaný kousek stránky obklíčit elementem <code>&lt;cache:cache&gt;</code> (může se jmenovat libovolně, jméno můžete sami upravit), a knihovna už sama zajistí buď provedení kódu vevnitř, nebo vytažení již uloženého výsledku.</p> 
<p>V&nbsp;poznámce výše jsem zmínil knihovnu <strong>JSTL</strong> (JSP Standard Tag Library). Můžete se podívat na jeji stránky <a href="http://jakarta.apache.org/taglibs/doc/standard-doc/intro.html">http://jakarta.apache.org/…c/intro.html</a>. Ale to jsme pořád na nejnižší úrovni možností těchto elementů. Opravdu pokročilé knihovny (které už jsou obvykle součástí nějakého frameworku a spolupracují s&nbsp;jeho zbylými částmi) obvykle poskytují automatizaci vysoké úrovně typu obsluhy, vyplňování a validace formulářů, AJAXu, správy šablon,&nbsp;atd.</p> 
<p>Další pěknou vlastostí JSP je <strong>jazyk EL</strong>&nbsp;– Expression Language, pomocí kterého můžete do stránky stručně začlenit nějakou dynamickou hodnotu (teď zrovna nevím, jestli to je zrovna takhle, píšu z&nbsp;hlavy):</p> 
<p><code>Ahoj ${session.attributes['name']}</code></p> 
<p>Možnosti jazyka EL samozřejmě nekončí výpisem nějaké hodnoty. Můžete vyjádřit aritmetické operace, různě formátovat, volat statické Java funkce, které si sami naprogramujete, a další. (PHPčkářům by to mohlo připomínat <em>Smarty</em>.)</p> 
<h4 id="toc-zivotni-cyklus-j2ee-aplikace">Životní cyklus J2EE aplikace</h4> 
<p>Pro lidi, kteří znají jen PHP, je pojem „životní cyklus“ trochu novinkou. PHP má totiž životní cyklus úplně nejjednoduší možný:<br> Přijde požadavek, apache jej předá PHP, to zjistí, který skript má načíst, přeparsovat a vykonat, skriptu předá požadavek, pak se řídí instrukcemi ve skriptu, a nakonec skončí. Tento postup může být různě optimalizovaný, např. PHP může udržovat přeparsované skripty v&nbsp;paměti, použít jedno PHP vlákno vícekrát, a podobně.</p> 
<p>Oproti tomu J2EE aplikace je opravdu aplikace v&nbsp;pravém slova smyslu:<br> Na serveru se spustí a běží, dokud ji neukončíte. Jednotlivé požadavky potom nejsou jejími jednotlivými spuštěními, ale jen voláním metod jejích tříd. Z&nbsp;toho plynou leckteré velké výhody.</p> 
<p>Jako začátečník spatřuji jednu z&nbsp;největších výhod v&nbsp;tom, že stav aplikace nemusím někam ukládat do session či podobně, ale sám přetrvává. Pokud na serveru vytvoříte nějaký objekt a uložíte ho kamsi, tak tam přetrvá, dokud ho neodstraníte. Viditelný může být pro všechny session, pro všechny požadavky. Tuto vlastnost pochopitelně velmi hojně využívají téměř všechny frameworky, různé cache nástroje, správci zdrojů (např. spojení do databáze) atd. Samozřejmě se nejedná o&nbsp;náhradu perzistence; může ji však skvěle doplňovat.</p> 
<h3 id="toc-servery">Servery</h3> 
<p>Pokud chcete začít s&nbsp;vývojem webových aplikací s&nbsp;J2EE, přijdete zprvu asi do kontaktu s&nbsp;nějakým serverem, který je umí vykonávat. Takových serverů je mnoho od různých výrobců. Nazývají se <strong>kontejnery servletů</strong> (servlet containers), někdy je na ně nabaleno několik dalších „bundled“ technologií, a ty se potom honosí názvem <strong>aplikační server</strong>. U&nbsp;obyčejného kontejneru ale o&nbsp;nic nepřijdete&nbsp;– víceméně všechnu funkčnost si do něj můžete přidat sami, a profesionálové se k&nbsp;tomu u&nbsp;menších projektů dokonce přiklánějí raději.</p> 
<p>Zde je seznam neznámějších:</p> 
<ul> 
 <li><strong>Apache Tomcat</strong> (kontejner)&nbsp;– dost možná nejpoužívanější pro J2EE webové aplikace. Je součástí J2EE modulu pro NetBeans.</li> 
 <li><a href="http://www.mortbay.org/jetty/"><strong>Jetty</strong></a> (kontejner)&nbsp;– „lightweight“ (jak rád říkám, lehkovážný :-)&nbsp;– menší nároky na paměť, rychlejší.</li> 
 <li><a href="http://www.jboss.org/jbossas/"><strong>JBoss AS</strong></a> (aplikační server)&nbsp;– asi nejrozšířenější aplikační server; vyvíjí ho firma RedHat. Vyznačuje se vysokou modularitou na základě mikrojádra.</li> 
 <li><a href="http://www.jboss.com/products/platforms/application"><strong>JBoss EAP</strong></a> (aplikační server)&nbsp;– „ostrá“ verze JBoss AS&nbsp;– důkladně otestovaný AS + framework&nbsp;Seam.</li> 
 <li><strong>JBoss Web</strong> (kontejner)&nbsp;– odlehčená verze JBoss AS, určená pro účely, pro které se používá Tomcat. Snoubí se v&nbsp;něm jednoduchost kontejneru a výhody JBossu. Osobně jsem si jej docela oblíbil.</li> 
 <li><strong>Sun Java system Application Server</strong> (aplikační server)&nbsp;– neohrabané jméno, proto jej často na webu uvidíte pod zkratkou SJSAS; jinak docela&nbsp;dobrý.</li> 
 <li><strong>GlassFish</strong> (aplikační server)&nbsp;– komunitní verze SJSAS. Je součástí J2EE modulu pro NetBeans.</li> 
 <li><strong>IBM WebSphere</strong> (aplikační server)&nbsp;– nezkoušel&nbsp;jsem.</li> 
 <li><strong>BEA WebLogic</strong> (aplikační server)&nbsp;– nezkoušel&nbsp;jsem.</li> 
 <li><a href="http://www.caucho.com/index.xtp"><strong>Caucho Resin</strong></a> (aplikační server)&nbsp;– nezkoušel&nbsp;jsem.</li> 
</ul> 
<p>Více najdete na Wikipedii: <a href="http://en.wikipedia.org/wiki/Comparison_of_application_servers">Comparison of Application Servers</a>.</p> 
<p>V&nbsp;tomto úvodu se budu zabývat asi hlavně kontejnerem <strong>Tomcat</strong>, jelikož jeho správa je nejjednodušší. Průběžně budu upozorňovat na to, co v&nbsp;Tomcatu chybí oproti aplikačním serverům.</p> 
<p>Nainstalujte si tedy některý z&nbsp;výše uvedených, doporučuji Apache Tomcat. Zapamatujte si uživatelské jméno a heslo pro administraci a port, na kterém apache poběží&nbsp;– jejich neznalost je častou příčinou delší prodlevy v&nbsp;postupu nováčků. Po instalaci a spuštění se rovnou podívejte na úvodní stránku. Dokumentaci zatím neřešte, je pro vás zatím moc složitá. Podívejte se na administrační část&nbsp;– odkaz „Tomcat Manager“ vpravo nahoře. Zadejte jméno a heslo, které jste si zapamatovali při instalaci. Standardně je to admin / adminadmin. U&nbsp;jednotlivých aplikací (zatím jich tu moc není) vidíte odkazy „Stop, Start, Reload, Undeploy“. Nemačkejte na ně&nbsp;– zrušili byste si možnost správy Tomcatu (bohužel to není blbuvzdorné). Trochu rozvedu, k&nbsp;čemu jsou&nbsp;– čímž se dostáváme k&nbsp;tématu, jak se J2EE aplikace dostávají na server.</p> 
<h4 id="toc-deploy-upload-aplikace-zjednodusene-receno">Deploy = upload aplikace (zjednodušeně řečeno)</h4> 
<p>J2EE aplikace se obvykle na server umisťují v&nbsp;jednom souboru s&nbsp;příponou <code>.war</code>&nbsp;– Web ARchive. Ten má danou strukturu souborů a adresářů&nbsp;– ta je dost důležitá a budete se s&nbsp;ní setkávat často (hlavně když něco nepůjde). Například v&nbsp;Tomcat Manageru (ona stránka, kterou máte asi stále ještě otevřenou) provedete deploy pomocí uploadu WAR souboru na server. Proces ale nezahrnuje jen zkopírování&nbsp;– kontejner rovnou aplikaci také rozbalí, prohlédne konfiguraci, podle ní upraví prostředí pro aplikaci a svoje prostředí (zejména vytvoří zdroje typu připojení do databáze atd.), aplikaci spustí a zavolá její metodu <code>init()</code>.</p> 
<p>Aby to zas nevypadalo, že s&nbsp;Javou je svět krásný a ideální, tak musím uvést, že při tomto kroku bývají největší problémy: Na serveru kolidují verze knihoven kvůli hierarchii tzv. <em>class-loaderů</em>&nbsp;– to jsou nástroje pro načítání tříd do JVM a na serveru je jich hned několik. Když stejnou třídu (dokonce i&nbsp;ze stejného souboru) načte více classloaderů, z&nbsp;hlediska JVM jsou to jiné třídy, a pak dostanete třeba <a href="http://www.jforum.net/posts/list/4121.page">takovéto výjimky</a>.</p> 
<p>Začátečník (jak si dobře pamatuji) s&nbsp;tím může mít velké probémy, ale není to zas až tak strašné, pokud nastudujete trochu teorie&nbsp;– např. <a href="http://www.sweb.cz/pichlik/archive/2007_02_25_archive.html">dobrý článek o&nbsp;classloaderech</a> na Dagblogu, a znáte strukturu classloaderů vašeho serveru. Je to už ale trochu pokročilé&nbsp;téma.</p> 
<p>Nejčastější chybou je duplikátní výskyt knihoven&nbsp;– jednou ve vaší aplikaci, jednou třeba v <code>/lib</code> adresáři serveru. To se často děje proto, že se snažíte vyřešit problém nekompatibilních verzí tříd. Proto také doporučuji webové aplikace napřed zkoušet na kontejnerech, u&nbsp;kterých je toto riziko&nbsp;menší.</p> 
<h4 id="toc-soucasti-tomcatu">Součásti Tomcatu</h4> 
<p>Začátečníky často mate spoustu názvů, se kterými se při práci s&nbsp;Tomcatem setkají&nbsp;– bohužel zejména při výpisu chyb, ale částo také při konfiguraci. Proto zde uvedu, co představují jednotlivá jména součástí Tomcatu. Samotné zmíněné technologie probereme dále. ***Možná přesunout dále, až za představení technologií.</p> 
<ul> 
 <li>Catalina&nbsp;– v&nbsp;podstatě Javové jádro serveru. Vykonává servlety, tedy samotný Java kód webové aplikace.</li> 
 <li>Jasper&nbsp;– ta část, která převádí JSP kód na Java servlety.</li> 
 <li>Coyote&nbsp;– stará se o&nbsp;HTTP komunikaci, zpracovává požadavky na volání servletů.</li> 
</ul> 
<p>Tolik tedy zatím k&nbsp;serverům, a teď se podíváme po něčem, v&nbsp;čem budeme aplikace vyvíjet.</p> 
<h3 id="toc-ide-prostredi-pro-vyvoj">IDE&nbsp;– prostředí pro vývoj</h3> 
<p>Prostředí pro vývoj J2EE aplikací je opět více. Nejznámější jsou Eclipse a NetBeans. Začátečníkům rozhodně doporučuji NetBeans&nbsp;– na rozdíl od Eclipse obvykle vše funguje „z&nbsp;fleku“.</p> 
<p>NetBeans mají přímou podporu Sunu a mají celkem slušnou komunitu. Navíc jde o&nbsp;projekt původem od českého kdysi-studenta; časem projekt koupil Sun a udělal z&nbsp;něj svoje&nbsp;–hlavní– mainstreamové vývojové prostředí&nbsp;– podobně jako má Microsoft svoje Visual Studio.</p> 
<p><a href="http://download.netbeans.org/netbeans/6.1/final/">Stáhněte si tedy NetBeans</a>, balíček <em>Web &amp; Java EE</em>. V&nbsp;něm je zahrnutý i&nbsp;Apache Tomcat. Proč jsem vás tedy nechal stahovat samostatný Tomcat?</p> 
<ul> 
 <li>Tomcat zahrnutý v&nbsp;NetBeans se po zavření IDE ukončí.</li> 
 <li>U&nbsp;samostatného se lépe spravují knihovny, uživatelé a další nastavení.</li> 
 <li>Se samostatným jde z&nbsp;NetBeans pracovat stejně jako s&nbsp;tím vestavěným.</li> 
</ul> 
<p>K&nbsp;vývojovému prostředí se ještě dostaneme, nyní k&nbsp;samotným technologiím.</p> 
<h3 id="toc-perzistence-hibernate-toplink-a-spol">Perzistence&nbsp;– Hibernate, Toplink a spol.</h3> 
<p>Jednou z&nbsp;technologií, které jsou na J2EE nejlákavější, je perzistence objektů, či objektově-relační mapování. Ta slouží k&nbsp;automatickému „rozkládání“ objektů (hlavně) do relační databáze a jejich zpětné načítání. Dále je možné provádět nad objekty hromadné akce a dotazy pomocí jazyka podobného SQL. Objektům (resp. jejich třídám), se kterými v&nbsp;perzistenci pracujeme, se říká <em>entity</em>.</p> 
<h4 id="toc-hibernate">Hibernate</h4> 
<p>Nejznámějším nástrojem pro perzistenci je Hibernate. Ten používá jazyk HQL. Pro mapování, tedy k&nbsp;popisu, jak se objekty které třídy rozkládají do tabulek v&nbsp;databázi, sloužily dříve XML soubory.</p> 
<pre class="brush: lang-xml brush: xml">&lt;hibernate-mapping&gt;
 &lt;class name="ModelPlane" table="model_plane"&gt;
   &lt;id name="id" column="id_model" type="java.lang.Long"&gt;
     &lt;generator class="increment"/&gt;
   &lt;/id&gt;
   &lt;property name="name" column="name" type="java.lang.String" /&gt;
 &lt;/class&gt;
&lt;/hibernate-mapping&gt;</pre> 
<p>V&nbsp;poslední době se ale rozmáhá pohodlnější způsob&nbsp;– @anotace.</p> 
<pre class="brush: lang-xml brush: xml">@Entity
public class ModelPlane {

    private Long id;
    private String name;

    @Id
    @GeneratedValue
    @Column(name = "id_model")
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
}</pre> 
<p>Manuál k&nbsp;anotacím najdete <a href="http://www.hibernate.org/hib_docs/annotations/reference/en/html_single/">zde</a>&nbsp;– ovšem pokud skutečně zrovna začínáte, raději na to vůbec nekoukejte, nebo se rychle ztratíte. ***Odstranit? Spíše si přečtěte nadpisy, ať chytnete slinu na to vše, co Hibernate&nbsp;umí.</p> 
<p>Hibernate lze použít i&nbsp;mimo J2EE&nbsp;– konec konců ukázkové aplikace jsou někdy obyčejné konzolové J2EE prográmky.</p> 
<p>***Vložit ukázku SQL DML, mapovacího XML a Java kódu&nbsp;– např. faktury.</p> 
<p>Detailní popis, jak Hibernate funguje a jak se s&nbsp;ním pracuje, vydá na mnohasetstránkovou knihu (viz Hibernate in Action). Proto vás jen odkážu na <a href="http://www.hibernate.org/">www.hibernate.org</a>, kde najdete velmi dobrý tutoriál, ze kterého cca během dne pochopíte, oč jde a jak se to programuje.</p> 
<h4 id="toc-jpa-java-persistence-api">JPA&nbsp;– Java Persistence API</h4> 
<p>Ani perzistence neunikla tendenci ve světě Javy vše standardizovat a vymýšlet společná aplikační rozhraní. Tak vznikl standard JPA, což je v&nbsp;podstatě trochu ořezané Hibernare API, ale také přinesl možnost místo XML souborů používat @anotace, což jsou (pro ty, co neznají) meta-informace zapsané přímo v&nbsp;kódu Java tříd za zavináčem:</p> 
<pre class="brush: lang-java brush: java">@Entity
@Table(name="users")
public class User {
  @Id public int id;
  @Column( name = "jmeno" ) public String krestniJmeno;
  ...
}</pre> 
<p>Trochu kontraproduktivně to vneslo bordel do názvosloví (vzniklo mnoho „skoro-synonym“), ale na to si zvyknete&nbsp;:-)</p> 
<h3 id="toc-frameworky">Frameworky</h3> 
<p>Technologie JSP sama o&nbsp;sobě je pořád dost slabá a pro vývoj velkých aplikací nevhodná. Proto se postupem času objevily stovky frameworků, z&nbsp;nichž desítky se opravdu často používají. Slouží nejrůznějším účelům pro různé vrstvy aplikací. O&nbsp;několika z&nbsp;nich si ve stručnosti povíme.</p> 
<p>Zpracování požadavku se ve většině frameworků rozděluje na zhruba dvě části: Na akci a renderování stránky.</p> 
<p><em>Akce</em> je jednoduše provedení činností, které případné vyplývají z&nbsp;požadavku (např. vytvoření účtu), a dále příprava dat, které se použijí ve stránce.</p> 
<p><em>Renderování</em> je prostě vygenerování popisného kódu obsahující výsledný dokument&nbsp;– XHTML, WAP, SOAP, ale i&nbsp;binární jako PDF dokument pro tisk či PNG obrázek. Při tomto generování se obvykle použijí data připravená v&nbsp;akci, a k&nbsp;samoznému generování se často používá některý z&nbsp;přehršle šablonovacích systémů.</p> 
<h4 id="toc-struts">Struts</h4> 
<p>Největší obliby (podle mého pozorování) došel framework Struts. Ten slouží právě zejména k&nbsp;rozdělení a řízení toku aplikace&nbsp;– kdy provést jakou akci, jaké jí předat parametry, kam pokračovat,&nbsp;atd…</p> 
<p>Má dvě hlavní verze:</p> 
<p><em>Verze 1.x.x</em>, která je ve své podstatě celkem jednoduchá a oproti verzi 2&nbsp;toho moc neumí&nbsp;– čímž ale neříkám, že to málo, co umí, nezvládá dobře nebo že to není důležité. Zejména se totiž stará o&nbsp;aplikační logiku (jakou akci obsluhuje která třída, jaká stránka se má kdy zobrazit, atd.). Dále obsahuje celkem rozsáhlou knihovnu tagů (viz JSP), které plní různé&nbsp;účely.</p> 
<p>Později spojením <em>Struts 1</em>&nbsp;a frameworku <em>WebWorks</em> vznikla verze Struts 2, ve které původní funkčnost <em>Struts 1</em>&nbsp;tvoří asi 20&nbsp;%.</p> 
<h4 id="toc-seam-framework">Seam Framework</h4> 
<p><a href="http://seamframework.org/">Seam framework</a> z&nbsp;dílny JBoss je známý především díky své části určené pro ulehčení spolupráce JSF a EJB (podle čehož ostatně nese své jméno). Obsahuje však mnohem více součástí, a dalo by se říci, že záběrem konkuruje frameworku Spring.</p> 
<h4 id="toc-jsf-java-server-faces">JSF&nbsp;– Java Server Faces</h4> 
<p>Sun ze všech nejvíce propaguje framework JSF. Ten do značné míry vychází ze Struts 1, má i&nbsp;podobný záběr funkcionality, ale v&nbsp;lecčems se zásadně liší, a pochopitelně s&nbsp;sebou přináší spoustu standardů a více&nbsp;XML.</p> 
<h4 id="toc-spring-framework">Spring Framework</h4> 
<p>Když jsem se kamaráda&nbsp;– J2EE juniora&nbsp;– poprvé zeptal, k&nbsp;čemu je Spring, řekl: „Spring je naprosto bomba.“ A&nbsp;pokračoval tím, jak mu to ušetří spoustu psaní&nbsp;kódu.</p> 
<p>Dnes, kdy jsem mnoho částí Springu již adoptoval a používám, mu musím dát zapravdu, i&nbsp;když on tehdy mluvil z&nbsp;pohledu vývojáře, který projekt nekonfiguruje, pouze využívá jeho efektů. Spring je však bomba i&nbsp;z&nbsp;pohledu správce projektu (seniora, chcete-li)&nbsp;– konfigurace je velmi snadná a jde jak po&nbsp;másle.</p> 
<p>A&nbsp;nyní tedy, k&nbsp;čemuže ten spring je. Ve stručnosti se to moc popsat nedá, leda výčtem názvů jeho&nbsp;částí:</p> 
<ul> 
 <li>Inversion of Control&nbsp;– konfiguraci aplikace velmi snadno „vytáhnete“ z&nbsp;kódu do konfiguráků.</li> 
 <li>Spring AOP&nbsp;– opakující se „začátky a konce“ (např. otevření/zavření transakce) v&nbsp;metodách přesunete do jednoho místa a do oněch metod jej vloží Spring.</li> 
 <li>Resources&nbsp;– mnoho nástrojů pro načítání souborů z&nbsp;filesystému nebo z&nbsp;archivu aplikace.</li> 
 <li>Validace, provazování dat</li> 
 <li>Testování</li> 
 <li>Správa transakcí (může být provázáno s&nbsp;AOP)</li> 
 <li>Ulehčení práce s&nbsp;ORM nástroji a iBatisem</li> 
 <li>MVC framework pro webové aplikace a pro „portlety“</li> 
 <li>Integrace s&nbsp;mnoha zobrazovacími nástroji&nbsp;– FreeMarker, Tiles, XSLT, PDF,&nbsp;Excel</li> 
 <li>Podpora vývoje webových služeb</li> 
 <li>Práce s&nbsp;mailem (odesílání mailů z&nbsp;Javy)</li> 
 <li>Podpora skriptovacích jazyků pro programování servisních objektů</li> 
 <li>a další.</li> 
</ul> 
<p>Lidem, kteří s&nbsp;J2EE začínají, takový výpis asi moc k&nbsp;ničemu nebude, proto vás rovnou odkáži na&nbsp;články</p> 
<ul> 
 <li><a href="navod-spring-framework-zacatky.html">Úplné začátky s&nbsp;frameworkem Spring</a></li> 
 <li><a href="navod-spring-aop-zacatky.html">Začátky se Spring AOP&nbsp;– návod</a></li> 
 <li><a href="navod-spring_freemarker_in_standalone_application.html">FreeMarker templates via Spring in non-web application</a></li> 
</ul> 
<h4 id="toc-dalsi">Další</h4> 
<p>Pokud hledáte něco pro konkrétní účel, je obvykle dobré podívat se na projekty, které zastřešují jiné projekty&nbsp;– jako jsou <a href="http://jakarta.apache.org/"><strong>Jakarta</strong></a>, zejména v&nbsp;levé části v&nbsp;sekci „Ex-Jakarta“ jsou projekty, které se osvědčily a přesunuly pod projekt <a href="http://apache.org/">Apache</a>&nbsp;– <a href="http://projects.apache.org/indexes/language.html#Java">seznam konkrétních projektů pro Javu</a> je opravdu dlouhý. Z&nbsp;těch nejznámějších sem&nbsp;patří:</p> 
<ul> 
 <li>Jakarta Commons (obecné pomůcky pro kdeco)</li> 
 <li>Jakarta Logging (obecný nástroj pro logování, vzniklo podle něj <code>java.util.logging</code>)</li> 
 <li>Struts (webový framework, viz výše)</li> 
</ul> 
<p>A&nbsp;mimojiné také server <em>Tomcat</em>, buildovací nástroj <em>Ant</em>, nástroj pro správu projektů <em>Maven</em>, práce se soubory MS Office <em>POI</em>, a&nbsp;další.</p> 
<p>Dalším takovým hnizdem projektů je <a href="http://www.jboss.org/"><strong>JBoss</strong></a>, nyní spravovaný firmou RedHat, kde je <a href="http://www.jboss.org/projects/">projektů opravdu hodně</a>&nbsp;– asi 35.&nbsp;Mezi ně&nbsp;patří:</p> 
<ul> 
 <li>Hibernate&nbsp;– asi nejpopulárnější pecka&nbsp;– objektově-relační mapování, viz „perzistence“&nbsp;výše</li> 
 <li>JBoss Application Server (Aplikační server, viz výše)</li> 
 <li>JBoss AOP (implementace AOP, něco jako Spring AOP&nbsp;– viz&nbsp;výše)</li> 
 <li>Seam&nbsp;– framework, který začal jako zjednodušení vývoje v&nbsp;JSF a EJB, ale má namířeno na posty Spring Frameworku</li> 
 <li>a další obecné nástroje&nbsp;– cache, vzdálené volání, správa transakcí, webové služby, messaging, a&nbsp;další.</li> 
</ul> 
<p>Nenechte se ale zahltit&nbsp;– pokud se zanoříte do všech projektů a budete chtít zjistit, co vše umí, bude to čtení na několik dnů. Já doporučuji tento postup: Koukněte se na nějaké Java fórum a hledejte témata s&nbsp;nadpisem typu „Jaký framework používáte pro XYZ a proč?“ V&nbsp;takových se obvykle nespustí flamewar, ale naopak věcná diskuze, kde se velmi stučně dozvíte shrnutí, k&nbsp;čemu který slouží, respektive k&nbsp;čemu jej kdo používá, a často i&nbsp;krátké a výstižné ukázky&nbsp;kódu.</p> 
<h3 id="toc-ejb">EJB</h3> 
<p>EJB, <em>Enterprise Java Beans</em> 
 <!--, je cosi, čemu přesně ještě docela nerozumím, ale -->: v&nbsp;podstatě jde opět o&nbsp;snahu standardizovat. Rozděluje „Beany“ (java třídy s&nbsp;určitým účelem) na několik kategorií, podle účelu, ke kterému mají sloužit&nbsp;– jestli mají provádět nějaké operace, nebo poskytovat nějakou službu, nebo jestli mají představovat nějakou entitu, a podobně. S&nbsp;tím souvisí pojmy „Stateful“, „stateless“ a další. ***Doplnit</p> 
<p>Technologie EJB se týká především aplikačních serverů a enterprise aplikací. Má více verzí, které se docela zásadně liší. V&nbsp;současnosti je aktuální verze 3.0, která je snad první jednoduše použitelná. Ovšem na webu (v&nbsp;době psaní) narazíte povětšinou na materiály o&nbsp;EJB verze 2.0, z&nbsp;nichž leckteré to s&nbsp;klidným svědomím ani neuvedou, takže vy se pak zcela marně snažíte v&nbsp;aplikačním serveru pracujícím na EJB 3.0&nbsp;aplikovat postupy pro EJB&nbsp;2.0.</p> 
<p>Tuto sekci o&nbsp;EJB uvádím hlavně proto, že na zkratku EJB se dá narazit hodně často. Studium EJB doporučuji odložit na dobu, kdy budete mít v&nbsp;ruce JSP, Struts a Hibernate. ***Dopsat</p> 
<h3 id="toc-zaver">Závěr</h3> 
<p>Zatím vše. Jelikož se s&nbsp;obrovským světem J2EE stále seznamuji, vyhrazuji si právo plácat tu nesmysly, ale snažím se, aby uvedená fakta odpovídala pravdě&nbsp;– konec konců, účelem tohoto dokumentu je velmi rychle seznámit nováčky s&nbsp;J2EE. Do podrobností zde zacházet nechci, těch je na webu velká spousta.</p> 
<p>Pokud jste zkušení J2EE harcovníci, uvítám jakékoliv opravy na e-mailu <a href="mailto:ondra@dynawest.cz">ondra@
  <!-- -->dynawest.cz</a>.</p> 
<hr> 
<p>Napsáno 2007–08, aktualizováno tu a tam, naposledy 2008–10.</p>
                    </div>
                    ... <a href="pages/programming/java/navod-j2ee_uvod.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG1403.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/jboss-aop-howto-example-standalone-app.html"><h2 class="title">JBoss
Microcontainer with JBoss AOP – Howto with sample application</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-jboss-microcontainer-with-jboss-aop-howto-with-sample-application">JBoss Microcontainer with JBoss AOP&nbsp;– Howto with sample application</h2> 
<p><em>A&nbsp;very brief intro to JBoss AOP.</em></p> 
<h3 id="toc-prerequisites">Prerequisites</h3> 
<p>This tutorial is a follow-up to the <a href="jboss-microcontainer-howto-example-standalone-app.html">JBoss Microcontainer intro</a>&nbsp;– read that first if you haven't&nbsp;yet.</p> 
<h3 id="toc-what-is-aop-good-for">What is AOP good for?</h3> 
<p>AOP (Aspect Oriented Programming) is a concept of moving a „programatic envelopes“ away from the methods. What I&nbsp;call a programatic envelope is that kind of annoying code you have to repeat at the end or/and the beginning of many methods.</p> 
<p>Usual textbook examples of AOP usage are:</p> 
<ul> 
 <li>Opening and closing of a transaction</li> 
 <li>Locking and unlocking of synchronization locks</li> 
 <li>Logging of debug messages</li> 
 <li>Measuring the time of method execution</li> 
</ul> 
<p>However, AOP is particulary useful for frameworks for their need of generalization. It can help it to put the envelope code around method which it still does not&nbsp;know.</p> 
<h3 id="toc-how-does-aop-work">How does AOP work?</h3> 
<p>First, you mark some Java constructs (methods, fields, constructors, …) to be AOP'ed (encapsulated with your envelope code).<br> Then you need so-called „aspect“&nbsp;– that is the official name for envelope code.<br> Then you need some tool which will bind the aspect to those methods. This is done by advanced techniques like byte-code instrumentation and class reflection.</p> 
<h3 id="toc-why-jboss-aop-and-not-the-others">Why JBoss AOP (and not the others)?</h3> 
<p>JBoss AOP offers much more then the other AOP frameworks (like Spring&nbsp;AOP).</p> 
<ul> 
 <li>It can bind not only to methods, but also to constructors and fields.</li> 
 <li>As it's&nbsp;not proxy based, you don't need to treat objects only through interfaces.</li> 
 <li>You can weave any existing class without any code changes.</li> 
 <li>Annotation-based weaving&nbsp;– intercept Java constructs which are annotated by some anotation.</li> 
 <li>Weaving at compile time gives much better performance.</li> 
 <li>Configuration by annotations&nbsp;– if you don't like XML, you can set the aspects and bindings using annotations like <code>@Aspect</code>, <code>@Interceptor</code>, <code>@Bind</code> etc. See <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#annotated">Chapter 6.&nbsp;Annotation Bindings</a>.</li> 
 <li>Runtime weaving, called „HotSwap“&nbsp;– allows bytecode of your classes to be weaved in runtime.</li> 
</ul> 
<h3 id="toc-terms">Terms</h3> 
<p>Copied from <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#base-terms">JBoss AOP reference docs</a>.</p> 
<dl> 
 <dt>
  Joinpoint
 </dt> 
 <dd>
  A&nbsp;joinpoint is any point in your java program. The call of a method. The execution of a constructor the access of a field. All these are joinpoints. You could also think of a joinpoint as a particular Java event. Where an event is a method call, constructor call, field access&nbsp;etc…
 </dd> 
 <dt>
  Invocation
 </dt> 
 <dd>
  An Invocation is a JBoss AOP class that encapsulates what a joinpiont is at runtime. It could contain information like which method is being called, the arguments of the method,&nbsp;etc…
 </dd> 
 <dt>
  Advice
 </dt> 
 <dd>
  An advice is a method that is called when a particular joinpoint is executed, i.e., the behavior that is triggered when a method is called. It could also be thought of as the code that does the interception. Another analogy is that an advice is an „event handler“.
 </dd> 
 <dt>
  Pointcut
 </dt> 
 <dd>
  Pointcuts are AOP's&nbsp;expression language. Just as a regular expression matches strings, a pointcut expression matches a particular joinpoint.
 </dd> 
 <dt>
  Introductions
 </dt> 
 <dd>
  An introduction modifies the type and structure of a Java class. It can be used to force an existing class to implement an interface or to add an annotation to anything.
 </dd> 
 <dt>
  Aspect
 </dt> 
 <dd>
  An Aspect is a plain Java class that encapsulates any number of advices, pointcut definitions, mixins, or any other JBoss AOP construct.
 </dd> 
 <dt>
  Interceptor
 </dt> 
 <dd>
  An interceptor is an Aspect with only one advice named „invoke“. It is a specific interface that you can implement if you want your code to be checked by forcing your class to implement an interface. It also will be portable and can be reused in other JBoss environments like EJBs and JMX MBeans.
 </dd> 
</dl> 
<h3 id="toc-what-we-re-willing-to-achieve">What we're willing to achieve?</h3> 
<p>We want to catch all calls to methods that affect the fuel in the <code>Car</code>. To make this easily achievable with AOP, let's&nbsp;follow a convention that all changing methods are setters and all fuel-related properties names end with „Fuel“.</p> 
<p>For the purposes of this example, we've changed the <code>Car</code> class to have two fuel-related properties:</p> 
<pre class="brush: lang-java brush: java">public class Car {
  public int litresOfFuel;
  public int getLitresOfFuel() {    return litresOfFuel;  }
  public void setLitresOfFuel( int litresOfFuel ) {    this.litresOfFuel = litresOfFuel;  }

  public int reserveFuel;
  public int getReserveFuel() {    return reserveFuel;  }
  public void setReserveFuel( int reserveFuel ) {    this.reserveFuel = reserveFuel;  }

  public String toString(){
    return "Car \""+this.name+"\" with "+(this.litresOfFuel + this.reserveFuel)+" litres of fuel.";
  }
  ...
}</pre> 
<h3 id="toc-creating-an-interceptor-envelope">Creating an <code>Interceptor</code> („envelope“)</h3> 
<p>This is a simple interceptor that will just notify us when triggered.</p> 
<pre class="brush: lang-java brush: java">package cz.zizka.ondra.jbmctest;

import java.util.logging.Logger;
import org.jboss.aop.advice.Interceptor;
import org.jboss.aop.instrument.Untransformable;
import org.jboss.aop.joinpoint.Invocation;

public class FuelInterceptor implements Interceptor, Untransformable {

  private static final Logger log = Logger.getLogger( FuelInterceptor.class.getName() );

  public Object invoke(Invocation invocation) throws Throwable
  {
    Object target = invocation.getTargetObject();
    if( target instanceof Car ){
      log.info("The fuel is being changed for the car '"+((Car)target).getName()+"'.");
    }
    return invocation.invokeNext();
  }

  public String getName() {
    return FuelInterceptor.class.getName();
  }
}// class FuelInterceptor</pre> 
<h3 id="toc-binding-the-interceptor-to-the-method-calls">Binding the interceptor to the method calls</h3> 
<p>For the syntax of AOP pointcuts, see <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#pointcuts">JBoss AOP documentation</a>.</p> 
<p>The syntax for our purpose stated above would be:</p> 
<pre class="brush: lang-text brush: text">execution(* cz.zizka.ondra.jbmctest.Car-&gt;set*Fuel(..)</pre> 
<p>The AOP settings go to a special XML file having <code>&lt;aop&gt;</code> as it's&nbsp;root element, and conforming to the JBoss AOP XSD.<br> From what I've found, this file must be either in <code>META-INF/jboss-aop.xml</code> of your <code>.jar</code>, or anywhere on the filesystem, but you'll have to point to it by the <code>-Djboss.aop.path</code> JVM argument&nbsp;– see <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#standalone-compiletime">10.2.1.&nbsp;Precom­piled instrumentation</a> and <a href="http://www.jboss.org/jbossaop/docs/2.0.0.GA/docs/aspect-framework/reference/en/html_single/index.html#xml-resolving">5.2.&nbsp;Resolving XML</a>.</p> 
<p>To let maven put this file to your <code>.jar</code>, store it in <code>src/main/resources</code> (the default path for resources), giving the resulting path <code>src/main/resources/META-INF/jboss-aop.xml</code>.</p> 
<p>So let's&nbsp;bind this interceptor to some method calls. In this case, we're binding it to all methods of the <code>Car</code> class whose name has the pattern <code>set*Fuel</code>.</p> 
<pre class="brush: lang-xml brush: xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;aop&gt;
   &lt;bind pointcut="execution(* cz.zizka.ondra.*-&gt;set*Fuel(..))"&gt;
       &lt;interceptor class="cz.zizka.ondra.jbmctest.FuelInterceptor"/&gt;
   &lt;/bind&gt;
&lt;/aop&gt;</pre> 
<p>Alternatively, it should be possible to put the AOP settings to the JBoss Microcontainer XML (but I&nbsp;wasn't able to get it working):</p> 
<pre class="brush: lang-xml brush: xml">&lt;deployment xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="urn:jboss:bean-deployer:2.0 bean-deployer_2_0.xsd"
            xmlns="urn:jboss:bean-deployer:2.0"
            xmlns:aop="urn:jboss:aop-beans:1.0"&gt;

  &lt;bean ... /&gt; &lt;!-- Car and garage beans --&gt;

  &lt;aop:interceptor name="FuelInterceptor" class="cz.zizka.ondra.jbmctest.FuelInterceptor"/&gt;

  &lt;aop:bind pointcut="execution(* cz.zizka.ondra.jbmctest.Car-&gt;set*Fuel(..)"&gt;
    &lt;aop:interceptor-ref name="FuelInterceptor"/&gt;
  &lt;/aop:bind&gt;

&lt;/deployment&gt;</pre> 
<h3 id="toc-maven-configuration">Maven configuration</h3> 
<p>After setting Maven to use JBoss repositories (see the <a href="jboss-microcontainer-howto-example-standalone-app.html">JBoss Microcontainer how-to</a>), add these dependencies to your project:</p> 
<pre class="brush: lang-xml brush: xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.jboss.microcontainer&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-kernel&lt;/artifactId&gt;
    &lt;version&gt;2.0.9.GA&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.jboss.aop&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-aop&lt;/artifactId&gt;
    &lt;version&gt;2.1.6.GA&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.jboss.microcontainer&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-aop-mc-int&lt;/artifactId&gt;
    &lt;version&gt;2.0.9.GA&lt;/version&gt;
    &lt;scope&gt;runtime&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre> 
<p>Also, add the JBoss AOP Maven plugin. It binds automatically to the <code>compile</code> phase. This will change the classes code to call your interceptors when a method is being called.</p> 
<pre class="brush: lang-xml brush: xml">&lt;plugins&gt;
  &lt;plugin&gt;
    &lt;groupId&gt;org.jboss.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-jbossaop-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.1.3.GA&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;compile&lt;/id&gt;  &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;
        &lt;configuration&gt;
          &lt;includeProjectDependency&gt;true&lt;/includeProjectDependency&gt;
          &lt;aoppaths&gt;
            &lt;aoppath&gt;src/main/resources/META-INF/jboss-aop.xml&lt;/aoppath&gt;
          &lt;/aoppaths&gt;
        &lt;/configuration&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;</pre> 
<h3 id="toc-test-code">Test code</h3> 
<pre class="brush: lang-java brush: java">public class JBossAopSampleApp {

  public static void main( String[] args ) throws Throwable
  {
    Car myCar = new Car("Red Devil");
    System.out.println( "I have a garage: "+car);

    // Put some fuel in.
    myCar.setLitresOfFuel( myCar.getLitresOfFuel() + 1 );
    myCar.setReserveFuel( myCar.getReserveFuel() + 1 );

    System.out.println( "I have a garage: "+car);
  }

}</pre> 
<h3 id="toc-the-result">The result</h3> 
<p>Now run the application, and you'll see that the interceptor is really being invoked.</p> 
<pre class="brush: lang-text brush: text">I have a garage: Garage with a car: Car "Red Devil" with 0 litres of fuel.
16.11.2009 11:42:47 FuelInterceptor invoke INFO: The fuel is being changed for the car 'Red Devil'.
16.11.2009 11:42:47 FuelInterceptor invoke INFO: The fuel is being changed for the car 'Red Devil'.
I have a garage: Garage with a car: Car "Red Devil" with 2 litres of fuel.</pre> 
<h3 id="toc-sample-application">Sample application</h3> 
<p>The application created in the examples above can be downloaded here: <a href="download/JBossAOPsample.zip">JBossAOPsample­.zip</a></p>
                    </div>
                    ... <a href="pages/programming/java/jboss-aop-howto-example-standalone-app.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0066.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/maven/how-to-add-existing-project-jar-to-maven-repository.html"><h2 class="title">How
to add existing project's jar to SVN-based Maven repository</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-how-to-add-existing-project-s-jar-to-svn-based-maven-repository">How to add existing project's <code>jar</code> to SVN-based Maven repository</h2> 
<p><em>See also</em>: <a href="mavenize-quick-and-dirty.html">Quick and dirty mavenization of an existing project</a></p> 
<h3 id="toc-bash-script-for-the-impatient">Bash script for the impatient</h3> 
<pre class="brush: lang-bash brush: bash">#
#  Creates two files:
#
#    1) A bash script with mvn install:install-file commands to push the .jar's to a repository.
#    2) A POM file with dependencies pointing to .jar's in Maven repo, uploaded by the script.
#

if [ -z "$1" ] ; then
  echo "Usage:  mavenize.sh &lt;path-to-dir-with-jars&gt; [&lt;groupId:'fake'&gt;]"
  exit
fi


LIB_PATH=$1
GROUP=${2:-fake}


echo '' &gt; stuffTheRepo.sh
echo '&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
' &gt; pomWithDeps.xml
echo "
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;$GROUP&lt;/groupId&gt;
  &lt;artifactId&gt;deps&lt;/artifactId&gt;
  &lt;packaging&gt;pom&lt;/packaging&gt;
  &lt;version&gt;0.0-SNAPSHOT&lt;/version&gt;
  &lt;name&gt;Fake Maven deps from JARs&lt;/name&gt;

  &lt;dependencies&gt;
" &gt;&gt; pomWithDeps.xml


for JAR_PATH in $LIB_PATH/*.jar ; do
  JAR=`basename $JAR_PATH`
  ARTIFACT=${JAR%.jar}
  echo "mvn install:install-file -Dpackaging=jar -DgeneratePom=true -DgroupId=$GROUP -Dfile=$JAR_PATH -DartifactId=$ARTIFACT -Dversion=0.0" &gt;&gt; stuffTheRepo.sh
  echo "    &lt;dependency&gt;&lt;groupId&gt;$GROUP&lt;/groupId&gt;&lt;artifactId&gt;$ARTIFACT&lt;/artifactId&gt;&lt;version&gt;0.0&lt;/version&gt;&lt;/dependency&gt;" &gt;&gt; pomWithDeps.xml
done

echo "
  &lt;/dependencies&gt;

&lt;/project&gt;" &gt;&gt; pomWithDeps.xml

chmod u+x stuffTheRepo.sh</pre> 
<h3 id="toc-how-to-for-the-rest">How-to for the rest</h3> 
<p><em>Copied from Sardine project's&nbsp;READ­ME.txt.</em></p> 
<p>This is a maven repository of the Sardine project.</p> 
<p>To add a new version, do the following:<br> <strong>Note:</strong> This is not a copy-paste code&nbsp;– edit it according to your situation.<br> <strong>Note:</strong> The preferred way is to use the Wagon-SCM Maven plugin, as described on <a href="http://community.jboss.org/wiki/MavenReleaseRepository">JBoss wiki</a>.</p> 
<pre class="brush: lang-bash brush: bash"># First, create the sources and javadoc jar's.
zip -9 -b sardine-XX/javadoc/* &gt; sardine-XX/javadoc.jar
zip -9 -b sardine-XX/src/* &gt; sardine-XX/sources.jar

# Let Maven create the directory structure and all the metadata files in the local repository.
mvn install:install-file -DpomFile=sardine-pom.xml -Dpackaging=jar -DgeneratePom=true -DcreateChecksum=true -DgroupId=com.googlecode.sardine -Dfile=sardine-XX/sardine.jar -Djavadoc=sardine-XX/javadoc.jar -Dsources=sardine-XX/sources.jar -DartifactId=sardine -Dversion=XX

# Check out remote SVN-based Maven repository. -N means non-recursive.
svn co -N https://sardine.googlecode.com/svn/maven sardine-mvn --username you@gmail.com

# Download the dir you're going to modify (if it exists).
svn update com/googlecode/sardine/sardine

# Copy the new artifacts to the working copy of the repository.
cp -r ~/.m2/repository/com/googlecode/sardine/sardine sardine-mvn/com/googlecode/sardine/sardine
# Rename the metadata file holding versions info.
mv ~/.m2/repository/com/googlecode/sardine/sardine/maven-metadata-local.xml ~/.m2/repository/com/googlecode/sardine/sardine/maven-metadata.xml

# Add everything new and commit.
svn add --force *
svn commit -m "Maven repo: Added version XX"</pre> 
<ul> 
 <li><code>~/.m2/repository/</code> is your local Maven repository. <p>On windows it is usually <code>c:\Documents and Settings\user\.m2\repository\</code>.</p> </li> 
 <li>The <code>pom.xml</code> is there because it contains dependency definitions.</li> 
</ul>
                    </div>
                    ... <a href="pages/programming/java/maven/how-to-add-existing-project-jar-to-maven-repository.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG6409.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/sql/index.cz.html"><h2 class="title">SQL koutek</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-sql-koutek">SQL koutek</h2> 
<p>Jednou z&nbsp;mých oblíbených technologií jsou relační databáze a jazyk SQL. Líbí se mi, jak elegantně se dají některé typy problémů pomocí SQL řešít&nbsp;– zejména grafové úlohy. Například výpočet neuronové sítě v&nbsp;tradičních programovacích jazycích sestává obvykle ze tří vnořených cyklů, v&nbsp;SQL je to cyklus pouze jeden, zbytek vyjádříte v&nbsp;SELECTech. Ale o&nbsp;tom až&nbsp;dále.</p> 
<p>Mojí oblíbenou databází je MySQL 5.0.&nbsp;Schválně uvádím verzi, protože jsem si ji oblíl až na základě možnosti psát tzv. <strong>Stored procedures</strong>.</p> 
<p>V&nbsp;průběhu doby jsem při řešení různých projektů vytvořil užitečné procedury a funkce, které usnadňují vývoj procedur pro MySQL a mohly by se kdekomu&nbsp;hodit.</p> 
<p>Omlouvám se těm, co nehovoří anglicky, ale zbytek SQL sekce bude většinou právě v&nbsp;angličtině.</p> 
<ul> 
 <li><a href="mysql_stored_procedures.html">MySQL Stored Procedures</a></li> 
 <li><a href="../neural_networks_in_sql_stored_procedures/index.html">Implementation of neural network in SQL&nbsp;– perceptron and backpropagation</a></li> 
</ul> 
<p>Krom toho střádám i&nbsp;své touhy, co by se mohlo (a mělo) v&nbsp;MySQL objevit:</p> 
<ul> 
 <li><a href="mysql_wishlist/java_objects_in_stored_procedures.html">Java objects in Stored Procedures (sci-fi)</a></li> 
</ul>
                    </div>
                    ... <a href="pages/programming/sql/index.cz.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0391-PANO.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/web_javascript_ajax_canvas/index.html"><h2 class="title">Web, JavaScript, AJAX, and
Canvas</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-web-javascript-ajax-and-canvas">Web, JavaScript, AJAX, and Canvas</h2> 
<h3 id="toc-javascript-isometric-game-rendering-libraries">JavaScript isometric game rendering libraries</h3> 
<p>I've made up a <a href="javascript-isometric-libraries.html">list of JavaScript libs for isometric rendering</a>.</p> 
<h3 id="toc-webttd-browser-based-transport-tycoon-clone-idea"><a href="web_javascript_ajax_canvas/webttd.html">WebTTD</a>&nbsp;– browser-based Transport Tycoon clone&nbsp;idea.</h3> 
<h3 id="toc-canvas-element-selection-buffer"><code>canvas</code> element selection buffer</h3> 
<p><a href="canvas_element_selection_buffer.texy">English</a>, <a href="canvas_element_selection_buffer.cz.html">česky</a></p>
                    </div>
                    ... <a href="pages/programming/web_javascript_ajax_canvas/index.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC4_0782.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/insolvencni_rejstrik-isir_ws/index.html"><h2 class="title">Webová služba
Insolvenční rejstřík – ISIR WS</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-webova-sluzba-insolvencni-rejstrik-isir-ws">Webová služba Insolvenční rejstřík&nbsp;– ISIR WS</h2> 
<p>1.1.2008&nbsp;spustilo Ministerstvo spravedlnosti na svém serveru <a href="http://justice.cz/">justice.cz</a> <a href="http://portal.justice.cz/ms/ms.aspx?o=1&amp;j=1&amp;k=170&amp;d=209445">webovou službu insolvenčního rejsříku</a> , doplněk k&nbsp;informačnímu systému ISIR. S&nbsp;touto službou jsem měl tu čest pracovat a zde bych se rád podělil o&nbsp;zkušenosti v&nbsp;naději, že na tuto stránku narazí i&nbsp;tvůrce služby, firma&nbsp;CCA.</p> 
<p>//Update 18.7.2008:// Sepsal jsem <a href="nesmysly_v_isir.html">Popis dalších nedomyšleností webové služby Insolvenční rejstřík</a>.</p> 
<p>//Update 25.7.2008:// Mám první funkční prototypy aplikace pro automatickou kontrolu subjektů v&nbsp;insolvenčním rejstříku.</p> 
<p>//Update 8.8.2008:// Přesun projektu: <a href="http://www.pohlidame.cz/">insolvenční rejstřík</a>.</p> 
<p>//Update 2.9.2008:// Betaverze aplikace pro automatickou kontrolu insolvenčního rejstříku.</p> 
<p>//Update 12.9.2008:// Alfaverze webového rozhraní.</p> 
<p>//Update 1.11.2008:// Alfaverze okamžitého upozorňování na události.</p> 
<h3 id="toc-wsdl">WSDL</h3> 
<p>Asi jako každý jsem začal prohlédnutím definice webové služby WSDL:<a href="https://isir.justice.cz:8443/isir_ws/services/IsirPub001?wsdl">https://isir.justice.cz:8443/…s/IsirPub001?wsdl</a>. Už ta vás trošku zatahá za oči, protože hledáte nějaké názvy funkcí, které budete volat, a typů, se kterými budete pracovat, ale zde najdete názvy podobného ražení jako <code>getIsirPub001</code>, <code>ns2:IsirPub001Data</code>, <code>IsirPub001SOAP12port_http</code> a <code>tns:IsirPub001SEI_getIsirPub001Response</code>:</p> 
<pre class="brush: lang-xml brush: xml">&lt;wsdl:service name="IsirPub001"&gt;
  &lt;wsdl:port name="IsirPub001Httpport1" binding="tns:IsirPub001HttpBinding"&gt;
    &lt;http:address location="https://isir.justice.cz:8443/isir_ws/rest/IsirPub001"/&gt;
  &lt;/wsdl:port&gt;
  &lt;wsdl:port name="IsirPub001SOAP12port_http" binding="tns:IsirPub001SOAP12Binding"&gt;
    &lt;soap12:address location="https://isir.justice.cz:8443/isir_ws/services/IsirPub001"/&gt;
  &lt;/wsdl:port&gt;
  &lt;wsdl:port name="IsirPub001SOAP11port_http" binding="tns:IsirPub001SOAP11Binding"&gt;

    &lt;soap:address location="https://isir.justice.cz:8443/isir_ws/services/IsirPub001"/&gt;
  &lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;</pre> 
<p>Nádhera, že? Na první pohled autoři služby ponechali jména prostě taková, jaká jim generátor služby (nástroje z&nbsp;Axis) nabídl. Ale budiž, řeknete si, generátor vytvořil, generátor zpracuje. Ne tak v&nbsp;tomto případě.</p> 
<h3 id="toc-generovani-klienta-sluzby-podle-wsdl">Generování klienta služby podle WSDL</h3> 
<p>Moje oblíbené IDE je NetBeans, vytvořil jsem tedy v&nbsp;NetBeans 6.0.1&nbsp;projekt a v&nbsp;něm se pokusil vygenerovat klienta podle výše zmíněné WSDL definice. Bohužel WSDL pravděpodobně neodpovídá plně standardům, protože už validace WSDL selhává a hlásí, že někde nejsou uvedené atributy <code>address</code> a že vygenerované knihovny klienta služby budou asi nepoužitelné. Což je krásná hláška na začátek, ale pustil jsem se do toho i&nbsp;přesto.</p> 
<p>Knihovny pochopitelně nefungovaly. Vygenerovaný kód je celkem nanic. Nevím, jestli za to může WSDL nebo generátor klienta (dost možná že generátor), koneckonců&nbsp;– nejsem odborník na webové služby. Nicméně poté, co jsem kód přepsal, jak má být, opět klient nefungoval&nbsp;– vyhazoval výjimku <code>java.lang.ClassCastException</code>. Chyba byla ovšem v&nbsp;knihovně SAAJ. NetBeans 6.0.1&nbsp;sice obsahují číselně (nominálně) nejnovější verzi 1.3, ta je ale přes dva roky stará. Je tedy nutné stáhnout nový build SAAJ z&nbsp;adresy <a href="https://saaj.dev.java.net/servlets/ProjectDocumentList?folderID=5117&amp;expandFolder=5117&amp;folderID=5116">https://saaj.dev.java.net/…DocumentList?…</a> , v&nbsp;adresáři NetBeans najít JAR saaj-impl.jar a nahradit jej novým ze staženého&nbsp;JARka.</p> 
<p>Pak už tedy volání webové služby funguje. Jenom podotknu, že v&nbsp;zoufalosti během dvoudenního řešení nejen výše uvedených problémů jsem zkoušel volat webovou službu ISIR také z&nbsp;PHP. Výsledkem bylo&nbsp;toto:</p> 
<pre class="lang-text brush: text">500 Internal Server Error
java.lang.StringIndexOutOfBoundsException: String index out of range: -1
        at java.lang.String.substring(String.java:1444)
        at org.apache.axis2.builder.XFormURLEncodedBuilder.extractParametersFromRequest(XFormURLEncodedBuilder.java:155)
        at org.apache.axis2.builder.XFormURLEncodedBuilder.processDocument(XFormURLEncodedBuilder.java:112)
        at org.apache.axis2.transport.TransportUtils.createDocumentElement(TransportUtils.java:160)
        at org.apache.axis2.transport.TransportUtils.createSOAPMessage(TransportUtils.java:111)
        at org.apache.axis2.transport.http.util.RESTUtil.processXMLRequest(RESTUtil.java:60)
        at org.apache.axis2.transport.http.AxisServlet$RestRequestProcessor.processXMLRequest(AxisServlet.java:788)
        at org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:193)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.0.2)].server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:824)
        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.0.2)].server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:330)
        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.0.2)].server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:830)
        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.0.2)].server.http.AJPRequestHandler.run(AJPRequestHandler.java:224)
        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.0.2)].server.http.AJPRequestHandler.run(AJPRequestHandler.java:133)
        at com.evermind[Oracle Application Server Containers for J2EE 10g (10.1.2.0.2)].util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:192)
        at java.lang.Thread.run(Thread.java:534)</pre> 
<p>Takže s&nbsp;PHP jsem to raději vzdal úplně.</p> 
<h3 id="toc-princip-vyuziti-webove-sluzby">Princip využití webové služby</h3> 
<p>Vezměme si moji situaci. Klient chce zjistit, zda v&nbsp;daném okamžiku je nějaká fyzická osoba vedena jako dlužník či ne. Zdálo by se to velmi jednoduché, kdyby služba ISIR měla nějakou funkci (třeba s&nbsp;výstižným názvem „getIsirPub0012_2“), která by přebírala rodné číslo ve formátu RRMMDD/AAAA, a vracela true/false. Chápu že to je značně zůžená funkčnost, ale jak už jsem psal, je to asi to, k&nbsp;čemu službu využije polovina uživatelů. Další polovina ji využije stejně, ovšem pro&nbsp;IČ.</p> 
<p>Bohužel, to je komfort, o&nbsp;kterém si můžeme nechat zdát. Služba ISIR WS funguje úplně&nbsp;jinak.</p> 
<p>Představte si, že vám Ministerstvo životního prostředí zadá úkol vytvořit webovou službu, která umožní široké veřejnosti zjistit teplotu naměřenou v&nbsp;jakékoliv meteorologiké stanici v&nbsp;ČR. Firma CCA (tvůrce ISIR WS) by to nejspíš udělala tak, že by zpřístupnila záznamy změn teplot oproti předchozímu stavu za celou historii existence služby od jejího spuštění. Takže kdo by chtěl aktuální teplotu v&nbsp;Brně, stáhnul by si v&nbsp;dávkách po tisíci řekněme miliardu záznamů v&nbsp;logu včetně záznamů pro tisíce stanic, které ho vůbec nezajímají, aplikoval by změny od začátku zaznamenávání, a nakonec by odečetl aktuální stav stanice Brno ve vlastní databázi.</p> 
<p>Tak přesně totiž funguje webová služba insolvenčního rejstříku! Nejedná se o&nbsp;nic jiného než o&nbsp;replikaci databáze pomocí zpracování logu změn. Pod záštitou „maximální dostupnosti služby“ služba jenom zpřístupňuje statické záznamy z&nbsp;logu bez jakékoliv další bussines logiky!</p> 
<p>Což by ještě nebylo tak špatné, kdybyste jako programátor klienta věděli, co který úkon znamená. Já se přiznám&nbsp;– nemám právní vzdělání, a proto to nevím. Proto mi polovina záznamů ve výstupu webové služby nedává smysl a nechápu, proč tam jsou. Předveďme si ukázku.</p> 
<p>Když se podíváte na výstup webové služby, evidentně se jedná o&nbsp;zaznamenané operace uživatelů informačního systému insolvenčního rejstříku (ISIR). Pokud tedy nějaký soudce v&nbsp;Praze zakládá spis týkající se nějakého dlužníka, nejprve v&nbsp;systému klikne na tlačítko „Nový spis“. Vyplní jeho značku a stiskne „Vytvořit“. Tím se v&nbsp;logu ISIR vytvoří záznam a do výstupu webové služby přibyde:</p> 
<pre class="lang-text brush: text">ID: 2760
Cas: 23.1.2008 9:11:46
Spis: INS 132/2008 Odd: A  Poradi: 2, Typ: 185 (Vyhláška o zahájení insolvenčního řízení)

Data:
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;tns:udalost ... &gt;
  &lt;idOsobyPuvodce&gt;MSPHAAB&lt;/idOsobyPuvodce&gt;
  &lt;vec&gt;
    &lt;druhStavRizeni&gt;NEVYRIZENA&lt;/druhStavRizeni&gt;
  &lt;/vec&gt;
&lt;/tns:udalost&gt;</pre> 
<p>Tím zatím věc končí a soudce se na nějakou dobu odmlčí. Mezitím soudci a úředníci na ostatních soudech pilně pracují a klikají v&nbsp;informačním systému jako o&nbsp;život, takže vznikne dalších 100&nbsp;záznamů. Zhruba po třech hodinách se pražský soudce opět probere a v&nbsp;informačním systému přejde do sekce „Návrh&nbsp;– přílohy“, čímž nám vznikne tento velice <strong>duchaplný</strong> a <strong>užitečný záznam</strong>:</p> 
<pre class="lang-text brush: text">ID: 2853
Cas: 23.1.2008 11:57:20
Spis: INS 132/2008  Odd: A  Poradi: 3, Typ: 23 (Návrh - přílohy)

Data:
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;tns:udalost ...&gt;
  &lt;idOsobyPuvodce&gt;MSPHAAB&lt;/idOsobyPuvodce&gt;
  &lt;vec&gt;
    &lt;druhStavRizeni&gt;NEVYRIZENA&lt;/druhStavRizeni&gt;
  &lt;/vec&gt;
&lt;/tns:udalost&gt;</pre> 
<p>Po dalších pěti hodinách a další stovce záznamů z&nbsp;jiných soudů se soudce vrátí z&nbsp;oběda a v&nbsp;IS klikne na tlačítko „Nový pokyn insolvenčního soudu“, a tím vzniká další <strong>velmi užitečný záznam</strong>:</p> 
<pre class="brush: lang-xml brush: xml">ID: 2954
Cas: 23.1.2008 16:48:44
Spis: INS 132/2008  Odd: A  Poradi: 4, Typ: 204 (Pokyn insolvenčního soudu)

Data:
&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;
&lt;tns:udalost ...&gt;
  &lt;idOsobyPuvodce&gt;MSPHAAB&lt;/idOsobyPuvodce&gt;
  &lt;vec&gt;
    &lt;druhStavRizeni&gt;NEVYRIZENA&lt;/druhStavRizeni&gt;
  &lt;/vec&gt;
&lt;/tns:udalost&gt;</pre> 
<p>Tím v&nbsp;této dávce tisíce záznamů informace o&nbsp;tomto spise končí a vy musíte stáhnout další tisícovku.</p> 
<p>Služba insolvenčního rejstříku byla spuštěna 1.1.2008.&nbsp;Od té doby do dneška (18.3.2008) log obsahuje CCA. 18&nbsp;000&nbsp;položek. Pokud si tedy v&nbsp;roce 2030&nbsp;založíte firmu a budete chtít o&nbsp;svých klientech zjistit, zda nejsou vedeni jako dlužníci, budete si muset stáhnout odhadem (lineární interpolací) 1&nbsp;500&nbsp;000&nbsp;záznamů a podle nich zreplikovat databázi informačního systému insolvenčního rejstříku!</p> 
<p>Ruku na srdce&nbsp;– nezdá se vám nepřiměřené, aby si _každý_, kdo chce službu jakkoliv využívat, dělal lokální kopii celého logu za celou historii existence systému, poté nastudoval pracovní postupy pracovníků soudů z&nbsp;nepřehledné „dokumentace“ <code>Popis_WS.pdf</code> a na základě těchto znalostí aktualizoval svoji kopii databáze pro každou entitu, která v&nbsp;DB existuje, ačkoliv ho 99,999% z&nbsp;nich nezajímá a nikdy zajímat nebude, ale musí to dělat pro případ, že by náhodou někdy v&nbsp;budoucnu potřeboval s&nbsp;danou entitou pracovat?</p> 
<h3 id="toc-format-prijimanych-dat">Formát přijímaných dat</h3> 
<p>Další krásou, kterou jsem objevil až s&nbsp;tímto projektem, je vkládání XML do XML. Cituji:</p> 
<blockquote> 
 <p>Aby byla webová služba co nejobecnější a přitom odolná proti častým změnám rozhraní, obsahuje samotné volání pouze základní údaje pro identifikaci události, které se akce týká. Samotná přenášená data obsahuje poznámka. Data jsou v&nbsp;poznámce strukturována formou XML dokumentu.</p> 
</blockquote> 
<p>Budiž&nbsp;– uznávám, že generovat nové knihovny klienta webové služby při každé změně struktury dat by nebylo příjemné. Jak často a proč se ale má jejich struktura měnit? Je to proto, že webová služba obsahuje data, která vás nezajímají o&nbsp;subjektech, které vás nezajímají. Pokud by Ministerstvo spravedlnosti bylo natolik soudné, aby požadovalo normálně fungující službu, byl by vstupem pro službu nějaký identifikátor a typ subjektu, a vracela by AKTUÁLNÍ data, která se ho týkají. Myslím, že u&nbsp;takové WS by se nutnost změny WSDL omezila na minimum.</p> 
<h3 id="toc-odezva-sluzby">Odezva služby</h3> 
<p>„Služba je koncipovaná jako veřejná a je zdarma.“ Z&nbsp;toho také plyne, že tvůrci předem neví, kdy a kolik požadavků přijde. Ovšem že vrácení rovného tisíce položek ze STATICKÉ databáze, tedy logu, trvala až půl až <strong>4&nbsp;minuty</strong> !!, a to v&nbsp;době, kdy službu ještě zdaleka nevyužívá tolik klientů, to je opravdu velmi zarážející. Už jsem se setkal se systémy s&nbsp;desítkami milionů záznamů, které ovšem reagují řádově v&nbsp;sekundách zhruba na dva požadavky za sekundu, a to se jedná o&nbsp;fulltextové vyhledávání. Na čem potom provozují webovou službu ISIR? Na vyřazených noteboocích?</p> 
<p>//Update:// Podle odpovědi tvůrců byly prodlevy způsobeny něčím jiným než nedostatečným hardware. Nyní se zdá, že služba již pravidelně odpoví do několika sekund.</p> 
<h3 id="toc-souhrn">Souhrn</h3> 
<p>Takže, když shrnu svoje výtky vůči IRIS WS:</p> 
<ul> 
 <li>WSDL (pravděpodobně) neodpovídá normě, ale to mi momentálně vadí asi nejméně.</li> 
 <li>Názvy portů ve WSDL vůbec nevypovídají o&nbsp;účelu</li> 
 <li>
  <strike>
   Služba je nepochopitelně pomalá
  </strike></li> 
 <li>A&nbsp;co mi vadí nejvíc&nbsp;– celý princip získávání dat z&nbsp;DB. Databáze obvykle slouží k&nbsp;získávání aktuálního stavu entity podle nějakého identifikátoru, ne ke zpřístupnění historie operací se všemi existujícími entitami.</li> 
</ul> 
<h3 id="toc-odpoved-tvurcu-webove-sluzby">Odpověď tvůrců webové služby</h3> 
<p>Na mé námitky vůči kvalitě zpracování služby odpověděla firma CCA Group&nbsp;takto:</p> 
<blockquote> 
 <p>Vámi připomínkovaný způsob fungování WS ISIR byl navržen, odsouhlasen a zpracován na základě požadavků MSp. Víme, že některé subjekty by radši používaly sofistikovanější WS s&nbsp;vlastnostmi, které popisujete. Dle sdělení zadavatele&nbsp;– MSp není takto koncipovaná WS ve shodě s&nbsp;jejich záměry dalšího rozvoje aplikace&nbsp;ISIR.</p> 
</blockquote> 
<p>Jinými slovy, ministerstvo (rozumějte&nbsp;– nejspíše laici, kteří ani netuší, co je webová služba) je spokojeno se stavem, kdy se data vůbec nějak mohou k&nbsp;někomu dostat, čímž splnilo požadavek zákona, myje si ruce a víc jej nezajímá.</p> 
<h3 id="toc-prekladiste-udaju-z-webove-sluzby-insolvencniho-rejstriku">Překladiště údajů z&nbsp;webové služby insolvenčního rejstříku</h3> 
<p>Jak jsem uváděl výše, většina lidí si pod pojmem „Webová služba Insolvenční rejstřík“, která má zveřejňovat údaje o&nbsp;insolvenčních řízeních, představí něco trochu inteligentnějšího než stahování kopie databáze ISIR. Proto jsem se rozhodl takovouto funkčnost zpřístupnit.</p> 
<p>Na adrese <a href="http://isir.dynawest.cz/">http://isir.dynawest.cz/</a> tedy bude <a href="http://isir.dynawest.cz/">klient Webové služby Insolvenční rejtřík ISIR</a>. Spuštění plánuji na konci července&nbsp;2008.</p>
                    </div>
                    ... <a href="pages/programming/insolvencni_rejstrik-isir_ws/index.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG1100.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/navod-spring-aop-zacatky.html"><h2 class="title">Začátky se Spring AOP –
návod</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-zacatky-se-spring-aop-navod">Začátky se Spring AOP&nbsp;– návod</h2> 
<p>Právě jsem úspěšně rozběhal Spring AOP ve stand-alone (newebové) aplikaci, takže si opět postup a poznatky zapíšu na web. Jako vždy si vyhrazuju právo mýlit se, ale snad jsem vše pochopil správně.</p> 
<h3 id="toc-co-je-aop">Co je AOP</h3> 
<p>AOP je zkratka za Aspect Oriented Programming neboli „aspektově orientované programování“.</p> 
<p>AOP zajišťuje ulehčení práce programátora v&nbsp;případech, kdy se při volání metod různých tříd volá vždy stejný nebo podobný kód&nbsp;– typickým příkladem je otevírání a uzavírání transakce, kontrola práv k&nbsp;provedení operace (autorizace), trasování běhu aplikace&nbsp;atd.</p> 
<h3 id="toc-co-je-aspekt">Co je aspekt</h3> 
<p>Aspekt je (společná) vlastnost či spíše potřeba některých metod&nbsp;– například právě potřeba otevřít a uzavřít transakci nebo ověřit&nbsp;práva.</p> 
<h3 id="toc-co-je-spring-aop">Co je Spring AOP</h3> 
<p>Spring AOP je jedna z&nbsp;implementací AOP. Dále existují ještě AOP frameworky <em>JBoss AOP</em> (s&nbsp;tím se dostanu brzy do potyčky :-), AspectJ (ten to všechno začal a Spring AOP jej využívá) a <em>AspectWerkz</em> (nic&nbsp;moc).</p> 
<p>Spring jde svojí obvyklou cestou co nejjednodušší konfigurace a co nejstručnějšího zápisu. Můžete využít buď @Anotace ve stylu AspectJ (<code>@Aspect</code>, <code>@Before</code>, <code>@Pointcut</code> atd.), nebo konfiguraci v&nbsp;XML souboru. Ukázka XML následuje.</p> 
<h3 id="toc-konfigurace-spring-aop-v-xml">Konfigurace Spring AOP v&nbsp;XML</h3> 
<p>Dříve (před verzí Spring 2.0) se konfigurace AOP prováděla poněkud neohrabaně nastavováním Beans (což popisuji v&nbsp;návodu <a href="navod-spring-framework-zacatky.html">Úplné začátky se Spring framework</a>).</p> 
<p>V&nbsp;současnosti se AOP nastavuje pomocí elementů z&nbsp;namespace <code>&lt;aop:*&gt;</code>. Tento jmenný prostor je třeba v&nbsp;XML souboru zmínit, proto se místo DTD použije definice přes <code>xmlns:aop</code>.</p> 
<pre class="brush: lang-xml brush: xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xmlns:aop="http://www.springframework.org/schema/aop"
     xsi:schemaLocation="
     http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
     http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd"
&gt;

  &lt;!-- Před spuštěním metod tříd z balíku "aoptest" zavoláme metodu test() z beany s ID aopTestAdviceBean. --&gt;
  &lt;aop:config&gt;
    &lt;aop:pointcut id="aopTestPointcut" expression="execution(* aoptest.*.*(..))"/&gt;
    &lt;aop:aspect ref="aopTestAdviceBean"&gt;
      &lt;aop:before pointcut-ref="aopTestPointcut" method="test"/&gt;
    &lt;/aop:aspect&gt;
  &lt;/aop:config&gt;

  &lt;!-- Metoda této beany (objektu) se bude volat podle výše uvedeného pravidla. --&gt;
  &lt;bean id="aopTestAdviceBean" class="aoptest.AopTestAdviceBean"&gt;
    &lt;property name="foo" value="foo value"/&gt;
  &lt;/bean&gt;

  &lt;!-- Automatické volání metod funguje jen pro objekty vytvořené Springem. --&gt;
  &lt;bean id="nejakaTrida" class="aoptest.NejakaTrida"&gt;
    &lt;property name="bar" value="bar value"/&gt;
  &lt;/bean&gt;


&lt;/beans&gt;</pre> 
<p>K&nbsp;tomu ještě pár poznámek:</p> 
<ul> 
 <li>Automatické volání metod funguje jen pro objekty vytvořené Springem. Následující tedy <strong>nebude fungovat</strong>:</li> 
</ul> 
<pre class="brush: lang-java brush: java">aoptest.NejakaTrida objekt = new aoptest.NejakaTrida();
objekt.metoda();  // &lt;--- ZDE AOP NEZAFUNGUJE!</pre> 
<ul> 
 <li>Aby Spring zpracovával jiné jmenné prostory nez výchozí, je třeba místo <code>XMLBeanFactory</code> použít „full verzi“, tedy třídu <code>ApplicationContext</code>.</li> 
</ul> 
<p>Celý kód pro rozjetí AOP tedy vypadá takto:</p> 
<pre class="brush: lang-java brush: java">ApplicationContext ac = new ClassPathXmlApplicationContext("properties/SpringBeans.xml");
aoptest.NejakaTrida objekt = (aoptest.NejakaTrida) new aoptest.NejakaTrida();
objekt.metoda();  // &lt;--- zde AOP zavolá napřed metodu aoptest.AopTestAdviceBean::test().</pre> 
<p>A&nbsp;k&nbsp;tomu samozřejmě definice příslušných tříd, myslím, že nemá cenu je zde vypisovat, jsou zcela obyčejné.</p> 
<h3 id="toc-potrebne-knihovny">Potřebné knihovny</h3> 
<p>Použil jsem:</p> 
<ul> 
 <li>Spring 2.5.5</li> 
 <li>AspectJ 1.6.1</li> 
</ul> 
<p>Konkrétně tyto .JAR soubory:</p> 
<ul> 
 <li>Z&nbsp;distribuce Spring: 
  <ul> 
   <li><strong>dist/spring.jar</strong></li> 
   <li><strong>dist/modules/spring-aop.jar</strong></li> 
   <li>dist/weaving/spring-aspects.jar</li> 
   <li>dist/weaving/spring-agent.jar</li> 
   <li><strong>lib/jakarta-commons/commons-logging.jar</strong></li> 
   <li><strong>lib/cglib/cglib-nodep-2.1–3.jar</strong></li> 
  </ul> </li> 
 <li>Z&nbsp;distribuce AspectJ (stažené .jar je instalátor&nbsp;– spusťte a rozbalí&nbsp;se): 
  <ul> 
   <li><strong>lib/aspectjto­ols.jar</strong></li> 
  </ul> </li> 
</ul> 
<p>Tučně zvýrazněné jsou nutné (rozuměj „bez nich mi to nešlo“). U&nbsp;ostatních nevím&nbsp;– je možné, že některé jsou navíc, ale takto mi to funguje a tak neřeším.</p> 
<h3 id="toc-zaver-literatura-zdroje">Závěr, literatura, zdroje</h3> 
<p>Tolik tedy ke Spring AOP. Snad jsem na nic nezapomněl, ale v&nbsp;podstatě je to dost jednoduché.</p> 
<p>Cokoliv dalšího nastudujete z&nbsp;velmi obsáhlého <a href="http://static.springframework.org/spring/docs/2.5.x/reference/">referenčního manuálu Springu</a>, zejména oblasti:</p> 
<ul> 
 <li>Nejprve <a href="http://static.springframework.org/spring/docs/2.5.x/reference/aop.html#aop-aj-configure">Chapter 6.&nbsp;Aspect Oriented Programming with&nbsp;Spring</a></li> 
 <li>Odtud budete možná odbíhat do <a href="http://static.springframework.org/spring/docs/2.5.x/reference/aop-api.html">Chapter 7.&nbsp;Spring AOP&nbsp;APIs</a></li> 
 <li>Namespaces atd. jsou vysvětlené v&nbsp;<a href="http://static.springframework.org/spring/docs/2.5.x/reference/xsd-config.html">Appendix A. XML Schema-based configuration</a>&nbsp;– stačí zběžně prolétnout.</li> 
 <li>A&nbsp;až dojdete k&nbsp;nejběžnějšímu použití AOP, pročtěte si: <a href="http://static.springframework.org/spring/docs/2.5.x/reference/transaction.html">Chapter 9.&nbsp;Transaction management</a></li> 
</ul> 
<h4 id="toc-dalsi-pouzite-ci-pouzitelne-zdroje">Další použité či použitelné zdroje:</h4> 
<ul> 
 <li>IBM: <a href="http://www.ibm.com/developerworks/java/library/j-aopwork15/">AOP@Work: AOP myths and realities</a></li> 
 <li>Dustin's: <a href="http://marxsoftware.blogspot.com/2008/01/spring-and-jmx-beanfactory-versus.html">Spring and JMX: BeanFactory Versus ApplicationContext</a></li> 
</ul>
                    </div>
                    ... <a href="pages/programming/java/navod-spring-aop-zacatky.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0174.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/texy_java_implementation.html"><h2 class="title">JTexy! – Texy! Java
Implementation project</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-jtexy-texy-java-implementation-project">JTexy!&nbsp;– Texy! Java Implementation project</h2> 
<p>I&nbsp;am about to port <a href="http://www.html.info/">Texy!</a> to Java.</p> 
<p>But that's&nbsp;a long-term plan, therefore this page is here as a placeholder.</p> 
<p>Texy! author, David Grudl, created a test suite of several Texy! formatted files, which can be used to validate the implementation.</p> 
<p>Available at <a href="http://download.texy.info/refs.zip">http://download.texy.info/refs.zip</a> .</p> 
<h3 id="toc-notes">Notes…</h3> 
<h4 id="toc-oh-no-jdk6-s-regular-expressions-do-not-support-recursion">Oh no&nbsp;– JDK6's&nbsp;regular expressions do not support recursion&nbsp;:(</h4> 
<p>I&nbsp;am looking for a Java regexp lib with support for recursion, like: <code>&lt;a+(?0)&gt;</code>. See <a href="http://www.php.net/manual/en/regexp.reference.recursive.php">http://www.php.net/…ecursive.php</a>. I&nbsp;need it for this expression:</p> 
<pre class="lang-regex brush: regex">(?:mUi)^/--++ *+(.*)(?: *(?&lt;= |^)\\.((?:\\([^)\\n]+\\)|\\[[^\\]\\n]+\\]|\\{[^}\\n]+\\}|&lt;&gt;|&gt;|=|&lt;){1,4}?))?$((?:\\n.*+)*)(?:\\n(?0)|\\n\\\\--.*$|\\z)</pre> 
<p>JDK does not support it, ORO does neither, nor Stevesoft Pat&nbsp;does.</p> 
<h4 id="toc-dev-java-net-is-sooooo-slooow"><code>dev.java.net</code> is sooooo slooow…</h4> 
<p>Gone to Google Code: <a href="http://code.google.com/p/jtexy/">http://code.google.com/p/jtexy/</a></p> 
<h4 id="toc-what-s-the-relation-between-oro-and-jakarta-regexp">What's&nbsp;the relation between ORO and Jakarta Regexp?</h4> 
<p>ORO developement stalled in 2004? Is Jakarta Regexp a successor? Is Jakarta Regexp PERL compatible? ORO claims so, Regexp does&nbsp;not.</p> 
<h4 id="toc-parsing-core-texyparser-php-152">Parsing core: TexyParser.php @ 152</h4> 
<p><a href="http://php.net/manual/en/function.preg-match-all.php">PHP's&nbsp;preg_mat­ch_all</a></p> 
<pre class="lang-php brush: php">// parse loop
$matches = array();
$priority = 0;
foreach ($this-&gt;patterns as $name =&gt; $pattern)
{
        preg_match_all(
                $pattern['pattern'],
                $text,
                $ms,
                PREG_OFFSET_CAPTURE | PREG_SET_ORDER
        );

        foreach ($ms as $m) {
                $offset = $m[0][1];
                foreach ($m as $k =&gt; $v) $m[$k] = $v[0];
                $matches[] = array($offset, $name, $m, $priority);
        }
        $priority++;
}</pre> 
<p><code>PREG_OFFSET_CAPTURE</code>&nbsp;– makes the returned multidimensional array even more multidimensional&nbsp;– stores the string at [0] and the offset at [1] (well, PHP is really that shitty).</p> 
<p><code>PREG_SET_ORDER</code>&nbsp;– the matches are ordered so that sub-group is next to it's&nbsp;parent group or it's&nbsp;sibling (depth-first instead of breadth-first).</p> 
<p><code>|...|U</code> makes all quantifiers ungreedy:</p> 
<blockquote> 
 <p>You could also make ALL the quantifiers in a regular expression „ungreedy“ by using the U&nbsp;modifier.&nbsp;<a href="http://www.skdevelopment.com/php-regular-expressions.php">http://www.skdevelopment.com/…ressions.php</a></p> 
</blockquote> 
<h4 id="toc-aaaaaaaaaa"><strong>AAAAaaaaaa!</strong></h4> 
<p>No Java library supports global ungreediness! :-((<br> * <a href="http://stackoverflow.com/questions/1552198/java-regexp-ungreedy-flag">StackOverflow post:</a><br> * <a href="http://forums.sun.com/thread.jspa?threadID=730126">Java forums post:</a><br> * <a href="http://forums.sun.com/thread.jspa?messageID=10836887&amp;#10836887">Java forums archive:</a><br> * Ales Novak&nbsp;– ales A&nbsp;netbeans.com<br> * java.util.regex JavaDoc: <a href="http://java.sun.com/javase/7/docs/api/java/util/regex/Pattern.html">http://java.sun.com/…Pattern.html</a><br> * java.util.regex tester:&nbsp;<a href="http://www.regexplanet.com/simple/index.html">http://www.regexplanet.com/…e/index.html</a></p> 
<h4 id="toc-promising-clues">Promising clues:</h4> 
<p>* OpenJDK should support LAZY<br> * There's&nbsp;a PHP port to Java: <a href="http://www.java2s.com/Open-Source/Java-Document/EJB-Server-resin-3.1.5/quercus/com/caucho/quercus/lib/regexp/JavaRegexpModule.java.java-doc.htm">http://www.java2s.com/…java-doc.htm</a><br> * I&nbsp;could hack the JDK code: <a href="http://hg.openjdk.java.net/jdk7/2d/jdk/file/3b6d7e15ccd9/src/share/classes/java/util/regex/Pattern.java">http://hg.openjdk.java.net/…Pattern.java</a><br> * <a href="http://hg.openjdk.java.net/jdk7/2d/jdk/file/3b6d7e15ccd9/src/share/classes/java/util/regex/Pattern.java">http://hg.openjdk.java.net/…Pattern.java</a><br> * 2721&nbsp;private void addFlag(), 2760&nbsp;private void subFlag()</p> 
<h4 id="toc-preg-match-all"><code>preg_match_all()</code>:</h4> 
<p>Is this the same as multiple calls to <code>preg_match()</code>?<br> → <code>preg_match()</code> returns the number of times pattern matches. That will be either 0&nbsp;times (no match) or 1&nbsp;time because <code>preg_match()</code> will stop searching after the first match. <code>preg_match_all()</code> on the contrary will continue until it reaches the end of subject.</p> 
<p>Is there similar in Java, or do I&nbsp;have to iterate?</p> 
<h4 id="toc-need-to-re-design">Need to re-design…</h4> 
<p>Original design is, despite of author's&nbsp;credits,… not perfect.<br> * The way modules are registered<br> * and whole callback&nbsp;system</p> 
<h4 id="toc-questions">Questions</h4> 
<p><code>RegExp.Patterns.php</code>&nbsp;– slash hell&nbsp;– do the slashes belong to RE or to&nbsp;PHP?</p> 
<p>protect()&nbsp;– will I&nbsp;preserve it? <em>Yes.</em></p> 
<p>Is dom4j or jDOM enough for #JTexy? <em>Yet seems&nbsp;so.</em></p> 
<p>modifier.decorate( elmRet ) dosn't need texy reference&nbsp;– it should keep it from it's&nbsp;creation.</p> 
<p>Why Texy doesn't keep <code>$handler</code>, <code>$pattern</code>, <code>$name</code> together in a <code>class</code>?&nbsp;<code>function registerLinePattern($handler, $pattern, $name)</code></p> 
<p>WTF, <code>list(, $mParam, $mMod, $mContent) = $matches;</code> everywhere? Again, why not put it in a <code>class</code>?</p> 
<p><code>$pattern . 'Am', // anchored &amp; multiline</code> → #JTexy: Is it the same as prepended <code>^</code>&nbsp;?</p> 
<p>TexyParser.php @ 169: <code>$priority++;</code>&nbsp;– later patterns have higher priority? <em>No, the other&nbsp;way.</em></p> 
<p>What is <code>TexyLineParser.again</code> good for? Never set to <code>true</code>?</p> 
<h3 id="toc-texy-refactoring">Texy Refactoring</h3> 
<blockquote> 
 <p>Zdravím,</p> 
 <p>mám pár návrhů na mírný refactoring parseru:</p> 
 <p><strong>1) Zavést třídu pro patterny; handlery uložit k&nbsp;patternům rovnou jako referenci funkce.</strong></p> 
 <pre class="lang-php brush: php">public class RegexpInfo {

        public String name;
        public String perlRegexp;
        public String regexp;
        public String flags;
        public String mode;
        public String htmlElement;

        // Handler of this pattern - a "callback".
        public PatternHandler handler;

        public enum Type { LINE, BLOCK };
        public Type type = Type.LINE;
}</pre> 
 <p><strong>2) V&nbsp;parseru: Výsledky <code>preg_match_all()</code> převést na pole objektů, místo pole polí (… polí polí, jak je zvykem v&nbsp;PHP).</strong></p> 
 <pre class="lang-php brush: php">class ParserMatchInfo implements Comparable&lt;ParserMatchInfo&gt;
{
        public final RegexpInfo pattern;
        public final List&lt;MatchWithOffset&gt; groups;
        public final int offset;
        public final int priority;
}</pre> 
 <p>Taková třída je taky přirozeným místem pro funkci <code>cmp()</code>.</p> 
 <p><strong>3) Při vytváření objektu s&nbsp;informacemi o&nbsp;matchnutí rovnou uložit referenci na použitý patten, místo jeho jména.</strong><br> Zaprvé se tak ušetří jeden lookup, zadruhé to zpřehlední&nbsp;kód.</p> 
 <p><strong>4) V&nbsp;názvech proměnných zavést pojem <code>group</code> pro skupiny matchnutí reg. výrazu. „Match“ ponechat pro celý match.</strong><br> Aneb:</p> 
 <pre class="lang-php brush: php">preg_match_all( $pattern['pattern'],  $text,  $ms,  PREG_SET_ORDER );
$matches[0];    // --&gt; First match
$matches[0][0]; // --&gt; Group - matched text of the whole first match.
$matches[0][1]; // --&gt; First sub-group of the first match.</pre> 
 <p>Tak nebude nutné pojmenovávat proměnné $ms, $matches, $m, $mMatches,&nbsp;…</p> 
 <p>**5) Přesunout TexyParagraphMo­dule.process() do TexyBlockParser</p> 
 <p>**6) Zavést třídu ParserEvent, dědit od ní a tyto používat pro model událostí.</p> 
 <hr> 
 <p>Jsou to všechno interní věci, takže to nikoho moc netrápí, ale když už je to ten opensource a někdo by to mohl chtít časem hackovat…&nbsp;;-)</p> 
 <p>Ondra</p> 
 <p>PS: Kódy jsou v&nbsp;Javě; nápady na refaktorizaci totiž pocházejí ze vznikajícího&nbsp;JTexy.</p> 
</blockquote> 
<h3 id="toc-sun-feature-request">Sun feature request</h3> 
<h4 id="toc-synopsis">Synopsis</h4> 
<p>Regex: Support for UNGREEDY or (?U) flag</p> 
<h4 id="toc-description">Description</h4> 
<p>Perl regular expressions have „/…/U“ and „(?U)“. Many of text processing tools based on regexp use this extensively (e.g.&nbsp;Texy).</p> 
<p>These tools are done in a way that makes quite hard to add the ungreedy (reluctant) mode, using <code>.*?</code>, to all closures&nbsp;– they have many regular expressions (few dozens to hundreds), and many of them change with each release.</p> 
<h4 id="toc-justification">Justification</h4> 
<ol> 
 <li>This would make porting such text tools easier to port to Java, and thus would contribute to&nbsp;spread</li> 
 <li>None of other Java regexp libs (including ORO and Jakarta Regexp) has support for this feature.</li> 
 <li>I&nbsp;believe it wouldn't be hard to implement since there already is support for in-place reluctant closures. Checking for a flag when processing a closure shouldn't be complicated.</li> 
</ol> 
<h4 id="toc-expected-behavior">Expected Behavior:</h4> 
<p>Regex: „.*foo“ with UNGREEDY flag or „(?U).*foo“ String: „AAAfooBBBfoo“</p> 
<p>Desired result:<br> group(1): AAAfoo<br> group(2):&nbsp;BBBfoo</p> 
<h4 id="toc-actual-behavior">Actual Behavior:</h4> 
<p>Current result:<br> group(1): AAAfooBBBfoo</p> 
<h4 id="toc-source-code-for-an-executable-test-case">Source code for an executable test case:</h4> 
<p>String inputStr = „AAAfooBBBfoo“; String patternStr = „.*foo“;</p> 
<p>Pattern pattern = Pattern.compi­le(patternStr); Matcher matcher = pattern.matcher(in­putStr);</p> 
<p>… etc.</p> 
<h4 id="toc-workaround">Workaround</h4> 
<p>Well, changing all closures to be reluctant. <em>sigh</em></p> 
<h4 id="toc-user-info">User Info</h4> 
<p><a href="mailto:ozizka@redhat.com">ozizka@
  <!-- -->redhat.com</a></p> 
<h3 id="toc-java-implementace-prekladace-texy">Java implementace překladače Texy!</h3> 
<p>Texy je bezesporu jeden z&nbsp;pokladů českého opensource. Je škoda, že je zatím jen pro&nbsp;PHP.</p> 
<blockquote>
 Zdravím, 
 <p>nechtěl by někdo čirou náhodou implementovat překladač Texy v&nbsp;Javě?</p> 
 <p><a href="http://www.texy.info">www.texy.info</a></p> 
 <p>Mohlo by to být dobré téma projektu / bakalářky… Formální specifikace není, jen podle popisu syntaxe a ukázek použití…</p> 
 <p>Java komunita by vás jistě oslavovala :-)</p> Ondra
</blockquote> 
<hr> 
<blockquote> 
 <p>Autor Texy David Grudl sestavil sadu testovacích souborů, na kterých lze ověřit implementaci překladače. K&nbsp;dispozici na&nbsp;<a href="http://download.texy.info/refs.zip">http://download.texy.info/refs.zip</a></p> 
 <p>Algou a omegou původní PHP imiplementace jsou PCRE. Knihovna pro Javu, která zvládá PCRE podle Perl 5, je na <a href="http://jakarta.apache.org/oro/">http://jakarta.apache.org/oro/</a>&nbsp;.</p> 
 <p>Ondra Žižka</p> 
</blockquote>
                    </div>
                    ... <a href="pages/programming/java/texy_java_implementation.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0013.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/sql/index.html"><h2 class="title">SQL corner</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-sql-corner">SQL corner</h2> 
<p>One of my favorite technologies are relational databases and the SQL language. I&nbsp;like how elleganant a solution of certain programming tasks can be using SQL&nbsp;– mainly graph computation. E.g., computation of neural networks in common procedural programming languages like C# and Java involves three nested loops; in SQL, it's&nbsp;only one loop, and the other program logic is expressed using SELECTs with JOINs. More explanation comes&nbsp;later.</p> 
<p>My favorite database system is MySQL 5.0.&nbsp;I&nbsp;intenti­onally mention the version, because it became my favourite when it allowed to write <strong>Stored Procedures</strong>.</p> 
<p>Through the time I&nbsp;created some handy general-purpose procedures and functions, which ease the developement of other procedures for&nbsp;MySQL.</p> 
<h3 id="toc-various-sql-implementations">Various SQL Implementations</h3> 
<p>Here I&nbsp;publish some results of my efforts in SQL:</p> 
<ul> 
 <li><a href="mysql_stored_procedures.html">MySQL Stored Procedures</a></li> 
 <li><a href="../neural_networks_in_sql_stored_procedures/index.html">SQL Implementation of Neural Networks&nbsp;– Perceptron and Backpropagation</a></li> 
 <li><a href="../transport_schedule_search/index.html">Transport schedule search SQL implementation</a></li> 
</ul> 
<h3 id="toc-mysql-wishlist-feature-requests">MySQL Wishlist&nbsp;– feature requests</h3> 
<p>Besides that, from time to time, I&nbsp;also write down what do I&nbsp;miss in MySQL. That's&nbsp;quite a long list, but the most important features&nbsp;are:</p> 
<ul> 
 <li>Passing of a result set between stored procedures</li> 
 <li><a href="mysql_wishlist/result_set_in_variable.html">Variables should be able to keep a result set</a></li> 
 <li><a href="mysql_wishlist/java_objects_in_stored_procedures.html">Java objects in Stored Procedures (sci-fi)</a></li> 
 <li><a href="mysql_wishlist/alter_table_rename_overwrite.html"><code>ALTER TABLE ... RENAME [**OVERWRITE**] TO</code></a></li> 
 <li><a href="mysql_wishlist/stored_procedure_call_stack_in_information_schema.html">Stored Procedure call stack in INFORMATION_SCHEMA</a></li> 
 <li><code>sprintf()</code> equivalent in SQL (or rather take Java's <code>String::format()</code> as an inspiration)</li> 
</ul>
                    </div>
                    ... <a href="pages/programming/sql/index.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/IMAG1100.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/insolvencni_rejstrik-isir_ws/isir_typy_akci.html"><h2 class="title">Insolvenční
rejstřík – typy akcí webové služby ISIR</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-insolvencni-rejstrik-typy-akci-webove-sluzby-isir">Insolvenční rejstřík&nbsp;– typy akcí webové služby ISIR</h2> 
<p><a href="http://www.pohlidame.cz">Insolvenční rejstřík</a> za vás pohlídá server Pohlídáme.cz.</p> 
<p><a href="index.html">Zpět na kritiku webové služby ISIR</a></p> 
<table> 
 <thead> 
  <tr> 
   <th>číslo typu</th> 
   <th>typ akce</th> 
  </tr> 
 </thead> 
 <tbody> 
  <tr> 
   <td>1</td> 
   <td>Změna osoby</td> 
  </tr> 
  <tr> 
   <td>2</td> 
   <td>Změna adresy osoby</td> 
  </tr> 
  <tr> 
   <td>4</td> 
   <td>Změna v&nbsp;číselníku událostí</td> 
  </tr> 
  <tr> 
   <td>5</td> 
   <td>Insolvenční návrh</td> 
  </tr> 
  <tr> 
   <td>6</td> 
   <td>Insolvenční návrh spojený s&nbsp;návrhem na povolení oddlužení</td> 
  </tr> 
  <tr> 
   <td>8</td> 
   <td>Návrh</td> 
  </tr> 
  <tr> 
   <td>9</td> 
   <td>Návrh na předběžné opatření</td> 
  </tr> 
  <tr> 
   <td>10</td> 
   <td>Návrh na moratorium</td> 
  </tr> 
  <tr> 
   <td>18</td> 
   <td>Návrh na povolení oddlužení</td> 
  </tr> 
  <tr> 
   <td>21</td> 
   <td>Návrh&nbsp;– zpětvzetí</td> 
  </tr> 
  <tr> 
   <td>22</td> 
   <td>Návrh&nbsp;– doplnění návrhu</td> 
  </tr> 
  <tr> 
   <td>23</td> 
   <td>Návrh&nbsp;– přílohy</td> 
  </tr> 
  <tr> 
   <td>24</td> 
   <td>Námitky</td> 
  </tr> 
  <tr> 
   <td>27</td> 
   <td>Žaloba</td> 
  </tr> 
  <tr> 
   <td>28</td> 
   <td>Sdělení</td> 
  </tr> 
  <tr> 
   <td>29</td> 
   <td>Sdělení dlužníka</td> 
  </tr> 
  <tr> 
   <td>30</td> 
   <td>Sdělení věřitele</td> 
  </tr> 
  <tr> 
   <td>31</td> 
   <td>Sdělení známého věřitele o&nbsp;pohledávce</td> 
  </tr> 
  <tr> 
   <td>32</td> 
   <td>Sdělení finančního úřadu</td> 
  </tr> 
  <tr> 
   <td>33</td> 
   <td>Sdělení banky</td> 
  </tr> 
  <tr> 
   <td>34</td> 
   <td>Sdělení živnostenského úřadu</td> 
  </tr> 
  <tr> 
   <td>35</td> 
   <td>Sdělení Ministerstva vnitra (auta)</td> 
  </tr> 
  <tr> 
   <td>36</td> 
   <td>Sdělení Střediska cenných papírů</td> 
  </tr> 
  <tr> 
   <td>37</td> 
   <td>Sdělení Katastru nemovitostí</td> 
  </tr> 
  <tr> 
   <td>39</td> 
   <td>Sdělení správce o&nbsp;plnění oddlužení</td> 
  </tr> 
  <tr> 
   <td>41</td> 
   <td>Vyjádření</td> 
  </tr> 
  <tr> 
   <td>42</td> 
   <td>Vyjádření dlužníka</td> 
  </tr> 
  <tr> 
   <td>42</td> 
   <td>Vyjádření dlužníka k&nbsp;návrhu</td> 
  </tr> 
  <tr> 
   <td>43</td> 
   <td>Vyjádření navrhovatele</td> 
  </tr> 
  <tr> 
   <td>44</td> 
   <td>Dotaz na stav řízení</td> 
  </tr> 
  <tr> 
   <td>46</td> 
   <td>Stížnost dlužníka</td> 
  </tr> 
  <tr> 
   <td>48</td> 
   <td>Zpráva</td> 
  </tr> 
  <tr> 
   <td>49</td> 
   <td>Zpráva o&nbsp;hospodářské situaci dlužníka</td> 
  </tr> 
  <tr> 
   <td>54</td> 
   <td>Znalecký posudek</td> 
  </tr> 
  <tr> 
   <td>55</td> 
   <td>Plná moc</td> 
  </tr> 
  <tr> 
   <td>56</td> 
   <td>Výpis</td> 
  </tr> 
  <tr> 
   <td>58</td> 
   <td>Výpis z&nbsp;obchodního rejstříku</td> 
  </tr> 
  <tr> 
   <td>61</td> 
   <td>Jiné podání</td> 
  </tr> 
  <tr> 
   <td>62</td> 
   <td>Hlasovací lístek</td> 
  </tr> 
  <tr> 
   <td>63</td> 
   <td>Přihláška pohledávky</td> 
  </tr> 
  <tr> 
   <td>64</td> 
   <td>Seznam přihlášených pohledávek</td> 
  </tr> 
  <tr> 
   <td>65</td> 
   <td>Seznam přihlášených pohledávek&nbsp;– výpis</td> 
  </tr> 
  <tr> 
   <td>66</td> 
   <td>Usnesení</td> 
  </tr> 
  <tr> 
   <td>67</td> 
   <td>Usnesení o&nbsp;vyhlášení moratoria</td> 
  </tr> 
  <tr> 
   <td>68</td> 
   <td>Usnesení o&nbsp;odmítnutí návrhu na moratorium</td> 
  </tr> 
  <tr> 
   <td>72</td> 
   <td>Usnesení o&nbsp;odmítnutí insolvenčního návrhu</td> 
  </tr> 
  <tr> 
   <td>73</td> 
   <td>Usnesení o&nbsp;zastavení řízení pro zpětvzetí insolvenčního&nbsp;ná­vrhu</td> 
  </tr> 
  <tr> 
   <td>75</td> 
   <td>Usnesení o&nbsp;úpadku</td> 
  </tr> 
  <tr> 
   <td>76</td> 
   <td>Usnesení o&nbsp;úpadku spojené s&nbsp;prohlášením konkursu</td> 
  </tr> 
  <tr> 
   <td>78</td> 
   <td>Usnesení o&nbsp;úpadku spojené s&nbsp;povolením oddlužení</td> 
  </tr> 
  <tr> 
   <td>81</td> 
   <td>Usnesení o&nbsp;zastavení řízení pro nedostatek podmínky&nbsp;řízení</td> 
  </tr> 
  <tr> 
   <td>82</td> 
   <td>Usnesení o&nbsp;zamítnutí insolvenčního návrhu</td> 
  </tr> 
  <tr> 
   <td>83</td> 
   <td>Usnesení o&nbsp;zamítnutí insolvenčního návrhu pro nedostatek majetku dlužníka</td> 
  </tr> 
  <tr> 
   <td>85</td> 
   <td>Usnesení o&nbsp;vydání předběžného opatření</td> 
  </tr> 
  <tr> 
   <td>87</td> 
   <td>Usnesení o&nbsp;zastavení řízení pro nezaplacení zálohy na náklady&nbsp;řízení</td> 
  </tr> 
  <tr> 
   <td>88</td> 
   <td>Usnesení o&nbsp;ustanovení předběžného správce</td> 
  </tr> 
  <tr> 
   <td>89</td> 
   <td>Usnesení o&nbsp;záloze na náklady předběžného správce</td> 
  </tr> 
  <tr> 
   <td>94</td> 
   <td>Usnesení o&nbsp;prohlášení konkursu</td> 
  </tr> 
  <tr> 
   <td>95</td> 
   <td>Usnesení o&nbsp;zrušení konkursu</td> 
  </tr> 
  <tr> 
   <td>97</td> 
   <td>Usnesení o&nbsp;nepatrném konkursu</td> 
  </tr> 
  <tr> 
   <td>98</td> 
   <td>Usnesení o&nbsp;zrušení rozhodnutí o&nbsp;nepatrném konkursu</td> 
  </tr> 
  <tr> 
   <td>103</td> 
   <td>Usnesení o&nbsp;zastavení řízení o&nbsp;žalobě</td> 
  </tr> 
  <tr> 
   <td>105</td> 
   <td>Usnesení o&nbsp;ustanovení správce</td> 
  </tr> 
  <tr> 
   <td>106</td> 
   <td>Usnesení o&nbsp;potvrzení správce zvoleného schůzí věřitelů</td> 
  </tr> 
  <tr> 
   <td>108</td> 
   <td>Usnesení o&nbsp;odvolání správce z&nbsp;funkce</td> 
  </tr> 
  <tr> 
   <td>110</td> 
   <td>Usnesení o&nbsp;zproštění funkce správce po skončení řízení</td> 
  </tr> 
  <tr> 
   <td>115</td> 
   <td>Usnesení o&nbsp;potvrzení volby členů a náhradníků věřitelského&nbsp;výboru</td> 
  </tr> 
  <tr> 
   <td>116</td> 
   <td>Usnesení o&nbsp;jmenování prozatímního věřitelského výboru</td> 
  </tr> 
  <tr> 
   <td>117</td> 
   <td>Usnesení o&nbsp;jmenování členů a náhradníků věřitelského&nbsp;výboru</td> 
  </tr> 
  <tr> 
   <td>122</td> 
   <td>Usnesení o&nbsp;uložení pořádkové pokuty</td> 
  </tr> 
  <tr> 
   <td>123</td> 
   <td>Usnesení o&nbsp;předvolání k&nbsp;výslechu</td> 
  </tr> 
  <tr> 
   <td>124</td> 
   <td>Usnesení o&nbsp;odmítnutí přihlášky</td> 
  </tr> 
  <tr> 
   <td>126</td> 
   <td>Usnesení o&nbsp;vzetí na vědomí zpětvzetí přihlášky</td> 
  </tr> 
  <tr> 
   <td>128</td> 
   <td>Usnesení o&nbsp;ukončení účasti věřitele v&nbsp;insolvenčním&nbsp;ří­zení</td> 
  </tr> 
  <tr> 
   <td>139</td> 
   <td>Usnesení o&nbsp;pokračování v&nbsp;přerušeném řízení</td> 
  </tr> 
  <tr> 
   <td>141</td> 
   <td>Usnesení o&nbsp;schválení dohody o&nbsp;vypořádání SJM</td> 
  </tr> 
  <tr> 
   <td>145</td> 
   <td>Usnesení o&nbsp;prodloužení lhůty ke splnění povinností</td> 
  </tr> 
  <tr> 
   <td>149</td> 
   <td>Usnesení o&nbsp;konečné zprávě</td> 
  </tr> 
  <tr> 
   <td>151</td> 
   <td>Usnesení o&nbsp;omezení nakládat s&nbsp;majetkovou podstatou</td> 
  </tr> 
  <tr> 
   <td>166</td> 
   <td>Usnesení o&nbsp;zastavení řízení dle § 427</td> 
  </tr> 
  <tr> 
   <td>167</td> 
   <td>Usnesení o&nbsp;odmítnutí návrhu na povolení oddlužení pro&nbsp;vady</td> 
  </tr> 
  <tr> 
   <td>168</td> 
   <td>Usnesení o&nbsp;odmítnutí návrhu na povolení oddlužení pro opožděnost nebo neoprávněnost</td> 
  </tr> 
  <tr> 
   <td>171</td> 
   <td>Usnesení o&nbsp;zamítnutí návrhu na povolení oddlužení</td> 
  </tr> 
  <tr> 
   <td>172</td> 
   <td>Usnesení o&nbsp;povolení oddlužení</td> 
  </tr> 
  <tr> 
   <td>173</td> 
   <td>Usnesení o&nbsp;způsobu oddlužení dle § 402&nbsp;odst. 4</td> 
  </tr> 
  <tr> 
   <td>174</td> 
   <td>Usnesení o&nbsp;schválení oddlužení zpeněžením majetkové podstaty</td> 
  </tr> 
  <tr> 
   <td>175</td> 
   <td>Usnesení o&nbsp;schválení oddlužení plněním splátkového kalendáře</td> 
  </tr> 
  <tr> 
   <td>176</td> 
   <td>Usnesení o&nbsp;neschválení oddlužení</td> 
  </tr> 
  <tr> 
   <td>181</td> 
   <td>Usnesení o&nbsp;zrušení schváleného oddlužení</td> 
  </tr> 
  <tr> 
   <td>182</td> 
   <td>Dotaz</td> 
  </tr> 
  <tr> 
   <td>184</td> 
   <td>Vyhláška</td> 
  </tr> 
  <tr> 
   <td>185</td> 
   <td>Vyhláška o&nbsp;zahájení insolvenčního řízení</td> 
  </tr> 
  <tr> 
   <td>186</td> 
   <td>Vyhláška o&nbsp;svolání schůze věřitelů</td> 
  </tr> 
  <tr> 
   <td>187</td> 
   <td>Vyhláška o&nbsp;svolání přezkumného jednání</td> 
  </tr> 
  <tr> 
   <td>188</td> 
   <td>Vyhláška o&nbsp;konečné zprávě</td> 
  </tr> 
  <tr> 
   <td>189</td> 
   <td>Výzva</td> 
  </tr> 
  <tr> 
   <td>190</td> 
   <td>Výzva na zálohu na náklady řízení</td> 
  </tr> 
  <tr> 
   <td>191</td> 
   <td>Výzva věřitelům k&nbsp;podávání přihlášek pohledávek</td> 
  </tr> 
  <tr> 
   <td>192</td> 
   <td>Výzva na doplnění příloh insolvenčního návrhu</td> 
  </tr> 
  <tr> 
   <td>193</td> 
   <td>Výzva na předložení seznamů k&nbsp;insolvenčnímu návrhu</td> 
  </tr> 
  <tr> 
   <td>194</td> 
   <td>Výzva dlužníkovi k&nbsp;vyjádření se k&nbsp;insolvenčnímu návrhu</td> 
  </tr> 
  <tr> 
   <td>195</td> 
   <td>Výzva na správce</td> 
  </tr> 
  <tr> 
   <td>199</td> 
   <td>Výzva k&nbsp;opravě nebo doplnění návrhu na povolení oddlužení</td> 
  </tr> 
  <tr> 
   <td>200</td> 
   <td>Výzva na zprávu správce o&nbsp;plnění oddlužení</td> 
  </tr> 
  <tr> 
   <td>202</td> 
   <td>Výzva k&nbsp;opravě nebo doplnění návrhu</td> 
  </tr> 
  <tr> 
   <td>204</td> 
   <td>Pokyn insolvenčního soudu</td> 
  </tr> 
  <tr> 
   <td>205</td> 
   <td>Souhlas</td> 
  </tr> 
  <tr> 
   <td>210</td> 
   <td>Vyrozumění</td> 
  </tr> 
  <tr> 
   <td>212</td> 
   <td>Protokol</td> 
  </tr> 
  <tr> 
   <td>214</td> 
   <td>Protokol ze schůze věřitelů</td> 
  </tr> 
  <tr> 
   <td>215</td> 
   <td>Protokol o&nbsp;jednání</td> 
  </tr> 
  <tr> 
   <td>219</td> 
   <td>Předkládací zpráva</td> 
  </tr> 
  <tr> 
   <td>220</td> 
   <td>Svolání</td> 
  </tr> 
  <tr> 
   <td>222</td> 
   <td>Nařízení jednání</td> 
  </tr> 
  <tr> 
   <td>223</td> 
   <td>Úřední záznam</td> 
  </tr> 
  <tr> 
   <td>224</td> 
   <td>Záznam o&nbsp;nahlédnutí do spisu</td> 
  </tr> 
  <tr> 
   <td>226</td> 
   <td>Konečná zpráva</td> 
  </tr> 
  <tr> 
   <td>227</td> 
   <td>Opatření</td> 
  </tr> 
  <tr> 
   <td>228</td> 
   <td>Opatření o&nbsp;určení osoby správce</td> 
  </tr> 
  <tr> 
   <td>230</td> 
   <td>Odvolání</td> 
  </tr> 
  <tr> 
   <td>231</td> 
   <td>Odvolání&nbsp;– doplnění</td> 
  </tr> 
  <tr> 
   <td>232</td> 
   <td>Odvolání&nbsp;– zpětvzetí odvolání</td> 
  </tr> 
  <tr> 
   <td>233</td> 
   <td>Vrácení spisu</td> 
  </tr> 
  <tr> 
   <td>234</td> 
   <td>Zapůjčení spisu</td> 
  </tr> 
  <tr> 
   <td>236</td> 
   <td>Záznam o&nbsp;nahlížení do spisu</td> 
  </tr> 
  <tr> 
   <td>237</td> 
   <td>Vrácení spisu soudu I. stupně</td> 
  </tr> 
  <tr> 
   <td>238</td> 
   <td>Mylný zápis</td> 
  </tr> 
  <tr> 
   <td>239</td> 
   <td>Jiné</td> 
  </tr> 
  <tr> 
   <td>241</td> 
   <td>Výzva</td> 
  </tr> 
  <tr> 
   <td>242</td> 
   <td>Výzva na doplnění odvolání</td> 
  </tr> 
  <tr> 
   <td>243</td> 
   <td>Výzva k&nbsp;vyjádření se k&nbsp;odvolání</td> 
  </tr> 
  <tr> 
   <td>245</td> 
   <td>Usnesení na doplnění odvolání</td> 
  </tr> 
  <tr> 
   <td>246</td> 
   <td>Usnesení k&nbsp;vyjádření se k&nbsp;odvolání</td> 
  </tr> 
  <tr> 
   <td>311</td> 
   <td>Rozhodnutí o&nbsp;odvolání ve věci zproštění funkce insolv. správce, jeho výdajích a způsob úhrady&nbsp;–&nbsp;jiné</td> 
  </tr> 
  <tr> 
   <td>328</td> 
   <td>Rozhodnutí opravné usnesení</td> 
  </tr> 
  <tr> 
   <td>329</td> 
   <td>Záznam o&nbsp;mylném zařazení</td> 
  </tr> 
  <tr> 
   <td>330</td> 
   <td>Změna XSD dokumentu poznámky</td> 
  </tr> 
  <tr> 
   <td>331</td> 
   <td>Náhradní doručení</td> 
  </tr> 
  <tr> 
   <td>332</td> 
   <td>Zpráva IS o&nbsp;stavu řízení</td> 
  </tr> 
  <tr> 
   <td>333</td> 
   <td>Dohoda o&nbsp;vypořádání SJM</td> 
  </tr> 
  <tr> 
   <td>334</td> 
   <td>Soupis majetkové podstaty</td> 
  </tr> 
  <tr> 
   <td>339</td> 
   <td>Návrh na schválení dohody o&nbsp;vypořádání SJM</td> 
  </tr> 
  <tr> 
   <td>344</td> 
   <td>Návrh na zrušení konkurzu</td> 
  </tr> 
  <tr> 
   <td>347</td> 
   <td>Návrh na vydání souhlasu se zpeněžením MP mimo dražbu</td> 
  </tr> 
  <tr> 
   <td>348</td> 
   <td>Omluva</td> 
  </tr> 
  <tr> 
   <td>350</td> 
   <td>Zpráva IS o&nbsp;uzavření účetních knih</td> 
  </tr> 
  <tr> 
   <td>351</td> 
   <td>Platební poukaz</td> 
  </tr> 
  <tr> 
   <td>354</td> 
   <td>Pověření asistenta soudce</td> 
  </tr> 
  <tr> 
   <td>354</td> 
   <td>Pověření asistentky soudce</td> 
  </tr> 
  <tr> 
   <td>355</td> 
   <td>Pověření vyšší soudní úřednice</td> 
  </tr> 
  <tr> 
   <td>355</td> 
   <td>Pověření vyššího soudního úředníka</td> 
  </tr> 
  <tr> 
   <td>356</td> 
   <td>Prezenční listina</td> 
  </tr> 
  <tr> 
   <td>357</td> 
   <td>Přípis</td> 
  </tr> 
  <tr> 
   <td>358</td> 
   <td>Sdělení o&nbsp;vstupu KSZ do řízení</td> 
  </tr> 
  <tr> 
   <td>359</td> 
   <td>Vstup KSZ do řízení</td> 
  </tr> 
  <tr> 
   <td>362</td> 
   <td>Usnesení o&nbsp;ustanovení tlumočníka</td> 
  </tr> 
  <tr> 
   <td>365</td> 
   <td>Výzva k&nbsp;zaplacení SOP</td> 
  </tr> 
  <tr> 
   <td>366</td> 
   <td>Zaplacení SOP</td> 
  </tr> 
  <tr> 
   <td>367</td> 
   <td>Žádost</td> 
  </tr> 
  <tr> 
   <td>368</td> 
   <td>Náhradní doručení</td> 
  </tr> 
  <tr> 
   <td>369</td> 
   <td>Právní moc</td> 
  </tr> 
  <tr> 
   <td>370</td> 
   <td>Právní moc konečného rozhodnutí</td> 
  </tr> 
  <tr> 
   <td>371</td> 
   <td>Informační zpráva</td> 
  </tr> 
  <tr> 
   <td>372</td> 
   <td>Změna stavu věci</td> 
  </tr> 
  <tr> 
   <td>373</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– potvrzeno</td> 
  </tr> 
  <tr> 
   <td>374</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– změněno</td> 
  </tr> 
  <tr> 
   <td>375</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– zrušeno a vráceno</td> 
  </tr> 
  <tr> 
   <td>376</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– zastavení řízení</td> 
  </tr> 
  <tr> 
   <td>377</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– odmítnuto</td> 
  </tr> 
  <tr> 
   <td>378</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– jinak</td> 
  </tr> 
  <tr> 
   <td>380</td> 
   <td>Zaslání rozhodnutí odvolacího soudu</td> 
  </tr> 
  <tr> 
   <td>381</td> 
   <td>Zaslání rozhodnutí odvolacího soudu a vrácení spisu</td> 
  </tr> 
  <tr> 
   <td>382</td> 
   <td>Převzetí věci Vrchním soudem</td> 
  </tr> 
  <tr> 
   <td>383</td> 
   <td>Rozhodnutí o&nbsp;tom, zda je soudce vyloučen</td> 
  </tr> 
  <tr> 
   <td>386</td> 
   <td>Protokol o&nbsp;hlasování</td> 
  </tr> 
  <tr> 
   <td>387</td> 
   <td>Žádost o&nbsp;zapůjčení spisu</td> 
  </tr> 
  <tr> 
   <td>388</td> 
   <td>Příprava jednání</td> 
  </tr> 
  <tr> 
   <td>391</td> 
   <td>Rozhodnutí o&nbsp;místní příslušnosti (§ 105&nbsp;odst. 3)</td> 
  </tr> 
  <tr> 
   <td>392</td> 
   <td>Předložení věci Vrchnímu soudu</td> 
  </tr> 
  <tr> 
   <td>393</td> 
   <td>Přípis&nbsp;– bez věcného vyřízení</td> 
  </tr> 
  <tr> 
   <td>399</td> 
   <td>Rozhodnutí o&nbsp;dovolání&nbsp;– zrušeno a vráceno soudu 1.&nbsp;stupně</td> 
  </tr> 
  <tr> 
   <td>405</td> 
   <td>Změna senátu věci</td> 
  </tr> 
  <tr> 
   <td>407</td> 
   <td>Dovolání</td> 
  </tr> 
  <tr> 
   <td>410</td> 
   <td>Insolvenční návrh spojený s&nbsp;návrhem na prohlášení konkursu</td> 
  </tr> 
  <tr> 
   <td>411</td> 
   <td>Námitka podjatosti</td> 
  </tr> 
  <tr> 
   <td>413</td> 
   <td>Přihláška&nbsp;– návrh na vstup nového věřitele</td> 
  </tr> 
  <tr> 
   <td>414</td> 
   <td>Návrh dlužníka</td> 
  </tr> 
  <tr> 
   <td>415</td> 
   <td>Návrh na odvolání správce</td> 
  </tr> 
  <tr> 
   <td>423</td> 
   <td>Návrh na zproštění správce z&nbsp;funkce</td> 
  </tr> 
  <tr> 
   <td>425</td> 
   <td>Odvolání jiné</td> 
  </tr> 
  <tr> 
   <td>426</td> 
   <td>Omluva</td> 
  </tr> 
  <tr> 
   <td>427</td> 
   <td>Oznámení</td> 
  </tr> 
  <tr> 
   <td>428</td> 
   <td>Oznámení soudu</td> 
  </tr> 
  <tr> 
   <td>429</td> 
   <td>Oznámení o&nbsp;změně konání jednání</td> 
  </tr> 
  <tr> 
   <td>430</td> 
   <td>Platební poukaz</td> 
  </tr> 
  <tr> 
   <td>432</td> 
   <td>Protokol z&nbsp;jednání věřitelského výboru</td> 
  </tr> 
  <tr> 
   <td>434</td> 
   <td>Předvolání k&nbsp;výslechu</td> 
  </tr> 
  <tr> 
   <td>436</td> 
   <td>Převedení spisu příslušenému soudu</td> 
  </tr> 
  <tr> 
   <td>437</td> 
   <td>Předvolání ke slyšení</td> 
  </tr> 
  <tr> 
   <td>438</td> 
   <td>Převzetí spisu z&nbsp;jiného soudu</td> 
  </tr> 
  <tr> 
   <td>439</td> 
   <td>Přezkumné jednání</td> 
  </tr> 
  <tr> 
   <td>440</td> 
   <td>Přihláška pohledávky&nbsp;– částečné zpětvzetí</td> 
  </tr> 
  <tr> 
   <td>441</td> 
   <td>Přihláška pohledávky&nbsp;– doplnění, oprava</td> 
  </tr> 
  <tr> 
   <td>442</td> 
   <td>Přihláška pohledávky&nbsp;– zpětvzetí</td> 
  </tr> 
  <tr> 
   <td>443</td> 
   <td>Příloha k&nbsp;protokolu o&nbsp;jednání</td> 
  </tr> 
  <tr> 
   <td>444</td> 
   <td>Přistoupení k&nbsp;řízení (§ 107&nbsp;IZ)</td> 
  </tr> 
  <tr> 
   <td>445</td> 
   <td>Referát</td> 
  </tr> 
  <tr> 
   <td>447</td> 
   <td>Sdělení o&nbsp;odstoupení z&nbsp;funkce ve v.v.</td> 
  </tr> 
  <tr> 
   <td>448</td> 
   <td>Sdělení o&nbsp;osobě jednající jménem člena/náhradníka v.o.</td> 
  </tr> 
  <tr> 
   <td>449</td> 
   <td>Seznam přihlášených pohledávek&nbsp;– změna</td> 
  </tr> 
  <tr> 
   <td>450</td> 
   <td>Seznam/upravený seznam přihlášených pohledávek</td> 
  </tr> 
  <tr> 
   <td>451</td> 
   <td>Schůze věřitelů</td> 
  </tr> 
  <tr> 
   <td>453</td> 
   <td>Soupis majetkové podstaty</td> 
  </tr> 
  <tr> 
   <td>454</td> 
   <td>Soupis majetkové podstaty&nbsp;– doplnění</td> 
  </tr> 
  <tr> 
   <td>461</td> 
   <td>Usnesení o&nbsp;odměně a hotových výdajích tlumočníka</td> 
  </tr> 
  <tr> 
   <td>463</td> 
   <td>Usnesení o&nbsp;odmítnutí návrhu na předběžné opatření</td> 
  </tr> 
  <tr> 
   <td>464</td> 
   <td>Usnesení o&nbsp;postoupení věci</td> 
  </tr> 
  <tr> 
   <td>466</td> 
   <td>Usnesení o&nbsp;schválení konečné zprávy</td> 
  </tr> 
  <tr> 
   <td>468</td> 
   <td>Usnesení o&nbsp;uložení povinnosti</td> 
  </tr> 
  <tr> 
   <td>470</td> 
   <td>Usnesení o&nbsp;vyplacení zálohy na odměnu správce</td> 
  </tr> 
  <tr> 
   <td>471</td> 
   <td>Usnesení o&nbsp;zamítnutí návrhu na předběžné opatření</td> 
  </tr> 
  <tr> 
   <td>473</td> 
   <td>Usnesení o&nbsp;zastavení řízení</td> 
  </tr> 
  <tr> 
   <td>475</td> 
   <td>Usnesení o&nbsp;zastavení řízení vůči učastníku (§ 130&nbsp;odst. 2&nbsp;IZ)</td> 
  </tr> 
  <tr> 
   <td>477</td> 
   <td>Usnesení o&nbsp;změně rozhodnutí soudu I.stupně</td> 
  </tr> 
  <tr> 
   <td>478</td> 
   <td>Usnesení o&nbsp;zrušení rozhodnutí soudu I.stupně</td> 
  </tr> 
  <tr> 
   <td>480</td> 
   <td>Vrácená obálka</td> 
  </tr> 
  <tr> 
   <td>481</td> 
   <td>Vrácení příloh</td> 
  </tr> 
  <tr> 
   <td>483</td> 
   <td>Vyhláška o&nbsp;jednání o&nbsp;konečné zprávě</td> 
  </tr> 
  <tr> 
   <td>484</td> 
   <td>Vyhláška o&nbsp;svolání zvláštního přezkumného jednání</td> 
  </tr> 
  <tr> 
   <td>485</td> 
   <td>Výpis z&nbsp;evidence ARES</td> 
  </tr> 
  <tr> 
   <td>488</td> 
   <td>Vyúčtování odměny a výdajů správce</td> 
  </tr> 
  <tr> 
   <td>490</td> 
   <td>Vzdání se práva odvolání</td> 
  </tr> 
  <tr> 
   <td>493</td> 
   <td>Zaslání doplnění přihlášky správci</td> 
  </tr> 
  <tr> 
   <td>494</td> 
   <td>Zaslání přihlášky správci</td> 
  </tr> 
  <tr> 
   <td>495</td> 
   <td>Záznam o&nbsp;složení zálohy</td> 
  </tr> 
  <tr> 
   <td>496</td> 
   <td>Záznam o&nbsp;zaplacení zálohy na insolvenční řízení</td> 
  </tr> 
  <tr> 
   <td>498</td> 
   <td>Zpětvzetí popřené pohledávky insolvenčním správcem</td> 
  </tr> 
  <tr> 
   <td>499</td> 
   <td>Zvláštní přezkumné jednání</td> 
  </tr> 
  <tr> 
   <td>501</td> 
   <td>Žádost o&nbsp;určení osoby správce</td> 
  </tr> 
  <tr> 
   <td>502</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– potvrzeno</td> 
  </tr> 
  <tr> 
   <td>503</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– změněno</td> 
  </tr> 
  <tr> 
   <td>504</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– zrušeno a vráceno</td> 
  </tr> 
  <tr> 
   <td>506</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– odmítnuto</td> 
  </tr> 
  <tr> 
   <td>507</td> 
   <td>Rozhodnutí o&nbsp;odvolání&nbsp;– jinak</td> 
  </tr> 
  <tr> 
   <td>508</td> 
   <td>Zaslání rozhodnutí odvolacího soudu</td> 
  </tr> 
  <tr> 
   <td>510</td> 
   <td>Převzetí věci vrchním soudem</td> 
  </tr> 
  <tr> 
   <td>524</td> 
   <td>Protokol o&nbsp;hlasování</td> 
  </tr> 
  <tr> 
   <td>525</td> 
   <td>Žádost o&nbsp;zapůjčení spisu</td> 
  </tr> 
  <tr> 
   <td>528</td> 
   <td>Rozhodnutí o&nbsp;místní příslušnosti</td> 
  </tr> 
  <tr> 
   <td>529</td> 
   <td>Zpětvzetí návrhu</td> 
  </tr> 
  <tr> 
   <td>531</td> 
   <td>Protokol o&nbsp;prohlídce prostor</td> 
  </tr> 
  <tr> 
   <td>532</td> 
   <td>Opravné usnesení</td> 
  </tr> 
  <tr> 
   <td>533</td> 
   <td>Sdělení Ministerstva vnitra (auta)</td> 
  </tr> 
  <tr> 
   <td>534</td> 
   <td>Výpis ze seznamu přihlášených pohledávek</td> 
  </tr> 
  <tr> 
   <td>535</td> 
   <td>Usnesení o&nbsp;prodeji mimo dražbu</td> 
  </tr> 
  <tr> 
   <td>538</td> 
   <td>Soupis majetkové podstaty&nbsp;– změna</td> 
  </tr> 
  <tr> 
   <td>539</td> 
   <td>Usnesení o&nbsp;svolání věřitelského výboru</td> 
  </tr> 
  <tr> 
   <td>544</td> 
   <td>Výzva k&nbsp;podávání přihlášek pohledávek</td> 
  </tr> 
  <tr> 
   <td>553</td> 
   <td>Usnesení o&nbsp;zrušení rozhodnutí soudu I.stupně (bez změny&nbsp;stavu)</td> 
  </tr> 
  <tr> 
   <td>554</td> 
   <td>Opětovné doručení vyhláškou</td> 
  </tr> 
  <tr> 
   <td>555</td> 
   <td>Usnesení o&nbsp;změně insolvenčního správce</td> 
  </tr> 
  <tr> 
   <td>556</td> 
   <td>Reklamace doručenky</td> 
  </tr> 
  <tr> 
   <td>561</td> 
   <td>Konečný/Závěrečný referát</td> 
  </tr> 
 </tbody> 
</table>
                    </div>
                    ... <a href="pages/programming/insolvencni_rejstrik-isir_ws/isir_typy_akci.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0008.jpg);"></div>
                <div class="document post">
                    <div class="date"><span>2018-07-31</span></div>

                    <a href="pages/programming/java/navod-spring-framework-zacatky.html"><h2 class="title">Úplné začátky se Spring
framework</h2></a>

                    <div class="doc-body">
                        <h2 class=" jbakeExtractedTitle" id="toc-uplne-zacatky-se-spring-framework">Úplné začátky se Spring framework</h2> 
<h3 id="toc-k-cemu-je-spring">K&nbsp;čemu je Spring?</h3> 
<p>Spring má více částí, takže se dá využívat lecjak.</p> 
<ul> 
 <li><strong>Spring Web MVC</strong>&nbsp;– framework pro návrh webových aplikací ve stylu <em>Model, View and Controller</em></li> 
 <li><strong>Spring JDBC</strong>&nbsp;– zjednodušení práce s&nbsp;JDBC, něco jako&nbsp;<a href="http://ibatis.apache.org/">iBatis</a></li> 
 <li><strong>Spring AOP</strong>&nbsp;– viz článek <a href="navod-spring-aop-zacatky.html">Začátky se Spring AOP&nbsp;–&nbsp;návod</a></li> 
 <li><strong>Spring Inversion of Control</strong> (dependency injection, BeanFactory, ApplicationCon­text)&nbsp;– knihovna pro vnější konfiguraci</li> 
 <li>a <a href="http://www.springframework.org/about">další</a>…</li> 
</ul> 
<p>Mě v&nbsp;tomto článku bude zajímat poslední položka&nbsp;– <em>IoC</em>. Je to jen zlomek toho, co Spring dokáže, ale je to také základ skoro všeho, co se ve Springu dělá. (Proto tedy název článku „Úplné začátky…“ a nikoliv „Spring&nbsp;IoC“.)</p> 
<h3 id="toc-spring-inversion-of-control-ioc">Spring Inversion of Control (IoC)</h3> 
<p>Inversion of Control (česky bych řekl „vyvržení střev aplikace“, ale jinak pochopitelně „převrácené řízení“) je technika, pomocí které především oddělíte konfiguraci od kódu a také oddělíte jednotlivé části aplikace navzájem.</p> 
<p>Zprvu se vám může zdát, že stačí normální konfigurace přes <code>Properties</code> a dělat to níže popisovaným způsobem je složitější. A&nbsp;máte pravdu! Ale vtip je v&nbsp;tom, že pokud děláte J2EE aplikaci, postupem času začne váš projekt používat <acronym title="Například já teď pracuju na celkem jednoduchém projektu, ale už teď používám Hibernate přes JPA, iBatis, FreeMarker a&nbsp;další.">desítky</acronym> modulů, z&nbsp;nichž každý má vlastní způsob konfigurace.</p> 
<p>Se Spring IoC ale dnes už spolupracuje skoro každý významný projekt, a díky tomu je všechny můžete nakonfigurovat jednotným způsobem, což je u&nbsp;větších projektů neocenitelné. Spring navíc pro nejběžnější úlohy nabízí velmi přímočará řešení s&nbsp;defaultními hodnotami, proto přidat nový modul často znamená jen přidat pár řádků do XML konfigurace Springu.</p> 
<h3 id="toc-jak-na-to">Jak na to</h3> 
<p>Hlavní třídou k&nbsp;tomuto je buď <code>ApplicationContext</code>, nebo <em>Bean Factory</em> neboli <em>továrna na „bíny“</em>. <code>BeanFactory</code> je jednodušší (osekaná) verze <code>ApplicationContext</code>u, proto začneme tou. <code>ApplicationContext</code> využijete u&nbsp;pokročilejších technik, jako je správa transakcí nebo&nbsp;AOP.</p> 
<div>
 <img alt="" src="https://www.zizka.ch/pages/programming/java/spring-beans-factory.png">
</div> 
<p><em>Obrázek je z&nbsp;<a href="http://static.springframework.org/spring/docs/2.5.x/reference/beans.html#beans-basics">dokumentace Springu</a>, kde najdete lepší tutoriál než je tento, ale v&nbsp;angličtině.</em></p> 
<p>Zatímco běžně byste třeba pro databázové spojení měli třídu <code>DatabaseManager</code>, z&nbsp;ní udělali jedináčka (singleton), a tuto třídu inicializovali a vložili kamsi do hlavního objektu aplikace, se Springem přenecháte vytvoření a konfiguraci objektu na Springu a v&nbsp;kódu ostatních si o&nbsp;něj vždy jen požádáte.</p> 
<p>Co zbývá na vás je implementace příslušné třídy a vytvoření XML souboru s&nbsp;metadaty pro jeho konfiguraci.</p> 
<p>V&nbsp;podstatě velice jednoduché. Takže nyní ukázka. Předpokládejme obecně jakoukoliv aplikaci.</p> 
<hr> 
<h4 id="toc-jak-inicializovat-spring">Jak inicializovat spring</h4> 
<p>Inicializace probíhá tak, že vytvoříte továrnu na beany a do konstruktoru předáte soubor, který se má číst. U&nbsp;newebových aplikací můžete XML soubor dát kam chcete a pojmenovat jej jak chcete.</p> 
<pre class="brush: lang-java brush: java">import org.springframework.beans.factory.xml.XmlBeanFactory;
import org.springframework.core.io.ClassPathResource;

public void init() {

  XmlBeanFactory bf = new XmlBeanFactory( new ClassPathResource( "properties/SpringBeans.xml" ));

}</pre> 
<p>U&nbsp;webových aplikací se konfigurační soubory dávají do <code>/WEB-INF/</code>, anžto tam se webový klient nikdy nedostane (zaručeno specifikací&nbsp;J2EE).</p> 
<pre class="brush: lang-java brush: java">import org.springframework.beans.factory.xml.XmlBeanFactory;
import org.springframework.web.context.support.ServletContextResource;

public void init() {

  XmlBeanFactory bf = new XmlBeanFactory(new ServletContextResource(this.getServletContext(), "/WEB-INF/applicationContext.xml"));

}</pre> 
<p>Soubor <code>applicationContext.xml</code> viz dále.</p> 
<hr> 
<h4 id="toc-nyni-jak-si-budete-zadat-o-pripraveny-objekt-pro-ukazku-treba-dao">Nyní jak si budete žádat o&nbsp;připravený objekt (pro ukázku třeba&nbsp;DAO):</h4> 
<pre class="brush: lang-java brush: java">userDAO = (UserDAO) bf.getBean("userDAO");</pre> 
<p><code>userDAO</code> je jméno konkrétního objektu třídy <code>UserDAO</code>&nbsp;– viz&nbsp;dále.</p> 
<p>Krásné, že? :-)</p> 
<p>Samozřejmě je to o&nbsp;něco složitější než to udělat přímo v&nbsp;kódu, ale zkuste to a uvidíte, že tomu přijdete na&nbsp;chuť.</p> 
<hr> 
<h4 id="toc-konfigurace">Konfigurace</h4> 
<p><strong>A&nbsp;teď co je k&nbsp;tomu potřeba:</strong></p> 
<p>V&nbsp;konfiguračním souboru <code>/WEB-INF/applicationContext.xml</code> řeknete springu, jaké všechny objekty má připravit a jak je nastavit.</p> 
<p><em>Poznámka: U&nbsp;newebových aplikací můžete XML soubor dát kam chcete a pojmenovat jej jak chcete.</em></p> 
<pre class="brush: lang-xml brush: xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd"&gt;

&lt;beans&gt;

 &lt;bean id="propertyConfigurer"
    class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"&gt;
  &lt;property name="locations"&gt;
   &lt;list&gt;
    &lt;value&gt;settings.properties&lt;/value&gt;
   &lt;/list&gt;
  &lt;/property&gt;
 &lt;/bean&gt;

 &lt;import resource="spring-config/userDAOs.xml" /&gt;

&lt;/beans&gt;</pre> 
<p>První element <code>&lt;bean&gt;</code> je přímá definice objektu, další definice jsou obsažené v&nbsp;souborech načtených přes element <code>&lt;import&gt;</code>.</p> 
<p>Atribut <code>id="propertyConfigurer"</code> obsahuje jméno, pod kterým Spring o&nbsp;daný objekt budete pozdeji&nbsp;žádat.</p> 
<p>Atribut <code>class="..."</code> je jméno třídy, ze které Spring objekt vytvoří. Použije k&nbsp;tomu konstruktor bez parametrů. Mohl by použít i&nbsp;jiný, ale takto nám to&nbsp;stačí.</p> 
<p>Element <code>&lt;property name="locations"&gt;</code> použije Spring k&nbsp;nastavení vlastnosti objektu přes setter, tedy přes <code>setLocations(...)</code>. Dokáže pracovat s&nbsp;různými typy, zde například je to seznam (stringů).</p> 
<hr> 
<p>Ještě se podíváme na soubor <code>userDAOs.xml</code>.</p> 
<p>//Update 2008/09:// Momentálně trochu nedovysvětlené… časem snad připíšu.</p> 
<pre class="brush: lang-xml brush: xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd"&gt;

&lt;beans&gt;

 &lt;bean id="userDAO" class="cz.dynawest.isir.dao.UserDAO"&gt;
   &lt;property name="..." ref="..."/&gt;
 &lt;/bean&gt;

 &lt;bean id="udalostDAO" class="cz.dynawest.isir.dao.UdalostDAO"&gt;
   &lt;property name="..." ref="..."/&gt;
 &lt;/bean&gt;

&lt;/beans&gt;</pre> 
<p>A&nbsp;spring je na světě.</p> 
<h3 id="toc-zaver">Závěr</h3> 
<p>Zatím jste se naučili jen tzv. <em>Inversion of Control</em>.</p> 
<p>Popisy dalších částí Spring Frameworku budu postupně přidávat, najdete je v&nbsp;sekci Java +&nbsp;J2EE.</p>
                    </div>
                    ... <a href="pages/programming/java/navod-spring-framework-zacatky.html"> read more &rarr;</a>
                </div>
                <div class="banner post-separator" style="background-image: url(photos/panoramas/DSC_0068.jpg);"></div>
        </div>


	<div>Older posts are available in the <a href="archive.html">archive</a>.</div>


        

        <div class="donateButton">
            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                <input type="hidden" name="cmd" value="_s-xclick">
                <input type="hidden" name="hosted_button_id" value="J2SY36M3ZW9JL">
                <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                <img alt="" border="0" src="https://www.paypalobjects.com/cs_CZ/i/scr/pixel.gif" width="1" height="1">
            </form>
        </div>


        <!-- AddToAny BEGIN -->
        <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
            <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
            <a class="a2a_button_facebook"></a>
            <a class="a2a_button_twitter"></a>
            <a class="a2a_button_google_plus"></a>
            <a class="a2a_button_google_bookmarks"></a>
            <a class="a2a_button_google_classroom"></a>
            <a class="a2a_button_linkedin"></a>
            <a class="a2a_button_reddit"></a>
            <a class="a2a_button_buffer"></a>
            <a class="a2a_button_trello"></a>
            <a class="a2a_button_slashdot"></a>
            <a class="a2a_button_hacker_news"></a>
            <a class="a2a_button_dzone"></a>
            <a class="a2a_button_pinterest"></a>
            <a class="a2a_button_vk"></a>
            <a class="a2a_button_digg"></a>
            <a class="a2a_button_copy_link"></a>
            <a class="a2a_button_pocket"></a>
        </div>
        <script>
            var a2a_config = a2a_config || {};
            a2a_config.linkname = "Ondřej Žižka";
            a2a_config.linkurl = "https://www.zizka.ch/";
            a2a_config.num_services = 18;
        </script>
        <script async src="https://static.addtoany.com/menu/page.js"></script>
        <!-- AddToAny END -->

        <div style="clear: both; height: 1ex;"></div>

        <!-- Facebook comments -->

    </div>
    <div id="push"></div>

    <div id="pocitadla">
        <!--
        <div class="pocitadlo" id="navrcholu">
            <script src="https://c1.navrcholu.cz/code?site=116753;t=lb14" type="text/javascript"></script><noscript><div><a target="_blank" href="https://navrcholu.cz/"><img src="https://c1.navrcholu.cz/hit?site=116753;t=lb14;ref=;jss=0" width="14" height="14" alt="Statistiky NaVrcholu.cz" style="border:none" /></a></div></noscript>
        </div><!- - Driv: code?site=79008;t=lb14" -->
        <div class="pocitadlo" id="toplist">
            <a target="_blank" href="https://toplist.cz/stat/117144"><script language="JavaScript" type="text/javascript">
                document.write('<img src="https://toplist.cz/count.asp?id=117144&amp;start=806&amp;logo=2&amp;http='
                        +escape(document.referrer)+'&amp;wi='+escape(window.screen.width)+'&he='+escape(window.screen.height)
                        +'&amp;cd='+escape(window.screen.colorDepth)+'" width="36" height="14" border="0" alt="TOPlist statistiky" />');
            </script><noscript><img src="https://toplist.cz/count.asp?id=117144&amp;start=1&amp;logo=2" border="0" alt="TOPlist statistiky" width="36" height="14"/></noscript></a>
        </div>
        <!-- ClustrMaps.com -->
        <div class="pocitadlo" id="clustrmaps">
            <a href="https://www4.clustrmaps.com/user/64952149"><img src="https://www4.clustrmaps.com/stats/maps-no_clusters/ondra.zizka.cz--thumb.jpg" alt="0" border="0" width="180" height="117" /></a>
        </div>
        <!-- New one.
        <script type='text/javascript' id='clustrmaps' src='//cdn.clustrmaps.com/map_v2.js?cl=5cbf2b&w=300&t=tt&d=C_pONa0RC5iio9jpL5Q-2a6fhvRnD7yKoCQfQahpDdY&co=ffffff&ct=d1d1d1&cmo=499fff&cmn=ffa137'></script>
        -->
    </div>

</div>

<div id="footer">
    <div class="container">
        <p class="muted credit">
            &copy; 2018
            | Content written in <a href="https://texy.info/en/">Texy!</a>
            | Baked with <a href="http://jbake.org/">JBake v2.7.0-SNAPSHOT</a>,
              <a href="http://freemarker.apache.org/">FreeMarker</a> and
              <a href="http://getbootstrap.com/">Bootstrap</a>
        </p>
    </div>
</div>

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/prettify.js"></script>

<!-- Facebook comments -->
<div id="fb-root"></div>
<script>
    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/cs_CZ/sdk.js#xfbml=1&version=v3.0';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4584951-4"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-4584951-4');
</script>

<!-- Syntax highlighter -->
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shCore.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushCpp.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushCSharp.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushCss.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushDelphi.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushDiff.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushGroovy.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushJava.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushJScript.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushPlain.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushPython.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushRuby.js"></script>
<!--
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushScala.js"></script>
-->
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushSql.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushVb.js"></script>
<script type="text/javascript" src="/syntaxhighlighter3/scripts/shBrushXml.js"></script>
<link type="text/css" rel="stylesheet" href="/syntaxhighlighter3/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="/syntaxhighlighter3/styles/shThemeDefault.css"/>
<script type="text/javascript">
    SyntaxHighlighter.config.clipboardSwf = '/syntaxhighlighter3/scripts/clipboard.swf';
    SyntaxHighlighter.all();
</script>

<!-- Rating widget -->
<script type="text/javascript">(function(d, t, e, m){
    // Async Rating-Widget initialization.
    window.RW_Async_Init = function(){
        RW.init({
            huid: "410403",
            uid: "4a1af2230af675ee80c7fba6b48e80c3",
            source: "website",
            options: {
                "advanced": {
                    "font": {"size": "10px", "type": "droid sans, Helvetica, sans-serif"},
                    "text": {"rateAwful": "Not useful", "ratePoor": "Nah...", "rateAverage": "So-so", "rateGood": "Interesting", "rateExcellent": "Saved my day!", "rateThis": "Was it useful?"}
                },
                "boost": {"rate": 1},
                "style": "oxygen",
                "isDummy": false
            }
        });
        RW.render();
    };
    // Append Rating-Widget JavaScript library.
    var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
            l = d.location, ck = "Y" + t.getFullYear() +
            "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
            f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
            a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
    if (d.getElementById(id)) return;
    rw = d.createElement(e);
    rw.id = id; rw.async = true; rw.type = "text/javascript";
    rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
    s.parentNode.insertBefore(rw, s);
}(document, new Date(), "script", "rating-widget.com/"));
</script>


</body>
</html>
