<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Java + J2EE - Ondřej Žižka</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="My personal web">
    <meta name="author" content="Ondřej Žižka">
    <meta name="generator" content="JBake">


    <link rel="stylesheet" href="../../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/asciidoctor.css">
    <link rel="stylesheet" href="../../../css/base.css">
    <link rel="stylesheet" href="../../../css/doc-body.css">
    <link rel="stylesheet" href="../../../css/prettify.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../../favicon.ico">
</head>
<body onload="prettyPrint()">
    <div id="wrap">

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.zizka.ch/">Ondřej Žižka</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../../../index.html">Blog</a></li>
            <li><a href="../../../archive.html">Archive</a></li>
            <li><a href="../../../tags">Tags</a></li>

            <li><a href="../../../about.html">About Me</a></li>
            <li><a href="../../../feed.xml">RSS feed</a></li>
            <li><a href="../../../sitemap.xml">Sitemap</a></li>
            <!--
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
            -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">

	<div class="page-header">
        <h1>Java + J2EE - Ondřej Žižka</h1>
	</div>

	<div class="date"><em>2012-12-16</em></div>

	<div class="doc-body"><h3>Java + J2EE</h3> 
<p>This page is a mix of czech and english, sorry for non-separated and loosely organized content, but hopefully you will find your subject by using <code>Ctrl+F</code>&nbsp;:-)</p> 
<hr> 
<p><a href="howto/quartz-howto-intro.texy">Quartz intro</a> and <a href="web/wicket/wicket-quartz-scheduler-example.texy">how to use Quartz in Wicket</a></p> 
<p><a href="web/wicket/index.texy">My Wicket notes</a></p> 
<p><a href="jboss/svn-commit-irc-bot-java.texy">SVNbot</a>&nbsp;– an IRC bot announcing SVN commits, written in&nbsp;Java</p> 
<p>My usual MySQL JDBC params:</p> 
<pre class="brush: plain"><code>jdbc:mysql://localhost/test?characterEncoding=UTF-8&amp;characterSetResults=UTF-8&amp;autoReconnect=true&amp;zeroDateTimeBehavior=convertToNull</code></pre> 
<p><a href="http://ondrazizka.googlecode.com/svn/maven/mysql/mysql-connector-java/5.1.12/">MySQL JDBC driver for Maven</a>&nbsp;– mavenized Connector/J</p> 
<p><a href="http://code.google.com/p/ondrazizka/source/browse/#svn/maven/cz/dynawest/third/pircbot/PircBot">PircBot Mavenized</a></p> 
<ul> 
 <li>PircBot IRC Bot framework library in a provisory Maven repository.</li> 
</ul> 
<p><a href="jaxb/jaxb-howto-introduction-tutorial.texy">JAXB example</a>&nbsp;– keywords: JAXB howto example tutorial&nbsp;intro.</p> 
<p><a href="sardine-java-webdav-client-library.texy">Sardine&nbsp;– WebDAV client library for Java</a></p> 
<p><a href="jboss/jboss-as-startup-run-sh-java-system-variables.texy">JBoss AS Java system variables</a> (<code>-D</code> for <code>bin/run.sh</code>)</p> 
<p><a href="jboss/Tomcat-JON-Windows-2003-2008.texy">JBoss Operation Network and Tomcat on Windows 2003:&nbsp;No-go</a></p> 
<p><a href="jetty-how-to-stop.texy">How to stop Jetty</a></p> 
<p><a href="jboss/web-services.texy">JBoss WebServices (JBossWS) notes</a></p> 
<p><a href="jboss/clustering-session-replication.texy">Simple JBoss AS clustering example</a> (2&nbsp;nodes, JSP session replication).</p> 
<h4>Maven Tips</h4> 
<p><a href="maven/log4j-missing-jmx-sun-deps.texy">Maven and Log4j: Missing JMX dependencies</a>&nbsp;– mavenized jmxri and jmxtools.</p> 
<p>To start maven goals in debug mode:</p> 
<pre class="brush: xml"><code>mvnDebug test ...</code></pre> 
<p>This does not work for me:</p> 
<pre class="brush: xml"><code>mvn test -DargLine="-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=4000"</code></pre> 
<p><a href="maven/profile-activation-and-properties.texy">Profile activation and properties</a></p> 
<p><a href="maven/how-to-add-existing-project-jar-to-maven-repository.texy">How to add existing Java project's <code>.jar</code>s&nbsp;to Maven repository</a></p> 
<p><a href="maven/maven-create-distribution-package.texy">How to create an application distribution package with&nbsp;Maven</a></p> 
<p><a href="maven/maven-create-jnlp-file.texy">How to create a JNPL file (for Java WebStart) with&nbsp;Maven</a></p> 
<p><a href="maven/mavenize-quick-and-dirty.texy">Quick and dirty mavenization</a>&nbsp;– How to install an existing library with dependencies to Maven repository.</p> 
<p>I've presented Maven 2&nbsp;for the company I&nbsp;work for. Download here: <a href="download/Maven2presentation.pdf">Maven presentation for Red Hat / JBoss</a>.&nbsp;
 <!-- See https://www.jboss.org/community/docs/DOC-13358 . --></p> 
<p>A&nbsp;short polemic against <a href="http://ant.apache.org/ivy/m2comparison.html">Ivy / Maven2 Comparison</a>: Read my own opinion about <a href="maven/maven-ant-ivy-comparison.texy">How Maven 2&nbsp;compares to Ivy</a>.</p> 
<p><a href="maven/ant-run-plugin-short.texy">Short code for Antrun Maven plugin</a></p> 
<h4>Java alternative of PHP's <code>preg_replace_callback</code></h4> 
<p><a href="php_preg_replace_callback.texy">Here</a>.</p> 
<h4>XSLT transformation in Java</h4> 
<p>My <a href="xslt-commandline-with-xalan.texy">XSLT + Java notes</a> show:</p> 
<ul> 
 <li>How to call Xalan from a command line</li> 
 <li>A&nbsp;simple class for XSLT conversion using JDK's&nbsp;XSLT</li> 
 <li>Template which does some change and copies all other&nbsp;data</li> 
</ul> 
<h4>What I&nbsp;would change about Java</h4> 
<p><a href="java-feature-requests.texy">My Java feature requests</a></p> 
<h4>Enum with a lookup map</h4> 
<p><a href="enum-with-lookup-map.texy">Enum with a lookup map</a></p> 
<h4>JAXB&nbsp;– a List with inherited classes</h4> 
<p><a href="jaxb/jaxb-list-with-inherited-classes.texy">JAXB&nbsp;– a List with inherited classes</a></p> 
<h4>Groovy bootloader bug with DOMBuilder</h4> 
<p>Is <a href="groovy-dombuilder-bug.texy">this</a> a bug?</p> 
<h4>JBoss</h4> 
<p>Unsign JBoss AS distribution: <code>find . -type f -iname '*.jar' -exec zip -d '{}' META-INF/JBOSSCOD.{SF,RSA} \;</code></p> 
<p><a href="jboss/filesystem-resource-adapter.texy">Filesystem Resource Adapter</a></p> 
<p><a href="jboss/jboss-embedded-bottstrapping.texy">Bootstrapping JBoss Embedded server</a> A&nbsp;very brief how-to&nbsp;– just a maven deps and the bootstraping&nbsp;code.</p> 
<p><a href="jboss/common-mistakes-and-exceptions.texy">Common JBoss AS mistakes and exceptions</a></p> 
<p><a href="jboss/jboss-vs-spring.texy">JBoss vs. Spring</a> An attempt to answer what to use as a base for an enterprise web application.</p> 
<h4>How to transform <code>web.xml</code> with XSTL and XPath</h4> 
<p>In short, the trick is that XPath doesn't work well with element names containing a minus. So you have to match e.g <code>web-xml</code> like&nbsp;this:</p> 
<pre class="xpath"><code>*[name()='web-xml']</code></pre> 
<h4>How to incrementally update a JAXB-mapped object</h4> 
<p>Using a factory delegating the setters to the original object. <em>To be eventually written&nbsp;later.</em></p> 
<h4>JSON with JAXB&nbsp;– Jackson</h4> 
<p>How to <a href="jaxb/jaxb-json-jackson-howto.texy">create JSON output from POJOs using JAXB annotations</a>.</p> 
<h4>JBoss AOP in a standalone application&nbsp;– example / howto</h4> 
<p>Few articles about JBoss AOP:</p> 
<ul> 
 <li>A&nbsp;<a href="jboss/jboss-aop-howto-example-standalone-app.texy">brief introduction to usage of JBoss MC with JBoss&nbsp;AOP</a></li> 
 <li><a href="java.lang.IllegalArgumentException-Unknown-AOP-tag-bean.texy">JBoss AOP: <code>java.lang.IllegalArgumentException: Unknown AOP tag: bean</code></a></li> 
 <li><a href="jboss-aop-could-not-find-class.texy">JBoss AOP: Could not find class</a></li> 
</ul> 
<h4>JBoss Microcontainer in a standalone application</h4> 
<p>A&nbsp;<a href="jboss/jboss-microcontainer-howto-example-standalone-app.texy">brief introduction to usage of JBoss MC in a standalone app</a>.</p> 
<h4>Java Concurency, Threads and Synchronization</h4> 
<p>Attempt for <a href="modifier-and-concurent-readers.texy">one modifier and many concurent readers</a>&nbsp;– a variant of producers and consumers problem.</p> 
<h4>Maven: Order of execution of plugins in profiles</h4> 
<p>I&nbsp;was curious in which order Maven executes the plugins: Whether it uses POM profile appearance order, or uses the ordering from the command line's <code>-P</code> param&nbsp;value.</p> 
<p>Here is the <a href="maven/maven-plugin_in_profiles_execution_order.texy">result of my try-out</a>.</p> 
<h4>Spring AOP common mistake: CGLIB2 is not available</h4> 
<p>You've added a new bean to Spring. And want to do some AOP over its methods. But you run into&nbsp;this:</p> 
<pre class="brush: text"><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'udalostiQueueController' defined in class path resource [properties/Actions.xml]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Cannot proxy target class because CGLIB2 is not available. Add CGLIB to the class path or specify proxy interfaces.

Caused by: org.springframework.aop.framework.AopConfigException: Cannot proxy target class because CGLIB2 is not available. Add CGLIB to the class path or specify proxy interfaces.
        at org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(DefaultAopProxyFactory.java:67)
        at org.springframework.aop.framework.ProxyCreatorSupport.createAopProxy(ProxyCreatorSupport.java:106)
        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110)
        etc.</code></pre> 
<p>The reason is simple: To do AOP, Spring needs either CGLIB to do class instrumentation (bytecode magic) at runtime, or you have to use your bean through an interface.</p> 
<p>So, put all your public methods into an interface and put all it's&nbsp;methods into an implementation. Use the implementation in Spring as the bean class, and when obtaining the bean in the code, store it into interface-typed reference.</p> 
<pre class="brush: java"><code>public interface MyBean {
  public void doSomethingInAOP();
}

public class MyBeanImpl implements MyBean {
  public void doSomethingInAOP(){ ... }
}</code></pre> 
<pre class="brush: xml"><code>&lt;bean id="myBean" class="info.insolvencnirejstrik.controllers.MyBeanImpl" /&gt;

&lt;aop:config&gt;

  &lt;aop:pointcut id="controllerMethods" expression="execution(* info.insolvencnirejstrik.controllers.*.*(..))"/&gt;

  &lt;aop:advisor advice-ref="txAdvice" pointcut-ref="controllerMethods"/&gt;

&lt;/aop:config&gt;</code></pre> 
<pre class="brush: java"><code>MyBean bean = appContext.getBean("myBean");</code></pre> 
<h4>Ibatis instantiation error</h4> 
<p><a href="ibatis-instantiation-exception.texy">Ibatis instantiation exception</a> can arise from the lack of default constructor.</p> 
<h4>StackOverflowError with Xerces 2.0.2</h4> 
<p>Beware of DBCP in combination with Spring and iBatis using Maven. DBCP uses Xerces 2.0.2, which is old buggy version and causes stack overflow exception when parsing Spring's <code>applicationContext.xml</code>, which uses namespaces (e.g. for&nbsp;AOP).</p> 
<pre><code>Caused by: java.lang.StackOverflowError at org.apache.xerces.util.URI.isConformantSchemeName</code></pre> 
<p>Because Maven uses the „nearest node in dependency graph“ rule for resolving version conflicts, it choses DBCP's&nbsp;Xerces 2.0.2, because other dependencies have Xerces deeper.</p> 
<h4>Maven Unzip Plugin</h4> 
<p>I'm going to write unzip plugin for Maven2. Stay tuned.</p> 
<p>//Update:// So here it is: <a href="http://www.pohlidame.cz/insolvencni-rejstrik/maven-unzip-plugin.html">Maven Unzip Plugin</a></p> 
<p>Enjoy :-)</p> 
<h4>Jabber (XMPP) Maven plugin</h4> 
<p>I've created a simple plugin for Maven2, which can send a message from the Maven build process.</p> 
<p>See <a href="maven/jabber-xmpp-maven-plugin.texy">Jabber (XMPP) Maven plugin</a></p> 
<p>Used in the <a href="http://www.pohlidame.cz/">Insolvenční rejstřík</a> project.</p> 
<h4>JPA and Hibernate mapping with MySQL&nbsp;– common errors and exceptions</h4> 
<p>Some <a href="hibernate-common-errors-and-exceptions.texy">tips for those tampering with Java Persistence API and Hibernate</a>&nbsp;– how to tame the exceptions comming from Hibernate EntityManager, Hibernate Annotations and&nbsp;JDBC.</p> 
<h4>ImmutableProperties class</h4> 
<p>I've created an <a href="immutable_properties.texy">immutable adapter of the java.util.Pro­perties class</a>. Not that there aren't bunches of similar over the&nbsp;net…</p> 
<h4>How to read properties file in Spring Framework</h4> 
<p>A&nbsp;new short tutorial on <a href="howto-spring-reading_properties_file.texy">how to provide properties read from a file to a bean</a>.</p> 
<h4>Parametrized Spring Configuration</h4> 
<p>Here's&nbsp;a short sketch of my idea about <a href="howto-substitutions_in_spring_configuration-tutorial.texy">parametrizing Spring configuration</a>, using placeholders (<code>PropertyPlaceholderConfigurer</code>) and overrides (<code>PropertyOverrideConfigurer</code>).</p> 
<h4>Web service client from WSDL using Axis2</h4> 
<p>Here's&nbsp;<a href="web_service_client_from_wsdl_using_axis2.texy">how to create web service client from WSDL using Axis2</a>.</p> 
<h4>Logov?n? v&nbsp;Jav? ? <code>log4j</code> a <code>java.util.logging</code></h4> 
<p>Sepsal jsem si <a href="navod_logovani_java.util.logging.texy">stru?n? ?vod do logov?n? v&nbsp;Jav?</a><br> s&nbsp;uk?zkou konfigurace.</p> 
<h4>JPA with Hibernate common mistakes</h4> 
<pre class="exception"><code>ERROR [org.hibernate.LazyInitializationException] (main:) could not initialize proxy - no Session
Exception in thread "main" org.hibernate.LazyInitializationException: could not initialize proxy - no Session
        at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:57)
org.hibernate.LazyInitializationException: could not initialize proxy - no Session
        at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:111)
        at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:57)
        at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:111)
        at org.hibernate.proxy.pojo.cglib.CGLIBLazyInitializer.invoke(CGLIBLazyInitializer.java:150)
        at cz.dynawest.isir.entities.User$$EnhancerByCGLIB$$f6910a6b.setMail(&lt;generated&gt;)
        at cz.dynawest.isir.test.Manipulace.main(Manipulace.java:49)
        at org.hibernate.proxy.pojo.cglib.CGLIBLazyInitializer.invoke(CGLIBLazyInitializer.java:150)
        at cz.dynawest.isir.entities.User$$EnhancerByCGLIB$$f6910a6b.setMail(&lt;generated&gt;)
        at cz.dynawest.isir.test.Manipulace.main(Manipulace.java:49)\--

**Two common reasons:**

1) You have loaded an entity containing a collection (List, Set, ...), but by default,
Hibernate does not load their members; instead, it puts a proxy, which waits for the case
you access the collection and then loads it.


2) You've loaded the entity using JPA's `getReference()` or Hibernate's `load()`.
That creates a proxy object, which holds only an ID.
Try calling JPA's `find()`, resp. Hibernate's `get()` //(sure, JPA quite messed the nomenclature...)//


So you're trying to manipulate the entity without having any open transaction (session).
Hibernate generally needs every database operation to happen in a transaction,
opened either explicitly (using e.g. `EntityManager.getTransaction()`)
or implicitly (using e.g. Spring AOP).



------------------------------------------------</code></pre> 
<pre class="exception"><code>org.hibernate.PersistentObjectException: detached entity passed to persist</code></pre> 
<p>You load or create an entity in one transaction, which then ends, and then you try to call <code>persist()</code>. Instead, you must call <code>merge()</code>, because that's&nbsp;the method which is meant to re-attach detached entities. Use <code>persist()</code> to store the entity when you change it inside the same transaction as it was loaded&nbsp;in.</p> 
<hr> 
<p><strong>Generally speaking:</strong></p> 
<p>If you load an entity using a DAO, usualy you have a transaction in that DAO's&nbsp;methods. Thus when changing the entity inside DAO, use <code>persist()</code>; When you change it outside DAO and then call some DAO method to save it, call <code>merge()</code>.</p> 
<h4>Za??tky se Spring AOP (Aspect Oriented Programming)</h4> 
<p>Rozchodil jsem Spring AOP a zde d?v?m <a href="navod-spring-aop-zacatky.texy">stru?n? n?vod, jak si Spring AOP</a> rozchod?te&nbsp;taky.</p> 
<h4>FreeMarker templates via Spring in non-web application</h4> 
<p>Note on how to use <a href="navod-spring_freemarker_in_standalone_application.texy">FreeMarker configured by Spring Dependency Injection in a standalone (non-web) application</a>.</p> 
<h4>iBatis inline map format: empty String in nullValue</h4> 
<blockquote> 
 <p>If i&nbsp;want to set a nullValue replacement for an empty String I&nbsp;use this in an explicit parameterMap:</p> 
 <pre class="brush: xml"><code>&lt;parameter property="street" jdbcType="VARCHAR" nullValue=""/&gt;</code></pre> 
 <p>I&nbsp;want to do the same thing using inline parameters. I've tried the following:</p> 
 <pre class="ibatis"><code>#street:VARCHAR:""#
#street:VARCHAR:#
#street,jdbcType=VARCHAR,nullValue=""#
#street,jdbcType=VARCHAR,nullValue=#</code></pre> 
 <p>but none works.</p> 
 <p>How should i&nbsp;write the statement?</p> 
 <p>Thanks, Ondra</p> 
</blockquote> 
<blockquote> 
 <p>I&nbsp;recommend not using <code>nullValue</code> replacement. It's&nbsp;confusing and doesn't work the way most people would expect it to, quite the opposite actually. It's&nbsp;used to map nullable columns to non-nullable class members, like int, long, double, boolean&nbsp;etc…</p> 
 <p><strong>It will not be available in iBATIS 3.</strong></p> 
 <p>Clinton Begin</p> 
</blockquote> 
<blockquote> 
 <p>Quite bad news for me :(</p> 
 <p>I&nbsp;use <code>nullValue</code> as a convenient brief instrument to unify both null values OR empty String to <code>NULL</code> in the database (e.g. when importing from Excel and some cells are empty (that yields <code>null</code>) and some have empty strings). Handling it in Java or SQL code would clutter it quite&nbsp;much.</p> 
 <p>Can we expect some substitute for this in iBatis 3?</p> 
 <p>Ondra</p> 
</blockquote> 
<p>While waiting for response, I&nbsp;realized this:</p> 
<p>In case of MySQL, one can use <code>NULLIF(expr1,expr2)</code> function in <code>INSERT</code>, which returns <code>NULL</code> if <code>expr1</code> = <code>expr2</code> is true, otherwise returns <code>expr1</code>.</p> 
<pre class="brush: sql"><code>INSERT INTO table SET name = NULLIF(#name#,'');</code></pre> 
<h4><code>java.lang.InstantiationException</code> in iBatis when using java.util.Map</h4> 
<p>Exception:</p> 
<pre><code>JavaBeansDataExchange could not instantiate result class.  Cause: java.lang.InstantiationException: java.util.Map</code></pre> 
<p>SQL mapping code:</p> 
<pre class="brush: xml"><code>&lt;select id="getMatchingDluzniciForUser" parameterClass="long" resultClass="map"&gt;
SELECT * FROM table
&lt;/select&gt;</code></pre> 
<p><strong>Cause:</strong> iBatis is trying to instantiate <code>java.util.Map</code>, which is an interface, thus can't be instantiated.</p> 
<p><strong>Fix:</strong> Instead, use <code>java.util.HashMap</code> or other <code>Map</code> implementation as the result&nbsp;class.</p> 
<h4>Compiling Connector/J</h4> 
<p>If you try to compile MySQL Connector/J from the source, after resolving dependencies, you will probably end up with many compiler errors.</p> 
<p>That is because of the special way how Connector/J is compiled. Let <a href="http://www.jroller.com/mmatthews/">Mark Matthews</a> <a href="http://bugs.mysql.com/bug.php?id=38060#c176729">say&nbsp;it</a></p> 
<blockquote>
 The issue is that you can't compile Connector/J with 
 <em>just</em> JDK6, as the driver supports JDBC4 and pre-JDBC4 APIs from the same codebase, and there are new classes and methods in JDBC4 that aren't available pre-JDK6.Therefore, the way it works is that you have to set JAVA_HOME to point to JDK-1.4&nbsp;or 1.5, and then set the Ant properties „com.mysql.jdbc­.java6.javac“ with the full path to your JDK6 java compiler, and „com.mysql.jdbc­.java6.rtjar“ with the full path to your JDK6 runtime class libraries, when invoking Ant.
</blockquote> 
<h4><code>SQLException</code> for zero <code>DATETIME</code> or <code>TIMESTAMP</code> column? Use&nbsp;<code>zeroDateTimeBehavior</code></h4> 
<p>When working with MySQL over JDBC and the driver encounters a zero <code>DATE</code>, <code>TIME</code>, or <code>DATETIME</code> value (that is, e.g, ‚0000–00–00‘ for <code>DATE</code>), an exception is thrown:</p> 
<pre class="exception"><code>java.sql.SQLException: Cannot convert value '0000-00-00 00:00:00' from column 4 to TIMESTAMP.</code></pre> 
<p>In this case, using SQL commands like</p> 
<pre>SET GLOBAL sql_mode = 'NO_ZERO_DATE';</pre> 
<p>does not help much, because that works only in „strict SQL mode“, and needs to be set for every connection, or globally for the whole server.</p> 
<p>What helps is setting JDBC driver's <code>zeroDateTimeBehavior</code> property to <code>convertToNull</code>:</p> 
<blockquote> 
 <p>What should happen when the driver encounters DATETIME values that are composed entirely of zeroes (used by MySQL to represent invalid dates)? Valid values are <code>"exception"</code>, <code>"round"</code> and <code>"convertToNull"</code>.</p> 
</blockquote> 
<p>The way to set it depends on the way you configure JDBC driver. The most common case is to use connection URL parameters. In my case it&nbsp;reads:</p> 
<pre><code>jdbc:mysql://localhost/test?zeroDateTimeBehavior=convertToNull&amp;autoReconnect=true&amp;characterEncoding=UTF-8&amp;characterSetResults=UTF-8</code></pre> 
<h4><code>java</code> and <code>javaw</code> difference</h4> 
<p><a href="java_javaw_difference.texy">What's&nbsp;the difference between <code>java</code> and <code>javaw</code>?</a></p> 
<h4>N?vod: Import projektu ze SVN do NetBeans projektu</h4> 
<p>Cht?l jsem se trochu povrtat v&nbsp;projektu <a href="http://poi.apache.org/subversion.html">Apache POI</a>, ale jak pr?vodci v&nbsp;NetBeans, tak instrukce na str?nce projektu p?edpokl?daj?, ?e se SVN um?te, jak kdy? bi?em mrsk?, co? v&nbsp;m?m p??pad? bylo dote? p?esn? naopak&nbsp;:-)</p> 
<p>Proto jsem sepsal velmi stru?n? <a href="navod-svn_subversion_v_netbeans.texy">n?vod, jak do NetBeans dostat projekt ze Subversion repository</a>.</p> 
<h4>Levn? Java/JSP/J2EE hosting</h4> 
<p>Pokud hled?te levn? hosting pro svoji J2EE webovou aplikaci, mo?n? v?s&nbsp;zaujme <a href="nabidka_levny_j2ee_jsp_hosting.texy">tato nab?dka</a>.</p> 
<h4>Converting a number to Excel column character name</h4> 
<p>When working with Excel sheets, you might need to convert the column number to it's&nbsp;letter name&nbsp;– like <code>1</code> to <code>A</code>, <code>2</code> to <code>B</code>, <code>43</code> to <code>AQ</code>, etc. It's&nbsp;not as trivial as converting a number between two radixes. Here is <a href="converting_number_to_excel_column_letters_name.texy">my solution</a>.</p> 
<h4>Uz?v?ry v&nbsp;jazyce Java&nbsp;– p?es m?stn? vnit?n? t??du</h4> 
<p>P?i&nbsp;tvorb? GUI k&nbsp;jednomu syst?mu se mi zastesklo po snadnosti uz?v?r? v&nbsp;JavaScriptu. Prozkoumal jsem <a href="uzavery_v_jave_mistni_vnitrni_trida.texy">mo?nosti uz?v?r? v&nbsp;Jav?</a>.</p> 
<h4>Spring Framework&nbsp;– ?vod</h4> 
<p>P?ipravil jsem velmi stru?n? <a href="navod-spring-framework-zacatky.texy">tutori?l na rozb?h?n? jedn? ??sti Spring Frameworku, a sice Beans Factory</a>. V ?e?tin?.</p> 
<h4>Hibernate super-quick start in NetBeans</h4> 
<p>Here's&nbsp;my how-to for <a href="hibernate_netbeans_howto_tutorial.texy">starting a Hibernate project using Java Persistence API (JPA)</a>.</p> 
<p>Later, I'll write something about object-relational mapping.</p> 
<h4>Hibernate Compatibility Matrix Error</h4> 
<p>Beware of the Hibernate Compatibility Matrix at <a href="http://www.hibernate.org/6.html">http://www.hibernate.org/6.html</a>.</p> 
<p><strong>Hibernate EntityManager 3.3.2&nbsp;GA</strong> is said to be compatible with <strong>Hibernate Annotations 3.3.x</strong>. But, it is not compatible with Hibernate Annotations 3.3.0&nbsp;– only with Hibernate Annotations 3.3.1.&nbsp;This information could spare you few minutes, as it would do to me if I&nbsp;knew it&nbsp;:)</p> 
<pre><code>java.lang.NoSuchMethodError: org.hibernate.cfg.AnnotationConfiguration.addProperties(Ljava/util/Properties;)Lorg/hibernate/cfg/AnnotationConfiguration;</code></pre> 
<h4>Simplest One-line Formatter for <code>java.util.logging</code></h4> 
<p>I&nbsp;didn't like the two-line output of <code>java.util.logging.SimpleFormatter</code>. On current widescreen LCDs, whole log record can fit at a single line. So I've written <code>cz.dynawest.logging.SimplestFormatter</code>. Compare:</p> 
<pre class="log"><code>13.7.2008 0:47:10 cz.dynawest.isir.Conversion3Controller ZpracujArchiv - INFO:   Test
13.7.2008 0:47:10 cz.dynawest.isir.Conversion3Controller ZpracujArchiv - INFO:   Test2</code></pre> 
<p>vs.</p> 
<pre class="log"><code>13.7.2008 0:47:10 cz.dynawest.isir.Conversion3Controller ZpracujArchiv
INFO:   Test
13.7.2008 0:47:10 cz.dynawest.isir.Conversion3Controller ZpracujArchiv
INFO:   Test2</code></pre> 
<p>If you like it, the source code is available for <a href="download/cz.dynawest.logging.SimplestFormatter.zip">download here</a>.</p> 
<h4>Java tipy a triky</h4> 
<p>Patříte mezi programátory, kteří prvně hledají řešení na Google jako slovní úlohu a až pak studují jakékoliv API? Pak vám možná pomůže moje <a href="tipy.texy">stránka tipů pro Javu</a>. Zatím není nijak moc rozsáhlá, budu postupně doplňovat.<br> Podobných tipů a triků jsou po webu kvanta, ale ne tolik v&nbsp;češtině.</p> 
<p>//Update:// Tak nakonec stejně vše zveřejňuju v&nbsp;angličtině…</p> 
<h4>Bug in MySQL JDBC implementation&nbsp;– Connector/J</h4> 
<p>I've found a bug in <a href="http://dev.mysql.com/downloads/connector/j/5.1.html">Connector/J</a> ver. 5.1.6.&nbsp;It appears upon subsequently called <code>Connection.isValid()</code>, which uses unsynchronized threads.</p> 
<p>Reported at <a href="http://bugs.mysql.com/bug.php?id=38060&amp;thanks=2&amp;notify=3">http://bugs.mysql.com/bug.php?…</a>.</p> 
<!-- jdk_jre_64bit_not_found.texy --> 
<h4>Java Runtime Environment or Java Developement Kit not found on 64-bit&nbsp;system</h4> 
<p>I&nbsp;have 64-bit version of Windows XP and 64-bit version of JDK and JRE.<br> During instalation of jEdit, I&nbsp;got this message from the installer:</p> 
<blockquote> 
 <p>Setup was unable to find an installed Java Runtime Environment or Java Developement Kit of version 1.4, or higher. You must have installed at least JDK or JRE 1.4&nbsp;to continue&nbsp;setup.</p> 
</blockquote> 
<p>jEdit installer looks for 32-bit version of JRE. Install it alongside the 64-bit version to fix the problem.</p> 
<p>The same problem was with NetBeans installer.</p> 
<!-- texy_java_implementation.texy --> 
<h4>Texy! Java Implementation</h4> 
<p>Anyone knows about any? Please, <a href="mailto:ondra@dynawest.cz">let me know via e-mail</a>.</p> 
<p><a href="http://download.texy.info/refs.zip">Texy! syntax use cases here</a>.</p> 
<h4>Java implementace překladače Texy!</h4> 
<blockquote>
 Zdravím, 
 <p>nechtěl by někdo čirou náhodou implementovat překladač Texy v&nbsp;Javě?</p> 
 <p><a href="http://www.texy.info">www.texy.info</a></p> 
 <p>Mohlo by to být dobré téma projektu / bakalářky… Formální specifikace není, jen podle popisu syntaxe a ukázek použití…</p> 
 <p>Java komunita by vás jistě oslavovala :-)</p> Ondra
</blockquote> 
<hr> 
<blockquote> 
 <p>Autor Texy David Grudl sestavil sadu testovacích souborů, na kterých lze ověřit implementaci překladače. K&nbsp;dispozici na&nbsp;<a href="http://download.texy.info/refs.zip">http://download.texy.info/refs.zip</a></p> 
 <p>Algou a omegou původní PHP imiplementace jsou PCRE. Knihovna pro Javu, která zvládá PCRE podle Perl 5, je na <a href="http://jakarta.apache.org/oro/">http://jakarta.apache.org/oro/</a>&nbsp;.</p> 
 <p>Ondra ?i?ka</p> 
</blockquote> 
<h4>?pln? za??tky v&nbsp;Jav?</h4> 
<p>Java často začátečníka odradí relativní složitost přípravy kódu a jeho překladu do čehokoliv spustitelného (v&nbsp;roce 1998&nbsp;to byl i&nbsp;můj případ a Javou jsem se prokousal až o&nbsp;další dva roky později :-)&nbsp;.</p> 
<p>Pro ten případ jsem připravil velmi polopatický <a href="navod-java_zacatky.texy">návod, jak vytvořit zdroják v&nbsp;Javě, jak ho přeložit do souboru <code>.class</code> a jak jej spustit</a>.</p> 
<h4>J2EE&nbsp;– Java pro web</h4> 
<p>V&nbsp;poslední dobé se prokousávám světem J2EE. Je to svět rozsáhlý a nepřehledný. V&nbsp;této souvislosti uvedu jeden trefný&nbsp;citát:</p> 
<blockquote> 
 <p>Entrance to this world is a cultural conversion, not a choice of one simple programming language over another.</p> 
 <p>-- GBdirect, „Active Web Sites and Comparison of Scripting Languages“</p> 
</blockquote> 
<p>Pro kamaráda jsem začal psát <a href="navod-j2ee_uvod.texy">velmi stručný úvod</a>, aby se hned zkraje neutopil v&nbsp;záplavě tří až pětipísmenných zkratek.</p></div>

	<hr />


    <!-- Facebook comments -->
        <div class="fb-comments" data-href="http://www.zizka.ch/pages/programovani/java/index_win1250.html" data-width="800" data-numposts="5"></div>

    </div>
    <div id="push"></div>

</div>

<div id="footer">
    <div class="container">
        <p class="muted credit">&copy; 2018 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.3.7</a> | Baked with <a href="http://jbake.org">JBake v2.7.0-SNAPSHOT</a></p>
    </div>
</div>

<script src="../../../js/jquery-1.11.1.min.js"></script>
<script src="../../../js/bootstrap.min.js"></script>
<script src="../../../js/prettify.js"></script>

<!-- Facebook comments -->
<div id="fb-root"></div>
<script>
    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/cs_CZ/sdk.js#xfbml=1&version=v3.0';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4584951-4"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-4584951-4');
</script>

</body>
</html>
