<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>canvas element selection buffer - Ondřej Žižka</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="My personal web">
    <meta name="author" content="Ondřej Žižka">
    <meta name="generator" content="JBake">


    <link rel="stylesheet" href="../../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/asciidoctor.css">
    <link rel="stylesheet" href="../../../css/base.css">
    <link rel="stylesheet" href="../../../css/doc-body.css">
    <link rel="stylesheet" href="../../../css/prettify.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../../favicon.ico">
</head>
<body onload="prettyPrint()">
    <div id="wrap">

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://www.zizka.ch/">Ondřej Žižka</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../../../index.html">Blog</a></li>
            <li><a href="../../../archive.html">Archive</a></li>
            <li><a href="../../../tags">Tags</a></li>

            <li><a href="../../../about.html">About Me</a></li>
            <li><a href="../../../feed.xml">RSS feed</a></li>
            <li><a href="../../../sitemap.xml">Sitemap</a></li>
            <!--
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
            -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">

	<div class="page-header">
        <h1>canvas element selection buffer - Ondřej Žižka</h1>
	</div>

	<div class="date"><em>2012-12-13</em></div>

	<div class="doc-body"><h3><code>canvas</code> element selection buffer</h3>

<p>I wonder whether canvas element can do any kind of „selection buffer“
functionality (the name taken from OpenGL, I'm sure you know it).</p>

<p>I consider making a Populous-like isometric game in JavaScript, or better
said, using web technologies. So it would be isometric, and the cells can be at
different „floors“ and they will carry different objects (high buildings,
etc). Thus, I can not determine the selected cell/object from the position of
the mouse using just some math – I need to store what each pixel or DOM
object represents.</p>

<ul>
	<li>OpenGL has per-pixel selection buffer.</li>

	<li>HTML offers <code>&lt;img&gt;</code> + <code>&lt;map&gt;</code> layer over
	my game rendered in a <code>&lt;div&gt;</code>.</li>

	<li>SVG offers events on the respective DOM objects.</li>
</ul>

<p>Does <code>&lt;canvas&gt;</code> offer something? I haven't found anything
in the docs at Mozilla and the fact that "":<a
href="http://blog.nihilogic.dk">http://blog.nihilogic.dk</a> also uses keyboard
selection in <a href="http://blog.nihilogic.dk/search/label/chess">Javascript 3D
chess</a> also hints that he hasn't found such thing.</p>

<p>Thanks for any tips (<a
href="mailto:ondra&#64;dynawest.cz">ondra&#64;<!-- -->dynawest.cz</a>).</p>

<h4>Update – Jacob Seidelin</h4>

<p>Napsal jsem Jacobovi Seidelinovi, který si s <code>&lt;canvas&gt;</code>em
opravdu vyhraje. (Omlouvám se za redundantnost, ale nemám čas to moc
editovat.)</p>

<blockquote>
	<p>Hello Jacob,</p>

	<p>I wonder whether canvas element can do any kind of „selection buffer“
	functionality (the name taken from OpenGL, I'm sure you know it).</p>

	<p>I consider making a Populous-like isometric game in JavaScript, or better
	said, using web technologies. So it would be isometric, and the cells can be at
	different „floors“ and they will carry different objects (high buildings,
	etc). Thus, I can not determine the selected cell/object from the position of
	the mouse using just some math – I need to store what each pixel or DOM
	object represents.</p>
	OpenGL has per-pixel selection buffer. HTML offers &lt;img&gt; +<map>
	<div>. SVG offers events on the respective DOM objects. Does <canvas> offer
	something? I haven't found anything in the docs at Mozilla and your chess
	keyboard selection also hint's that you haven't found such thing.</canvas>
		<p>Thanks for any help, Ondra</p>
	</div>
	</map></blockquote>

<hr />

<blockquote>
	<p>Hey Ondra,</p>

	<p>No, there's no such thing for <canvas> that I'm aware of, unfortunately.
	I guess you'll have to cook your own thing for that purpose. And yes, the chess
	keyboard controls were a response to exactly that :-)</canvas></p>

	<p>Although, if you can describe your areas as polygons or paths, I think
	there's a isPointInPath() method you could use, although I haven't touched it
	yet myself. I imagine you'd have to go through all objects, set up a path and
	check at every mousemove „frame“, though.</p>
</blockquote>

<blockquote>
	<p>Cheers, Jacob</p>
</blockquote>

<p>Takže zatím asi nic. Zvažuji podání feature requestu, jestli již někdo
něco takového nenavrhnul či se dokonce nechystá.</p>
</div>

	<hr />


    <!-- Facebook comments -->
        <div class="fb-comments" data-href="http://www.zizka.ch/pages/programovani/web_javascript_ajax_canvas/canvas_element_selection_buffer.cz.html" data-width="800" data-numposts="5"></div>

    </div>
    <div id="push"></div>

</div>

<div id="footer">
    <div class="container">
        <p class="muted credit">&copy; 2018 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.3.7</a> | Baked with <a href="http://jbake.org">JBake v2.7.0-SNAPSHOT</a></p>
    </div>
</div>

<script src="../../../js/jquery-1.11.1.min.js"></script>
<script src="../../../js/bootstrap.min.js"></script>
<script src="../../../js/prettify.js"></script>

<!-- Facebook comments -->
<div id="fb-root"></div>
<script>
    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = 'https://connect.facebook.net/cs_CZ/sdk.js#xfbml=1&version=v3.0';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4584951-4"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-4584951-4');
</script>

</body>
</html>
